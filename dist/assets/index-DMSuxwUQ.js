import{r as e,a as t,u as n,L as r,b as a,c as s,d as i,B as l,R as o,e as c,N as u}from"./react-vendor-Bo-2WSjE.js";import{c as d}from"./supabase-vendor-BwOHF4FP.js";import{C as m,a as p,B as f,P as h,b as g,T as v,D as b,c as x,S as j,d as y,I as N,M as S,X as _,e as w,f as C,g as k,h as E,i as A,L as T,K as z,j as P,k as R,E as L,F as I,U as F,l as D,m as M,n as O,o as U,p as B,q,r as $,s as V,t as G,u as H,v as K,w as Q,x as W,H as X,y as Y,z as J,A as Z,G as ee,J as te,N as ne,O as re,Q as ae,R as se,V as ie,W as le,Y as oe,Z as ce,_ as ue,$ as de,a0 as me,a1 as pe,a2 as fe,a3 as he,a4 as ge,a5 as ve,a6 as be,a7 as xe,a8 as je,a9 as ye,aa as Ne,ab as Se,ac as _e,ad as we,ae as Ce,af as ke,ag as Ee,ah as Ae,ai as Te,aj as ze,ak as Pe,al as Re,am as Le,an as Ie,ao as Fe,ap as De,aq as Me,ar as Oe,as as Ue,at as Be,au as qe,av as $e}from"./utils-vendor-BE87tKoN.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Ve={exports:{}},Ge={},He=Symbol.for("react.transitional.element"),Ke=Symbol.for("react.fragment");function Qe(e,t,n){var r=null;if(void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),"key"in t)for(var a in n={},t)"key"!==a&&(n[a]=t[a]);else n=t;return t=n.ref,{$$typeof:He,type:e,key:r,ref:void 0!==t?t:null,props:n}}Ge.Fragment=Ke,Ge.jsx=Qe,Ge.jsxs=Qe,Ve.exports=Ge;var We=Ve.exports,Xe={exports:{}},Ye={},Je={exports:{}},Ze={};
/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var l=2*(r+1)-1,o=e[l],c=l+1,u=e[c];if(0>a(o,n))c<s&&0>a(u,o)?(e[r]=u,e[c]=n,r=c):(e[r]=o,e[l]=n,r=l);else{if(!(c<s&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var o=[],c=[],u=1,d=null,m=3,p=!1,f=!1,h=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function j(e){for(var a=n(c);null!==a;){if(null===a.callback)r(c);else{if(!(a.startTime<=e))break;r(c),a.sortIndex=a.expirationTime,t(o,a)}a=n(c)}}function y(e){if(h=!1,j(e),!f)if(null!==n(o))f=!0,S||(S=!0,N());else{var t=n(c);null!==t&&z(y,t.startTime-e)}}var N,S=!1,_=-1,w=5,C=-1;function k(){return!!g||!(e.unstable_now()-C<w)}function E(){if(g=!1,S){var t=e.unstable_now();C=t;var a=!0;try{e:{f=!1,h&&(h=!1,b(_),_=-1),p=!0;var s=m;try{t:{for(j(t),d=n(o);null!==d&&!(d.expirationTime>t&&k());){var i=d.callback;if("function"==typeof i){d.callback=null,m=d.priorityLevel;var l=i(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof l){d.callback=l,j(t),a=!0;break t}d===n(o)&&r(o),j(t)}else r(o);d=n(o)}if(null!==d)a=!0;else{var u=n(c);null!==u&&z(y,u.startTime-t),a=!1}}break e}finally{d=null,m=s,p=!1}a=void 0}}finally{a?N():S=!1}}}if("function"==typeof x)N=function(){x(E)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,T=A.port2;A.port1.onmessage=E,N=function(){T.postMessage(null)}}else N=function(){v(E,0)};function z(t,n){_=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},e.unstable_scheduleCallback=function(r,a,s){var i=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?i+s:i:s=i,r){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return r={id:u++,callback:a,priorityLevel:r,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(r.sortIndex=s,t(c,r),null===n(o)&&r===n(c)&&(h?(b(_),_=-1):h=!0,z(y,s-i))):(r.sortIndex=l,t(o,r),f||p||(f=!0,S||(S=!0,N()))),r},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}}(Ze),Je.exports=Ze;var et=Je.exports,tt=e,nt=t;
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function rt(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function at(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function st(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function it(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function lt(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ot(e){if(st(e)!==e)throw Error(rt(188))}function ct(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=ct(e)))return t;e=e.sibling}return null}var ut=Object.assign,dt=Symbol.for("react.element"),mt=Symbol.for("react.transitional.element"),pt=Symbol.for("react.portal"),ft=Symbol.for("react.fragment"),ht=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),bt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),jt=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),Nt=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),_t=Symbol.for("react.activity"),wt=Symbol.for("react.memo_cache_sentinel"),Ct=Symbol.iterator;function kt(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Ct&&e[Ct]||e["@@iterator"])?e:null}var Et=Symbol.for("react.client.reference");function At(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===Et?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ft:return"Fragment";case gt:return"Profiler";case ht:return"StrictMode";case jt:return"Suspense";case yt:return"SuspenseList";case _t:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case pt:return"Portal";case bt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case xt:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Nt:return null!==(t=e.displayName||null)?t:At(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return At(e(t))}catch(n){}}return null}var Tt=Array.isArray,zt=tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pt=nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},Lt=[],It=-1;function Ft(e){return{current:e}}function Dt(e){0>It||(e.current=Lt[It],Lt[It]=null,It--)}function Mt(e,t){It++,Lt[It]=e.current,e.current=t}var Ot,Ut,Bt=Ft(null),qt=Ft(null),$t=Ft(null),Vt=Ft(null);function Gt(e,t){switch(Mt($t,t),Mt(qt,e),Mt(Bt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=hp(t=fp(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Dt(Bt),Mt(Bt,e)}function Ht(){Dt(Bt),Dt(qt),Dt($t)}function Kt(e){null!==e.memoizedState&&Mt(Vt,e);var t=Bt.current,n=hp(t,e.type);t!==n&&(Mt(qt,e),Mt(Bt,n))}function Qt(e){qt.current===e&&(Dt(Bt),Dt(qt)),Vt.current===e&&(Dt(Vt),of._currentValue=Rt)}function Wt(e){if(void 0===Ot)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ot=t&&t[1]||"",Ut=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ot+e+Ut}var Xt=!1;function Yt(e,t){if(!e||Xt)return"";Xt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&r&&"string"==typeof l.stack)return[l.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],l=s[1];if(i&&l){var o=i.split("\n"),c=l.split("\n");for(a=r=0;r<o.length&&!o[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===o.length||a===c.length)for(r=o.length-1,a=c.length-1;1<=r&&0<=a&&o[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(o[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||o[r]!==c[a]){var u="\n"+o[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{Xt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Wt(n):""}function Jt(e,t){switch(e.tag){case 26:case 27:case 5:return Wt(e.type);case 16:return Wt("Lazy");case 13:return e.child!==t&&null!==t?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return Yt(e.type,!1);case 11:return Yt(e.type.render,!1);case 1:return Yt(e.type,!0);case 31:return Wt("Activity");default:return""}}function Zt(e){try{var t="",n=null;do{t+=Jt(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var en=Object.prototype.hasOwnProperty,tn=et.unstable_scheduleCallback,nn=et.unstable_cancelCallback,rn=et.unstable_shouldYield,an=et.unstable_requestPaint,sn=et.unstable_now,ln=et.unstable_getCurrentPriorityLevel,on=et.unstable_ImmediatePriority,cn=et.unstable_UserBlockingPriority,un=et.unstable_NormalPriority,dn=et.unstable_LowPriority,mn=et.unstable_IdlePriority,pn=et.log,fn=et.unstable_setDisableYieldValue,hn=null,gn=null;function vn(e){if("function"==typeof pn&&fn(e),gn&&"function"==typeof gn.setStrictMode)try{gn.setStrictMode(hn,e)}catch(t){}}var bn=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xn(e)/jn|0)|0},xn=Math.log,jn=Math.LN2;var yn=256,Nn=262144,Sn=4194304;function _n(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wn(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var l=134217727&r;return 0!==l?0!==(r=l&~s)?a=_n(r):0!==(i&=l)?a=_n(i):n||0!==(n=l&~e)&&(a=_n(n)):0!==(l=r&~s)?a=_n(l):0!==i?a=_n(i):n||0!==(n=r&~e)&&(a=_n(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&4194048&n)?t:a}function Cn(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function kn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function En(){var e=Sn;return!(62914560&(Sn<<=1))&&(Sn=4194304),e}function An(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tn(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zn(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-bn(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Pn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Rn(e,t){var n=t&-t;return 0!==((n=42&n?1:Ln(n))&(e.suspendedLanes|t))?0:n}function Ln(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function In(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Fn(){var e=Pt.p;return 0!==e?e:void 0===(e=window.event)?32:_f(e.type)}function Dn(e,t){var n=Pt.p;try{return Pt.p=e,t()}finally{Pt.p=n}}var Mn=Math.random().toString(36).slice(2),On="__reactFiber$"+Mn,Un="__reactProps$"+Mn,Bn="__reactContainer$"+Mn,qn="__reactEvents$"+Mn,$n="__reactListeners$"+Mn,Vn="__reactHandles$"+Mn,Gn="__reactResources$"+Mn,Hn="__reactMarker$"+Mn;function Kn(e){delete e[On],delete e[Un],delete e[qn],delete e[$n],delete e[Vn]}function Qn(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bn]||n[On]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Rp(e);null!==e;){if(n=e[On])return n;e=Rp(e)}return t}n=(e=n).parentNode}return null}function Wn(e){if(e=e[On]||e[Bn]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xn(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(rt(33))}function Yn(e){var t=e[Gn];return t||(t=e[Gn]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Jn(e){e[Hn]=!0}var Zn=new Set,er={};function tr(e,t){nr(e,t),nr(e+"Capture",t)}function nr(e,t){for(er[e]=t,e=0;e<t.length;e++)Zn.add(t[e])}var rr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ar={},sr={};function ir(e,t,n){if(a=t,en.call(sr,a)||!en.call(ar,a)&&(rr.test(a)?sr[a]=!0:(ar[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function lr(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function or(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function cr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ur(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dr(e){if(!e._valueTracker){var t=ur(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function mr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ur(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pr(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var fr=/[\n"\\]/g;function hr(e){return e.replace(fr,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gr(e,t,n,r,a,s,i,l){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+cr(t)):e.value!==""+cr(t)&&(e.value=""+cr(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?br(e,i,cr(t)):null!=n?br(e,i,cr(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!=typeof a&&"symbol"!=typeof a),null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.name=""+cr(l):e.removeAttribute("name")}function vr(e,t,n,r,a,s,i,l){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return void dr(e);n=null!=n?""+cr(n):"",t=null!=t?""+cr(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:a)&&"symbol"!=typeof r&&!!r,e.checked=l?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i),dr(e)}function br(e,t,n){"number"===t&&pr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xr(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cr(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function jr(e,t,n){null==t||((t=""+cr(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+cr(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function yr(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(rt(92));if(Tt(r)){if(1<r.length)throw Error(rt(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=cr(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),dr(e)}function Nr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Sr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _r(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Sr.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function wr(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(rt(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&_r(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&_r(e,s,t[s])}function Cr(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ar(e){return Er.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tr(){}var zr=null;function Pr(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rr=null,Lr=null;function Ir(e){var t=Wn(e);if(t&&(e=t.stateNode)){var n=e[Un]||null;e:switch(e=t.stateNode,t.type){case"input":if(gr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+hr(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Un]||null;if(!a)throw Error(rt(90));gr(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mr(r)}break e;case"textarea":jr(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xr(e,!!n.multiple,t,!1)}}}var Fr=!1;function Dr(e,t,n){if(Fr)return e(t,n);Fr=!0;try{return e(t)}finally{if(Fr=!1,(null!==Rr||null!==Lr)&&(Xd(),Rr&&(t=Rr,e=Lr,Lr=Rr=null,Ir(t),e)))for(t=0;t<e.length;t++)Ir(e[t])}}function Mr(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Un]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(rt(231,t,typeof n));return n}var Or=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ur=!1;if(Or)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch(kg){Ur=!1}var qr=null,$r=null,Vr=null;function Gr(){if(Vr)return Vr;var e,t,n=$r,r=n.length,a="value"in qr?qr.value:qr.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Vr=a.slice(e,1<t?1-t:void 0)}function Hr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kr(){return!0}function Qr(){return!1}function Wr(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kr:Qr,this.isPropagationStopped=Qr,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var Xr,Yr,Jr,Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Wr(Zr),ta=ut({},Zr,{view:0,detail:0}),na=Wr(ta),ra=ut({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&"mousemove"===e.type?(Xr=e.screenX-Jr.screenX,Yr=e.screenY-Jr.screenY):Yr=Xr=0,Jr=e),Xr)},movementY:function(e){return"movementY"in e?e.movementY:Yr}}),aa=Wr(ra),sa=Wr(ut({},ra,{dataTransfer:0})),ia=Wr(ut({},ta,{relatedTarget:0})),la=Wr(ut({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0})),oa=Wr(ut({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ca=Wr(ut({},Zr,{data:0})),ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},da={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ma={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ma[e])&&!!t[e]}function fa(){return pa}var ha=Wr(ut({},ta,{key:function(e){if(e.key){var t=ua[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Hr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?da[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(e){return"keypress"===e.type?Hr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Hr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),ga=Wr(ut({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),va=Wr(ut({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa})),ba=Wr(ut({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0})),xa=Wr(ut({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),ja=Wr(ut({},Zr,{newState:0,oldState:0})),ya=[9,13,27,32],Na=Or&&"CompositionEvent"in window,Sa=null;Or&&"documentMode"in document&&(Sa=document.documentMode);var _a=Or&&"TextEvent"in window&&!Sa,wa=Or&&(!Na||Sa&&8<Sa&&11>=Sa),Ca=String.fromCharCode(32),ka=!1;function Ea(e,t){switch(e){case"keyup":return-1!==ya.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ta=!1;var za={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!za[e.type]:"textarea"===t}function Ra(e,t,n,r){Rr?Lr?Lr.push(r):Lr=[r]:Rr=r,0<(t=ep(t,"onChange")).length&&(n=new ea("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var La=null,Ia=null;function Fa(e){Hm(e,0)}function Da(e){if(mr(Xn(e)))return e}function Ma(e,t){if("change"===e)return t}var Oa=!1;if(Or){var Ua;if(Or){var Ba="oninput"in document;if(!Ba){var qa=document.createElement("div");qa.setAttribute("oninput","return;"),Ba="function"==typeof qa.oninput}Ua=Ba}else Ua=!1;Oa=Ua&&(!document.documentMode||9<document.documentMode)}function $a(){La&&(La.detachEvent("onpropertychange",Va),Ia=La=null)}function Va(e){if("value"===e.propertyName&&Da(Ia)){var t=[];Ra(t,Ia,e,Pr(e)),Dr(Fa,t)}}function Ga(e,t,n){"focusin"===e?($a(),Ia=n,(La=t).attachEvent("onpropertychange",Va)):"focusout"===e&&$a()}function Ha(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Da(Ia)}function Ka(e,t){if("click"===e)return Da(t)}function Qa(e,t){if("input"===e||"change"===e)return Da(t)}var Wa="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xa(e,t){if(Wa(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!en.call(t,a)||!Wa(e[a],t[a]))return!1}return!0}function Ya(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ja(e,t){var n,r=Ya(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ya(r)}}function Za(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Za(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function es(e){for(var t=pr((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pr((e=t.contentWindow).document)}return t}function ts(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ns=Or&&"documentMode"in document&&11>=document.documentMode,rs=null,as=null,ss=null,is=!1;function ls(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;is||null==rs||rs!==pr(r)||("selectionStart"in(r=rs)&&ts(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ss&&Xa(ss,r)||(ss=r,0<(r=ep(as,"onSelect")).length&&(t=new ea("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rs)))}function os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cs={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},us={},ds={};function ms(e){if(us[e])return us[e];if(!cs[e])return e;var t,n=cs[e];for(t in n)if(n.hasOwnProperty(t)&&t in ds)return us[e]=n[t];return e}Or&&(ds=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);var ps=ms("animationend"),fs=ms("animationiteration"),hs=ms("animationstart"),gs=ms("transitionrun"),vs=ms("transitionstart"),bs=ms("transitioncancel"),xs=ms("transitionend"),js=new Map,ys="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(e,t){js.set(e,t),tr(t,[e])}ys.push("scrollEnd");var Ss="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},_s=[],ws=0,Cs=0;function ks(){for(var e=ws,t=Cs=ws=0;t<e;){var n=_s[t];_s[t++]=null;var r=_s[t];_s[t++]=null;var a=_s[t];_s[t++]=null;var s=_s[t];if(_s[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&zs(n,a,s)}}function Es(e,t,n,r){_s[ws++]=e,_s[ws++]=t,_s[ws++]=n,_s[ws++]=r,Cs|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function As(e,t,n,r){return Es(e,t,n,r),Ps(e)}function Ts(e,t){return Es(e,null,null,t),Ps(e)}function zs(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-bn(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function Ps(e){if(50<Bd)throw Bd=0,qd=null,Error(rt(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rs={};function Ls(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(e,t,n,r){return new Ls(e,t,n,r)}function Fs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ds(e,t){var n=e.alternate;return null===n?((n=Is(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ms(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Os(e,t,n,r,a,s){var i=0;if(r=e,"function"==typeof e)Fs(e)&&(i=1);else if("string"==typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,Bt.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case _t:return(e=Is(31,n,t,a)).elementType=_t,e.lanes=s,e;case ft:return Us(n.children,a,s,t);case ht:i=8,a|=24;break;case gt:return(e=Is(12,n,t,2|a)).elementType=gt,e.lanes=s,e;case jt:return(e=Is(13,n,t,a)).elementType=jt,e.lanes=s,e;case yt:return(e=Is(19,n,t,a)).elementType=yt,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case bt:i=10;break e;case vt:i=9;break e;case xt:i=11;break e;case Nt:i=14;break e;case St:i=16,r=null;break e}i=29,n=Error(rt(130,null===e?"null":typeof e,"")),r=null}return(t=Is(i,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Us(e,t,n,r){return(e=Is(7,e,r,t)).lanes=n,e}function Bs(e,t,n){return(e=Is(6,e,null,t)).lanes=n,e}function qs(e){var t=Is(18,null,null,0);return t.stateNode=e,t}function $s(e,t,n){return(t=Is(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vs=new WeakMap;function Gs(e,t){if("object"==typeof e&&null!==e){var n=Vs.get(e);return void 0!==n?n:(t={value:e,source:t,stack:Zt(t)},Vs.set(e,t),t)}return{value:e,source:t,stack:Zt(t)}}var Hs=[],Ks=0,Qs=null,Ws=0,Xs=[],Ys=0,Js=null,Zs=1,ei="";function ti(e,t){Hs[Ks++]=Ws,Hs[Ks++]=Qs,Qs=e,Ws=t}function ni(e,t,n){Xs[Ys++]=Zs,Xs[Ys++]=ei,Xs[Ys++]=Js,Js=e;var r=Zs;e=ei;var a=32-bn(r)-1;r&=~(1<<a),n+=1;var s=32-bn(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Zs=1<<32-bn(t)+a|n<<a|r,ei=s+e}else Zs=1<<s|n<<a|r,ei=e}function ri(e){null!==e.return&&(ti(e,1),ni(e,1,0))}function ai(e){for(;e===Qs;)Qs=Hs[--Ks],Hs[Ks]=null,Ws=Hs[--Ks],Hs[Ks]=null;for(;e===Js;)Js=Xs[--Ys],Xs[Ys]=null,ei=Xs[--Ys],Xs[Ys]=null,Zs=Xs[--Ys],Xs[Ys]=null}function si(e,t){Xs[Ys++]=Zs,Xs[Ys++]=ei,Xs[Ys++]=Js,Zs=t.id,ei=t.overflow,Js=e}var ii=null,li=null,oi=!1,ci=null,ui=!1,di=Error(rt(519));function mi(e){throw bi(Gs(Error(rt(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),di}function pi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[On]=e,t[Un]=r,n){case"dialog":Km("cancel",t),Km("close",t);break;case"iframe":case"object":case"embed":Km("load",t);break;case"video":case"audio":for(n=0;n<Vm.length;n++)Km(Vm[n],t);break;case"source":Km("error",t);break;case"img":case"image":case"link":Km("error",t),Km("load",t);break;case"details":Km("toggle",t);break;case"input":Km("invalid",t),vr(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Km("invalid",t);break;case"textarea":Km("invalid",t),yr(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ip(t.textContent,n)?(null!=r.popover&&(Km("beforetoggle",t),Km("toggle",t)),null!=r.onScroll&&Km("scroll",t),null!=r.onScrollEnd&&Km("scrollend",t),null!=r.onClick&&(t.onclick=Tr),t=!0):t=!1,t||mi(e,!0)}function fi(e){for(ii=e.return;ii;)switch(ii.tag){case 5:case 31:case 13:return void(ui=!1);case 27:case 3:return void(ui=!0);default:ii=ii.return}}function hi(e){if(e!==ii)return!1;if(!oi)return fi(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||gp(e.type,e.memoizedProps)),t=!t),t&&li&&mi(e),fi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(rt(317));li=Pp(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(rt(317));li=Pp(e)}else 27===n?(n=li,Sp(e.type)?(e=zp,zp=null,li=e):li=n):li=ii?Tp(e.stateNode.nextSibling):null;return!0}function gi(){li=ii=null,oi=!1}function vi(){var e=ci;return null!==e&&(null===kd?kd=e:kd.push.apply(kd,e),ci=null),e}function bi(e){null===ci?ci=[e]:ci.push(e)}var xi=Ft(null),ji=null,yi=null;function Ni(e,t,n){Mt(xi,t._currentValue),t._currentValue=n}function Si(e){e._currentValue=xi.current,Dt(xi)}function _i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wi(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var i=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var o=0;o<t.length;o++)if(l.context===t[o]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_i(s.return,n,e),r||(i=null);break e}s=l.next}}else if(18===a.tag){if(null===(i=a.return))throw Error(rt(341));i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),_i(i,n,e),i=null}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===e){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}}function Ci(e,t,n,r){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(524288&a.flags)s=!0;else if(262144&a.flags)break;if(10===a.tag){var i=a.alternate;if(null===i)throw Error(rt(387));if(null!==(i=i.memoizedProps)){var l=a.type;Wa(a.pendingProps.value,i.value)||(null!==e?e.push(l):e=[l])}}else if(a===Vt.current){if(null===(i=a.alternate))throw Error(rt(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(of):e=[of])}a=a.return}null!==e&&wi(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!Wa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ei(e){ji=e,yi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ai(e){return zi(ji,e)}function Ti(e,t){return null===ji&&Ei(e),zi(e,t)}function zi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yi){if(null===e)throw Error(rt(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return n}var Pi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ri=et.unstable_scheduleCallback,Li=et.unstable_NormalPriority,Ii={$$typeof:bt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new Pi,data:new Map,refCount:0}}function Di(e){e.refCount--,0===e.refCount&&Ri(Li,function(){e.controller.abort()})}var Mi=null,Oi=0,Ui=0,Bi=null;function qi(){if(0===--Oi&&null!==Mi){null!==Bi&&(Bi.status="fulfilled");var e=Mi;Mi=null,Ui=0,Bi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $i=zt.S;zt.S=function(e,t){Td=sn(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Mi){var n=Mi=[];Oi=0,Ui=Om(),Bi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Oi++,t.then(qi,qi)}(0,t),null!==$i&&$i(e,t)};var Vi=Ft(null);function Gi(){var e=Vi.current;return null!==e?e:dd.pooledCache}function Hi(e,t){Mt(Vi,null===t?Vi.current:t.pool)}function Ki(){var e=Gi();return null===e?null:{parent:Ii._currentValue,pool:e}}var Qi=Error(rt(460)),Wi=Error(rt(474)),Xi=Error(rt(542)),Yi={then:function(){}};function Ji(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Tr,Tr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw rl(e=t.reason),e;default:if("string"==typeof t.status)t.then(Tr,Tr);else{if(null!==(e=dd)&&100<e.shellSuspendCounter)throw Error(rt(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw rl(e=t.reason),e}throw tl=t,Qi}}function el(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw tl=t,Qi;throw t}}var tl=null;function nl(){if(null===tl)throw Error(rt(459));var e=tl;return tl=null,e}function rl(e){if(e===Qi||e===Xi)throw Error(rt(483))}var al=null,sl=0;function il(e){var t=sl;return sl+=1,null===al&&(al=[]),Zi(al,e,t)}function ll(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ol(e,t){if(t.$$typeof===dt)throw Error(rt(525));throw e=Object.prototype.toString.call(t),Error(rt(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cl(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Ds(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bs(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function o(e,t,n,r){var s=n.type;return s===ft?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===St&&el(s)===t.type)?(ll(t=a(t,n.props),n),t.return=e,t):(ll(t=Os(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$s(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Us(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Bs(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case mt:return ll(n=Os(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case pt:return(t=$s(t,e.mode,n)).return=e,t;case St:return d(e,t=el(t),n)}if(Tt(t)||kt(t))return(t=Us(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return d(e,il(t),n);if(t.$$typeof===bt)return d(e,Ti(e,t),n);ol(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==a?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case mt:return n.key===a?o(e,t,n,r):null;case pt:return n.key===a?c(e,t,n,r):null;case St:return m(e,t,n=el(n),r)}if(Tt(n)||kt(n))return null!==a?null:u(e,t,n,r,null);if("function"==typeof n.then)return m(e,t,il(n),r);if(n.$$typeof===bt)return m(e,t,Ti(e,n),r);ol(e,n)}return null}function p(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case mt:return o(t,e=e.get(null===r.key?n:r.key)||null,r,a);case pt:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case St:return p(e,t,n,r=el(r),a)}if(Tt(r)||kt(r))return u(t,e=e.get(n)||null,r,a,null);if("function"==typeof r.then)return p(e,t,n,il(r),a);if(r.$$typeof===bt)return p(e,t,n,Ti(t,r),a);ol(t,r)}return null}function f(l,o,c,u){if("object"==typeof c&&null!==c&&c.type===ft&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case mt:e:{for(var h=c.key;null!==o;){if(o.key===h){if((h=c.type)===ft){if(7===o.tag){n(l,o.sibling),(u=a(o,c.props.children)).return=l,l=u;break e}}else if(o.elementType===h||"object"==typeof h&&null!==h&&h.$$typeof===St&&el(h)===o.type){n(l,o.sibling),ll(u=a(o,c.props),c),u.return=l,l=u;break e}n(l,o);break}t(l,o),o=o.sibling}c.type===ft?((u=Us(c.props.children,l.mode,u,c.key)).return=l,l=u):(ll(u=Os(c.type,c.key,c.props,null,l.mode,u),c),u.return=l,l=u)}return i(l);case pt:e:{for(h=c.key;null!==o;){if(o.key===h){if(4===o.tag&&o.stateNode.containerInfo===c.containerInfo&&o.stateNode.implementation===c.implementation){n(l,o.sibling),(u=a(o,c.children||[])).return=l,l=u;break e}n(l,o);break}t(l,o),o=o.sibling}(u=$s(c,l.mode,u)).return=l,l=u}return i(l);case St:return f(l,o,c=el(c),u)}if(Tt(c))return function(a,i,l,o){for(var c=null,u=null,f=i,h=i=0,g=null;null!==f&&h<l.length;h++){f.index>h?(g=f,f=null):g=f.sibling;var v=m(a,f,l[h],o);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(a,f),i=s(v,i,h),null===u?c=v:u.sibling=v,u=v,f=g}if(h===l.length)return n(a,f),oi&&ti(a,h),c;if(null===f){for(;h<l.length;h++)null!==(f=d(a,l[h],o))&&(i=s(f,i,h),null===u?c=f:u.sibling=f,u=f);return oi&&ti(a,h),c}for(f=r(f);h<l.length;h++)null!==(g=p(f,a,h,l[h],o))&&(e&&null!==g.alternate&&f.delete(null===g.key?h:g.key),i=s(g,i,h),null===u?c=g:u.sibling=g,u=g);return e&&f.forEach(function(e){return t(a,e)}),oi&&ti(a,h),c}(l,o,c,u);if(kt(c)){if("function"!=typeof(h=kt(c)))throw Error(rt(150));return function(a,i,l,o){if(null==l)throw Error(rt(151));for(var c=null,u=null,f=i,h=i=0,g=null,v=l.next();null!==f&&!v.done;h++,v=l.next()){f.index>h?(g=f,f=null):g=f.sibling;var b=m(a,f,v.value,o);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(a,f),i=s(b,i,h),null===u?c=b:u.sibling=b,u=b,f=g}if(v.done)return n(a,f),oi&&ti(a,h),c;if(null===f){for(;!v.done;h++,v=l.next())null!==(v=d(a,v.value,o))&&(i=s(v,i,h),null===u?c=v:u.sibling=v,u=v);return oi&&ti(a,h),c}for(f=r(f);!v.done;h++,v=l.next())null!==(v=p(f,a,h,v.value,o))&&(e&&null!==v.alternate&&f.delete(null===v.key?h:v.key),i=s(v,i,h),null===u?c=v:u.sibling=v,u=v);return e&&f.forEach(function(e){return t(a,e)}),oi&&ti(a,h),c}(l,o,c=h.call(c),u)}if("function"==typeof c.then)return f(l,o,il(c),u);if(c.$$typeof===bt)return f(l,o,Ti(l,c),u);ol(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==o&&6===o.tag?(n(l,o.sibling),(u=a(o,c)).return=l,l=u):(n(l,o),(u=Bs(c,l.mode,u)).return=l,l=u),i(l)):n(l,o)}return function(e,t,n,r){try{sl=0;var a=f(e,t,n,r);return al=null,a}catch(i){if(i===Qi||i===Xi)throw i;var s=Is(29,i,null,e.mode);return s.lanes=r,s.return=e,s}}}var ul=cl(!0),dl=cl(!1),ml=!1;function pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function gl(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ud){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Ps(e),zs(e,null,n),t}return Es(e,r,t,n),Ps(e)}function vl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pn(e,n)}}function bl(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var xl=!1;function jl(){if(xl){if(null!==Bi)throw Bi}}function yl(e,t,n,r){xl=!1;var a=e.updateQueue;ml=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(null!==s){var d=a.baseState;for(i=0,u=c=o=null,l=s;;){var m=-536870913&l.lane,p=m!==l.lane;if(p?(pd&m)===m:(r&m)===m){0!==m&&m===Ui&&(xl=!0),null!==u&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var f=e,h=l;m=t;var g=n;switch(h.tag){case 1:if("function"==typeof(f=h.payload)){d=f.call(g,d,m);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(m="function"==typeof(f=h.payload)?f.call(g,d,m):f))break e;d=ut({},d,m);break e;case 2:ml=!0}}null!==(m=l.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[m]:p.push(m))}else p={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=p,o=d):u=u.next=p,i|=m;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(p=l).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(o=d),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),yd|=i,e.lanes=i,e.memoizedState=d}}function Nl(e,t){if("function"!=typeof e)throw Error(rt(191,e));e.call(t)}function Sl(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Nl(n[e],t)}var _l=Ft(null),wl=Ft(0);function Cl(e,t){Mt(wl,e=xd),Mt(_l,t),xd=e|t.baseLanes}function kl(){Mt(wl,xd),Mt(_l,_l.current)}function El(){xd=wl.current,Dt(_l),Dt(wl)}var Al=Ft(null),Tl=null;function zl(e){var t=e.alternate;Mt(Fl,1&Fl.current),Mt(Al,e),null===Tl&&(null===t||null!==_l.current||null!==t.memoizedState)&&(Tl=e)}function Pl(e){Mt(Fl,Fl.current),Mt(Al,e),null===Tl&&(Tl=e)}function Rl(e){22===e.tag?(Mt(Fl,Fl.current),Mt(Al,e),null===Tl&&(Tl=e)):Ll()}function Ll(){Mt(Fl,Fl.current),Mt(Al,Al.current)}function Il(e){Dt(Al),Tl===e&&(Tl=null),Dt(Fl)}var Fl=Ft(0);function Dl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ep(n)||Ap(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=0,Ol=null,Ul=null,Bl=null,ql=!1,$l=!1,Vl=!1,Gl=0,Hl=0,Kl=null,Ql=0;function Wl(){throw Error(rt(321))}function Xl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wa(e[n],t[n]))return!1;return!0}function Yl(e,t,n,r,a,s){return Ml=s,Ol=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zt.H=null===e||null===e.memoizedState?pc:fc,Vl=!1,s=n(r,a),Vl=!1,$l&&(s=Zl(t,n,r,a)),Jl(e),s}function Jl(e){zt.H=mc;var t=null!==Ul&&null!==Ul.next;if(Ml=0,Bl=Ul=Ol=null,ql=!1,Hl=0,Kl=null,t)throw Error(rt(300));null===e||Tc||null!==(e=e.dependencies)&&ki(e)&&(Tc=!0)}function Zl(e,t,n,r){Ol=e;var a=0;do{if($l&&(Kl=null),Hl=0,$l=!1,25<=a)throw Error(rt(301));if(a+=1,Bl=Ul=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}zt.H=hc,s=t(n,r)}while($l);return s}function eo(){var e=zt.H,t=e.useState()[0];return t="function"==typeof t.then?io(t):t,e=e.useState()[0],(null!==Ul?Ul.memoizedState:null)!==e&&(Ol.flags|=1024),t}function to(){var e=0!==Gl;return Gl=0,e}function no(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ro(e){if(ql){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ql=!1}Ml=0,Bl=Ul=Ol=null,$l=!1,Hl=Gl=0,Kl=null}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Bl?Ol.memoizedState=Bl=e:Bl=Bl.next=e,Bl}function so(){if(null===Ul){var e=Ol.alternate;e=null!==e?e.memoizedState:null}else e=Ul.next;var t=null===Bl?Ol.memoizedState:Bl.next;if(null!==t)Bl=t,Ul=e;else{if(null===e){if(null===Ol.alternate)throw Error(rt(467));throw Error(rt(310))}e={memoizedState:(Ul=e).memoizedState,baseState:Ul.baseState,baseQueue:Ul.baseQueue,queue:Ul.queue,next:null},null===Bl?Ol.memoizedState=Bl=e:Bl=Bl.next=e}return Bl}function io(e){var t=Hl;return Hl+=1,null===Kl&&(Kl=[]),e=Zi(Kl,e,t),t=Ol,null===(null===Bl?t.memoizedState:Bl.next)&&(t=t.alternate,zt.H=null===t||null===t.memoizedState?pc:fc),e}function lo(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return io(e);if(e.$$typeof===bt)return Ai(e)}throw Error(rt(438,String(e)))}function oo(e){var t=null,n=Ol.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ol.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ol.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=wt;return t.index++,n}function co(e,t){return"function"==typeof t?t(e):t}function uo(e){return mo(so(),Ul,e)}function mo(e,t,n){var r=e.queue;if(null===r)throw Error(rt(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(null!==s){if(null!==a){var i=a.next;a.next=s.next,s.next=i}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=i=null,o=null,c=t=a.next,u=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(pd&d)===d:(Ml&d)===d){var m=c.revertLane;if(0===m)null!==o&&(o=o.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ui&&(u=!0);else{if((Ml&m)===m){c=c.next,m===Ui&&(u=!0);continue}d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===o?(l=o=d,i=s):o=o.next=d,Ol.lanes|=m,yd|=m}d=c.action,Vl&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else m={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===o?(l=o=m,i=s):o=o.next=m,Ol.lanes|=d,yd|=d;c=c.next}while(null!==c&&c!==t);if(null===o?i=s:o.next=l,!Wa(s,e.memoizedState)&&(Tc=!0,u&&null!==(n=Bi)))throw n;e.memoizedState=s,e.baseState=i,e.baseQueue=o,r.lastRenderedState=s}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function po(e){var t=so(),n=t.queue;if(null===n)throw Error(rt(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{s=e(s,i.action),i=i.next}while(i!==a);Wa(s,t.memoizedState)||(Tc=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function fo(e,t,n){var r=Ol,a=so(),s=oi;if(s){if(void 0===n)throw Error(rt(407));n=n()}else n=t();var i=!Wa((Ul||a).memoizedState,n);if(i&&(a.memoizedState=n,Tc=!0),a=a.queue,Oo(vo.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||null!==Bl&&1&Bl.memoizedState.tag){if(r.flags|=2048,Lo(9,{destroy:void 0},go.bind(null,r,a,n,t),null),null===dd)throw Error(rt(349));s||127&Ml||ho(r,t,n)}return n}function ho(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ol.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ol.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function go(e,t,n,r){t.value=n,t.getSnapshot=r,bo(t)&&xo(e)}function vo(e,t,n){return n(function(){bo(t)&&xo(e)})}function bo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wa(e,n)}catch(r){return!0}}function xo(e){var t=Ts(e,2);null!==t&&Gd(t,e,2)}function jo(e){var t=ao();if("function"==typeof e){var n=e;if(e=n(),Vl){vn(!0);try{n()}finally{vn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:e},t}function yo(e,t,n,r){return e.baseState=n,mo(e,Ul,"function"==typeof r?r:co)}function No(e,t,n,r,a){if(cc(e))throw Error(rt(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==zt.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,So(t,s)):(s.next=n.next,t.pending=n.next=s)}}function So(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=zt.T,i={};zt.T=i;try{var l=n(a,r),o=zt.S;null!==o&&o(i,l),_o(e,t,l)}catch(c){Co(e,t,c)}finally{null!==s&&null!==i.types&&(s.types=i.types),zt.T=s}}else try{_o(e,t,s=n(a,r))}catch(u){Co(e,t,u)}}function _o(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){wo(e,t,n)},function(n){return Co(e,t,n)}):wo(e,t,n)}function wo(e,t,n){t.status="fulfilled",t.value=n,ko(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,So(e,n)))}function Co(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ko(t),t=t.next}while(t!==r)}e.action=null}function ko(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Eo(e,t){return t}function Ao(e,t){if(oi){var n=dd.formState;if(null!==n){e:{var r=Ol;if(oi){if(li){t:{for(var a=li,s=ui;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=Tp(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){li=Tp(a.nextSibling),r="F!"===a.data;break e}}mi(r)}r=!1}r&&(t=n[0])}}return(n=ao()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:t},n.queue=r,n=ic.bind(null,Ol,r),r.dispatch=n,r=jo(!1),s=oc.bind(null,Ol,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=ao()).queue=a,n=No.bind(null,Ol,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function To(e){return zo(so(),Ul,e)}function zo(e,t,n){if(t=mo(e,t,Eo)[0],e=uo(co)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=io(t)}catch(i){if(i===Qi)throw Xi;throw i}else r=t;var a=(t=so()).queue,s=a.dispatch;return n!==t.memoizedState&&(Ol.flags|=2048,Lo(9,{destroy:void 0},Po.bind(null,a,n),null)),[r,s,e]}function Po(e,t){e.action=t}function Ro(e){var t=so(),n=Ul;if(null!==n)return zo(t,n,e);so(),t=t.memoizedState;var r=(n=so()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Lo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ol.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ol.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Io(){return so().memoizedState}function Fo(e,t,n,r){var a=ao();Ol.flags|=e,a.memoizedState=Lo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Do(e,t,n,r){var a=so();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==Ul&&null!==r&&Xl(r,Ul.memoizedState.deps)?a.memoizedState=Lo(t,s,n,r):(Ol.flags|=e,a.memoizedState=Lo(1|t,s,n,r))}function Mo(e,t){Fo(8390656,8,e,t)}function Oo(e,t){Do(2048,8,e,t)}function Uo(e){var t=so().memoizedState;return function(e){Ol.flags|=4;var t=Ol.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ol.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&ud)throw Error(rt(440));return t.impl.apply(void 0,arguments)}}function Bo(e,t){return Do(4,2,e,t)}function qo(e,t){return Do(4,4,e,t)}function $o(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Vo(e,t,n){n=null!=n?n.concat([e]):null,Do(4,4,$o.bind(null,t,e),n)}function Go(){}function Ho(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Xl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Xl(t,r[1]))return r[0];if(r=e(),Vl){vn(!0);try{e()}finally{vn(!1)}}return n.memoizedState=[r,t],r}function Qo(e,t,n){return void 0===n||1073741824&Ml&&!(261930&pd)?e.memoizedState=t:(e.memoizedState=n,e=Vd(),Ol.lanes|=e,yd|=e,n)}function Wo(e,t,n,r){return Wa(n,t)?n:null!==_l.current?(e=Qo(e,n,r),Wa(e,t)||(Tc=!0),e):42&Ml&&(!(1073741824&Ml)||261930&pd)?(e=Vd(),Ol.lanes|=e,yd|=e,t):(Tc=!0,e.memoizedState=n)}function Xo(e,t,n,r,a){var s=Pt.p;Pt.p=0!==s&&8>s?s:8;var i,l,o,c=zt.T,u={};zt.T=u,oc(e,!1,t,n);try{var d=a(),m=zt.S;if(null!==m&&m(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)lc(e,t,(i=r,l=[],o={status:"pending",value:null,reason:null,then:function(e){l.push(e)}},d.then(function(){o.status="fulfilled",o.value=i;for(var e=0;e<l.length;e++)(0,l[e])(i)},function(e){for(o.status="rejected",o.reason=e,e=0;e<l.length;e++)(0,l[e])(void 0)}),o),$d());else lc(e,t,r,$d())}catch(p){lc(e,t,{then:function(){},status:"rejected",reason:p},$d())}finally{Pt.p=s,null!==c&&null!==u.types&&(c.types=u.types),zt.T=c}}function Yo(){}function Jo(e,t,n,r){if(5!==e.tag)throw Error(rt(476));var a=Zo(e).queue;Xo(e,a,t,Rt,null===n?Yo:function(){return ec(e),n(r)})}function Zo(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:Rt},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ec(e){var t=Zo(e);null===t.next&&(t=e.alternate.memoizedState),lc(e,t.next.queue,{},$d())}function tc(){return Ai(of)}function nc(){return so().memoizedState}function rc(){return so().memoizedState}function ac(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=$d(),r=gl(t,e=hl(n),n);return null!==r&&(Gd(r,t,n),vl(r,t,n)),t={cache:Fi()},void(e.payload=t)}t=t.return}}function sc(e,t,n){var r=$d();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},cc(e)?uc(t,n):null!==(n=As(e,t,n,r))&&(Gd(n,e,r),dc(n,t,r))}function ic(e,t,n){lc(e,t,n,$d())}function lc(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(cc(e))uc(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,n);if(a.hasEagerState=!0,a.eagerState=l,Wa(l,i))return Es(e,t,a,0),null===dd&&ks(),!1}catch(o){}if(null!==(n=As(e,t,a,r)))return Gd(n,e,r),dc(n,t,r),!0}return!1}function oc(e,t,n,r){if(r={lane:2,revertLane:Om(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},cc(e)){if(t)throw Error(rt(479))}else null!==(t=As(e,n,r,2))&&Gd(t,e,2)}function cc(e){var t=e.alternate;return e===Ol||null!==t&&t===Ol}function uc(e,t){$l=ql=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dc(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pn(e,n)}}var mc={readContext:Ai,use:lo,useCallback:Wl,useContext:Wl,useEffect:Wl,useImperativeHandle:Wl,useLayoutEffect:Wl,useInsertionEffect:Wl,useMemo:Wl,useReducer:Wl,useRef:Wl,useState:Wl,useDebugValue:Wl,useDeferredValue:Wl,useTransition:Wl,useSyncExternalStore:Wl,useId:Wl,useHostTransitionStatus:Wl,useFormState:Wl,useActionState:Wl,useOptimistic:Wl,useMemoCache:Wl,useCacheRefresh:Wl};mc.useEffectEvent=Wl;var pc={readContext:Ai,use:lo,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Mo,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Fo(4194308,4,$o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){Fo(4,2,e,t)},useMemo:function(e,t){var n=ao();t=void 0===t?null:t;var r=e();if(Vl){vn(!0);try{e()}finally{vn(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ao();if(void 0!==n){var a=n(t);if(Vl){vn(!0);try{n(t)}finally{vn(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=sc.bind(null,Ol,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ao().memoizedState=e},useState:function(e){var t=(e=jo(e)).queue,n=ic.bind(null,Ol,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Go,useDeferredValue:function(e,t){return Qo(ao(),e,t)},useTransition:function(){var e=jo(!1);return e=Xo.bind(null,Ol,e.queue,!0,!1),ao().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ol,a=ao();if(oi){if(void 0===n)throw Error(rt(407));n=n()}else{if(n=t(),null===dd)throw Error(rt(349));127&pd||ho(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Mo(vo.bind(null,r,s,e),[e]),r.flags|=2048,Lo(9,{destroy:void 0},go.bind(null,r,s,n,t),null),n},useId:function(){var e=ao(),t=dd.identifierPrefix;if(oi){var n=ei;t="_"+t+"R_"+(n=(Zs&~(1<<32-bn(Zs)-1)).toString(32)+n),0<(n=Gl++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ql++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tc,useFormState:Ao,useActionState:Ao,useOptimistic:function(e){var t=ao();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=oc.bind(null,Ol,!0,n),n.dispatch=t,[e,t]},useMemoCache:oo,useCacheRefresh:function(){return ao().memoizedState=ac.bind(null,Ol)},useEffectEvent:function(e){var t=ao(),n={impl:e};return t.memoizedState=n,function(){if(2&ud)throw Error(rt(440));return n.impl.apply(void 0,arguments)}}},fc={readContext:Ai,use:lo,useCallback:Ho,useContext:Ai,useEffect:Oo,useImperativeHandle:Vo,useInsertionEffect:Bo,useLayoutEffect:qo,useMemo:Ko,useReducer:uo,useRef:Io,useState:function(){return uo(co)},useDebugValue:Go,useDeferredValue:function(e,t){return Wo(so(),Ul.memoizedState,e,t)},useTransition:function(){var e=uo(co)[0],t=so().memoizedState;return["boolean"==typeof e?e:io(e),t]},useSyncExternalStore:fo,useId:nc,useHostTransitionStatus:tc,useFormState:To,useActionState:To,useOptimistic:function(e,t){return yo(so(),0,e,t)},useMemoCache:oo,useCacheRefresh:rc};fc.useEffectEvent=Uo;var hc={readContext:Ai,use:lo,useCallback:Ho,useContext:Ai,useEffect:Oo,useImperativeHandle:Vo,useInsertionEffect:Bo,useLayoutEffect:qo,useMemo:Ko,useReducer:po,useRef:Io,useState:function(){return po(co)},useDebugValue:Go,useDeferredValue:function(e,t){var n=so();return null===Ul?Qo(n,e,t):Wo(n,Ul.memoizedState,e,t)},useTransition:function(){var e=po(co)[0],t=so().memoizedState;return["boolean"==typeof e?e:io(e),t]},useSyncExternalStore:fo,useId:nc,useHostTransitionStatus:tc,useFormState:Ro,useActionState:Ro,useOptimistic:function(e,t){var n=so();return null!==Ul?yo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:oo,useCacheRefresh:rc};function gc(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:ut({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}hc.useEffectEvent=Uo;var vc={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$d(),a=hl(r);a.payload=t,null!=n&&(a.callback=n),null!==(t=gl(e,a,r))&&(Gd(t,e,r),vl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$d(),a=hl(r);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=gl(e,a,r))&&(Gd(t,e,r),vl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$d(),r=hl(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=gl(e,r,n))&&(Gd(t,e,n),vl(t,e,n))}};function bc(e,t,n,r,a,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Xa(n,r)||!Xa(a,s))}function xc(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vc.enqueueReplaceState(t,t.state,null)}function jc(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=ut({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function yc(e){Ss(e)}function Nc(e){console.error(e)}function Sc(e){Ss(e)}function _c(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function wc(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Cc(e,t,n){return(n=hl(n)).tag=3,n.payload={element:null},n.callback=function(){_c(e,t)},n}function kc(e){return(e=hl(e)).tag=3,e}function Ec(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"==typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){wc(t,n,r)}}var i=n.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){wc(t,n,r),"function"!=typeof a&&(null===Rd?Rd=new Set([this]):Rd.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ac=Error(rt(461)),Tc=!1;function zc(e,t,n,r){t.child=null===e?dl(t,null,n,r):ul(t,e.child,n,r)}function Pc(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var l in r)"ref"!==l&&(i[l]=r[l])}else i=r;return Ei(t),r=Yl(e,t,n,i,s,a),l=to(),null===e||Tc?(oi&&l&&ri(t),t.flags|=1,zc(e,t,r,a),t.child):(no(e,t,a),tu(e,t,a))}function Rc(e,t,n,r,a){if(null===e){var s=n.type;return"function"!=typeof s||Fs(s)||void 0!==s.defaultProps||null!==n.compare?((e=Os(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Lc(e,t,s,r,a))}if(s=e.child,!nu(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xa)(i,r)&&e.ref===t.ref)return tu(e,t,a)}return t.flags|=1,(e=Ds(s,r)).ref=t.ref,e.return=t,t.child=e}function Lc(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Xa(s,r)&&e.ref===t.ref){if(Tc=!1,t.pendingProps=r=s,!nu(e,a))return t.lanes=e.lanes,tu(e,t,a);131072&e.flags&&(Tc=!0)}}return Bc(e,t,n,r,a)}function Ic(e,t,n,r){var a=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~s}else r=0,t.child=null;return Dc(e,t,s,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Dc(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==s?s.cachePool:null),null!==s?Cl(t,s):kl(),Rl(t)}else null!==s?(Hi(0,s.cachePool),Cl(t,s),Ll(),t.memoizedState=null):(null!==e&&Hi(0,null),kl(),Ll());return zc(e,t,a,n),t.child}function Fc(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Dc(e,t,n,r,a){var s=Gi();return s=null===s?null:{parent:Ii._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Hi(0,null),kl(),Rl(t),null!==e&&Ci(e,t,r,!0),t.childLanes=a,null}function Mc(e,t){return(t=Xc({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Oc(e,t,n){return ul(t,e.child,null,n),(e=Mc(t,t.pendingProps)).flags|=2,Il(t),t.memoizedState=null,e}function Uc(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(rt(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Bc(e,t,n,r,a){return Ei(t),n=Yl(e,t,n,r,void 0,a),r=to(),null===e||Tc?(oi&&r&&ri(t),t.flags|=1,zc(e,t,n,a),t.child):(no(e,t,a),tu(e,t,a))}function qc(e,t,n,r,a,s){return Ei(t),t.updateQueue=null,n=Zl(t,r,n,a),Jl(e),r=to(),null===e||Tc?(oi&&r&&ri(t),t.flags|=1,zc(e,t,n,s),t.child):(no(e,t,s),tu(e,t,s))}function $c(e,t,n,r,a){if(Ei(t),null===t.stateNode){var s=Rs,i=n.contextType;"object"==typeof i&&null!==i&&(s=Ai(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=vc,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},pl(t),i=n.contextType,s.context="object"==typeof i&&null!==i?Ai(i):Rs,s.state=t.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(gc(t,n,i,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(i=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&vc.enqueueReplaceState(s,s.state,null),yl(t,r,s,a),jl(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var l=t.memoizedProps,o=jc(n,l);s.props=o;var c=s.context,u=n.contextType;i=Rs,"object"==typeof u&&null!==u&&(i=Ai(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,l=t.pendingProps!==l,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l||c!==i)&&xc(t,s,r,i),ml=!1;var m=t.memoizedState;s.state=m,yl(t,r,s,a),jl(),c=t.memoizedState,l||m!==c||ml?("function"==typeof d&&(gc(t,n,d,r),c=t.memoizedState),(o=ml||bc(t,n,o,r,m,c,i))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=i,r=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,fl(e,t),u=jc(n,i=t.memoizedProps),s.props=u,d=t.pendingProps,m=s.context,c=n.contextType,o=Rs,"object"==typeof c&&null!==c&&(o=Ai(c)),(c="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i!==d||m!==o)&&xc(t,s,r,o),ml=!1,m=t.memoizedState,s.state=m,yl(t,r,s,a),jl();var p=t.memoizedState;i!==d||m!==p||ml||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"==typeof l&&(gc(t,n,l,r),p=t.memoizedState),(u=ml||bc(t,n,u,r,m,p,o)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,o),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,o)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=o,r=u):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Uc(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ul(t,e.child,null,a),t.child=ul(t,null,n,a)):zc(e,t,n,a),t.memoizedState=s.state,e=t.child):e=tu(e,t,a),e}function Vc(e,t,n,r){return gi(),t.flags|=256,zc(e,t,n,r),t.child}var Gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hc(e){return{baseLanes:e,cachePool:Ki()}}function Kc(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=_d),e}function Qc(e,t,n){var r,a=t.pendingProps,s=!1,i=!!(128&t.flags);if((r=i)||(r=(null===e||null!==e.memoizedState)&&!!(2&Fl.current)),r&&(s=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(oi){if(s?zl(t):Ll(),(e=li)?null!==(e=null!==(e=kp(e,ui))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==Js?{id:Zs,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},(n=qs(e)).return=t,t.child=n,ii=t,li=null):e=null,null===e)throw mi(t);return Ap(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Ll(),l=Xc({mode:"hidden",children:l},s=t.mode),a=Us(a,s,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Hc(n),a.childLanes=Kc(e,r,n),t.memoizedState=Gc,Fc(null,a)):(zl(t),Wc(t,l))}var o=e.memoizedState;if(null!==o&&null!==(l=o.dehydrated)){if(i)256&t.flags?(zl(t),t.flags&=-257,t=Yc(e,t,n)):null!==t.memoizedState?(Ll(),t.child=e.child,t.flags|=128,t=null):(Ll(),l=a.fallback,s=t.mode,a=Xc({mode:"visible",children:a.children},s),(l=Us(l,s,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,ul(t,e.child,null,n),(a=t.child).memoizedState=Hc(n),a.childLanes=Kc(e,r,n),t.memoizedState=Gc,t=Fc(null,a));else if(zl(t),Ap(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var c=r.dgst;r=c,(a=Error(rt(419))).stack="",a.digest=r,bi({value:a,source:null,stack:null}),t=Yc(e,t,n)}else if(Tc||Ci(e,t,n,!1),r=0!==(n&e.childLanes),Tc||r){if(null!==(r=dd)&&(0!==(a=Rn(r,n))&&a!==o.retryLane))throw o.retryLane=a,Ts(e,a),Gd(r,e,a),Ac;Ep(l)||rm(),t=Yc(e,t,n)}else Ep(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,li=Tp(l.nextSibling),ii=t,oi=!0,ci=null,ui=!1,null!==e&&si(t,e),(t=Wc(t,a.children)).flags|=4096);return t}return s?(Ll(),l=a.fallback,s=t.mode,c=(o=e.child).sibling,(a=Ds(o,{mode:"hidden",children:a.children})).subtreeFlags=65011712&o.subtreeFlags,null!==c?l=Ds(c,l):(l=Us(l,s,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Fc(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Hc(n):(null!==(s=l.cachePool)?(o=Ii._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=Ki(),l={baseLanes:l.baseLanes|n,cachePool:s}),a.memoizedState=l,a.childLanes=Kc(e,r,n),t.memoizedState=Gc,Fc(e.child,a)):(zl(t),e=(n=e.child).sibling,(n=Ds(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Wc(e,t){return(t=Xc({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Xc(e,t){return(e=Is(22,e,null,t)).lanes=0,e}function Yc(e,t,n){return ul(t,e.child,null,n),(e=Wc(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Jc(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_i(e.return,t,n)}function Zc(e,t,n,r,a,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.treeForkCount=s)}function eu(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;r=r.children;var i=Fl.current,l=!!(2&i);if(l?(i=1&i|2,t.flags|=128):i&=1,Mt(Fl,i),zc(e,t,r,n),r=oi?Ws:0,!l&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jc(e,n,t);else if(19===e.tag)Jc(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Dl(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Zc(t,!1,a,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Dl(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Zc(t,!0,n,null,s,r);break;case"together":Zc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function tu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),yd|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ci(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(rt(153));if(null!==t.child){for(n=Ds(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ds(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function nu(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function ru(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Tc=!0;else{if(!(nu(e,n)||128&t.flags))return Tc=!1,function(e,t,n){switch(t.tag){case 3:Gt(t,t.stateNode.containerInfo),Ni(0,Ii,e.memoizedState.cache),gi();break;case 27:case 5:Kt(t);break;case 4:Gt(t,t.stateNode.containerInfo);break;case 10:Ni(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Pl(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(zl(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Qc(e,t,n):(zl(t),null!==(e=tu(e,t,n))?e.sibling:null);zl(t);break;case 19:var a=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ci(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return eu(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Mt(Fl,Fl.current),r)break;return null;case 22:return t.lanes=0,Ic(e,t,n,t.pendingProps);case 24:Ni(0,Ii,e.memoizedState.cache)}return tu(e,t,n)}(e,t,n);Tc=!!(131072&e.flags)}else Tc=!1,oi&&1048576&t.flags&&ni(t,Ws,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=el(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var a=e.$$typeof;if(a===xt){t.tag=11,t=Pc(null,t,e,r,n);break e}if(a===Nt){t.tag=14,t=Rc(null,t,e,r,n);break e}}throw t=At(e)||e,Error(rt(306,t,""))}Fs(e)?(r=jc(e,r),t.tag=1,t=$c(null,t,e,r,n)):(t.tag=0,t=Bc(null,t,e,r,n))}return t;case 0:return Bc(e,t,t.type,t.pendingProps,n);case 1:return $c(e,t,r=t.type,a=jc(r,t.pendingProps),n);case 3:e:{if(Gt(t,t.stateNode.containerInfo),null===e)throw Error(rt(387));r=t.pendingProps;var s=t.memoizedState;a=s.element,fl(e,t),yl(t,r,null,n);var i=t.memoizedState;if(r=i.cache,Ni(0,Ii,r),r!==s.cache&&wi(t,[Ii],n,!0),jl(),r=i.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Vc(e,t,r,n);break e}if(r!==a){bi(a=Gs(Error(rt(424)),t)),t=Vc(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(li=Tp(e.firstChild),ii=t,oi=!0,ci=null,ui=!0,n=dl(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(gi(),r===a){t=tu(e,t,n);break e}zc(e,t,r,n)}t=t.child}return t;case 26:return Uc(e,t),null===e?(n=qp(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=pp($t.current).createElement(n))[On]=t,r[Un]=e,cp(r,n,e),Jn(r),t.stateNode=r):t.memoizedState=qp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Kt(t),null===e&&oi&&(r=t.stateNode=Lp(t.type,t.pendingProps,$t.current),ii=t,ui=!0,a=li,Sp(t.type)?(zp=a,li=Tp(r.firstChild)):li=a),zc(e,t,t.pendingProps.children,n),Uc(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((a=r=li)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Hn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=Tp(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ui))?(t.stateNode=r,ii=t,li=Tp(r.firstChild),ui=!1,a=!0):a=!1),a||mi(t)),Kt(t),a=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,r=s.children,gp(a,s)?r=null:null!==i&&gp(a,i)&&(t.flags|=32),null!==t.memoizedState&&(a=Yl(e,t,eo,null,null,n),of._currentValue=a),Uc(e,t),zc(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=li)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Tp(e.nextSibling)))return null}return e}(n,t.pendingProps,ui))?(t.stateNode=n,ii=t,li=null,e=!0):e=!1),e||mi(t)),null;case 13:return Qc(e,t,n);case 4:return Gt(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ul(t,null,r,n):zc(e,t,r,n),t.child;case 11:return Pc(e,t,t.type,t.pendingProps,n);case 7:return zc(e,t,t.pendingProps,n),t.child;case 8:case 12:return zc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ni(0,t.type,r.value),zc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Ei(t),r=r(a=Ai(a)),t.flags|=1,zc(e,t,r,n),t.child;case 14:return Rc(e,t,t.type,t.pendingProps,n);case 15:return Lc(e,t,t.type,t.pendingProps,n);case 19:return eu(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,a=!!(128&t.flags);if(t.flags&=-129,null===e){if(oi){if("hidden"===r.mode)return e=Mc(t,r),t.lanes=536870912,Fc(null,e);if(Pl(t),(e=li)?null!==(e=null!==(e=kp(e,ui))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==Js?{id:Zs,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},(n=qs(e)).return=t,t.child=n,ii=t,li=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return Mc(t,r)}var s=e.memoizedState;if(null!==s){var i=s.dehydrated;if(Pl(t),a)if(256&t.flags)t.flags&=-257,t=Oc(e,t,n);else{if(null===t.memoizedState)throw Error(rt(558));t.child=e.child,t.flags|=128,t=null}else if(Tc||Ci(e,t,n,!1),a=0!==(n&e.childLanes),Tc||a){if(null!==(r=dd)&&0!==(i=Rn(r,n))&&i!==s.retryLane)throw s.retryLane=i,Ts(e,i),Gd(r,e,i),Ac;rm(),t=Oc(e,t,n)}else e=s.treeContext,li=Tp(i.nextSibling),ii=t,oi=!0,ci=null,ui=!1,null!==e&&si(t,e),(t=Mc(t,r)).flags|=4096;return t}return(e=Ds(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ic(e,t,n,t.pendingProps);case 24:return Ei(t),r=Ai(Ii),null===e?(null===(a=Gi())&&(a=dd,s=Fi(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},pl(t),Ni(0,Ii,a)):(0!==(e.lanes&n)&&(fl(e,t),yl(t,null,null,n),jl()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Ni(0,Ii,r)):(r=s.cache,Ni(0,Ii,r),r!==a.cache&&wi(t,[Ii],n,!0))),zc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(rt(156,t.tag))}function au(e){e.flags|=4}function su(e,t,n,r,a){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!em())throw tl=Yi,Wi;e.flags|=8192}}else e.flags&=-16777217}function iu(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!tf(t)){if(!em())throw tl=Yi,Wi;e.flags|=8192}}function lu(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?En():536870912,e.lanes|=t,wd|=t)}function ou(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function cu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uu(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return cu(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Si(Ii),Ht(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?au(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,vi())),cu(t),null;case 26:var a=t.type,s=t.memoizedState;return null===e?(au(t),null!==s?(cu(t),iu(t,s)):(cu(t),su(t,a,0,0,n))):s?s!==e.memoizedState?(au(t),cu(t),iu(t,s)):(cu(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&au(t),cu(t),su(t,a,0,0,n)),null;case 27:if(Qt(t),n=$t.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&au(t);else{if(!r){if(null===t.stateNode)throw Error(rt(166));return cu(t),null}e=Bt.current,hi(t)?pi(t):(e=Lp(a,r,n),t.stateNode=e,au(t))}return cu(t),null;case 5:if(Qt(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&au(t);else{if(!r){if(null===t.stateNode)throw Error(rt(166));return cu(t),null}if(s=Bt.current,hi(t))pi(t);else{var i=pp($t.current);switch(s){case 1:s=i.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=i.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(s=i.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"==typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"==typeof r.is?i.createElement(a,{is:r.is}):i.createElement(a)}}s[On]=t,s[Un]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)s.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=s;e:switch(cp(s,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&au(t)}}return cu(t),su(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&au(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(rt(166));if(e=$t.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ii))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[On]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ip(e.nodeValue,n)))||mi(t,!0)}else(e=pp(e).createTextNode(r))[On]=t,t.stateNode=e}return cu(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=hi(t),null!==n){if(null===e){if(!r)throw Error(rt(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(rt(557));e[On]=t}else gi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;cu(t),e=!1}else n=vi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Il(t),t):(Il(t),null);if(128&t.flags)throw Error(rt(558))}return cu(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(rt(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(rt(317));a[On]=t}else gi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;cu(t),a=!1}else a=vi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Il(t),t):(Il(t),null)}return Il(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),lu(t,t.updateQueue),cu(t),null);case 4:return Ht(),null===e&&Xm(t.stateNode.containerInfo),cu(t),null;case 10:return Si(t.type),cu(t),null;case 19:if(Dt(Fl),null===(r=t.memoizedState))return cu(t),null;if(a=!!(128&t.flags),null===(s=r.rendering))if(a)ou(r,!1);else{if(0!==jd||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=Dl(e))){for(t.flags|=128,ou(r,!1),e=s.updateQueue,t.updateQueue=e,lu(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ms(n,e),n=n.sibling;return Mt(Fl,1&Fl.current|2),oi&&ti(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&sn()>zd&&(t.flags|=128,a=!0,ou(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Dl(s))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,lu(t,e),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!oi)return cu(t),null}else 2*sn()-r.renderingStartTime>zd&&536870912!==n&&(t.flags|=128,a=!0,ou(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=sn(),e.sibling=null,n=Fl.current,Mt(Fl,a?1&n|2:1&n),oi&&ti(t,r.treeForkCount),e):(cu(t),null);case 22:case 23:return Il(t),El(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(cu(t),6&t.subtreeFlags&&(t.flags|=8192)):cu(t),null!==(n=t.updateQueue)&&lu(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&Dt(Vi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Si(Ii),cu(t),null;case 25:case 30:return null}throw Error(rt(156,t.tag))}function du(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Si(Ii),Ht(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Qt(t),null;case 31:if(null!==t.memoizedState){if(Il(t),null===t.alternate)throw Error(rt(340));gi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Il(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(rt(340));gi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Dt(Fl),null;case 4:return Ht(),null;case 10:return Si(t.type),null;case 22:case 23:return Il(t),El(),null!==e&&Dt(Vi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Si(Ii),null;default:return null}}function mu(e,t){switch(ai(t),t.tag){case 3:Si(Ii),Ht();break;case 26:case 27:case 5:Qt(t);break;case 4:Ht();break;case 31:null!==t.memoizedState&&Il(t);break;case 13:Il(t);break;case 19:Dt(Fl);break;case 10:Si(t.type);break;case 22:case 23:Il(t),El(),null!==e&&Dt(Vi);break;case 24:Si(Ii)}}function pu(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(l){jm(t,t.return,l)}}function fu(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,l=i.destroy;if(void 0!==l){i.destroy=void 0,a=t;var o=n,c=l;try{c()}catch(u){jm(a,o,u)}}}r=r.next}while(r!==s)}}catch(u){jm(t,t.return,u)}}function hu(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Sl(t,n)}catch(r){jm(e,e.return,r)}}}function gu(e,t,n){n.props=jc(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){jm(e,t,r)}}function vu(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(a){jm(e,t,a)}}function bu(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(a){jm(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){jm(e,t,s)}else n.current=null}function xu(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){jm(e,e.return,a)}}function ju(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,i=null,l=null,o=null,c=null,u=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":o=d;default:r.hasOwnProperty(p)||lp(e,t,p,null,r,d)}}for(var m in r){var p=r[m];if(d=n[m],r.hasOwnProperty(m)&&(null!=p||null!=d))switch(m){case"type":s=p;break;case"name":a=p;break;case"checked":c=p;break;case"defaultChecked":u=p;break;case"value":i=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(rt(137,t));break;default:p!==d&&lp(e,t,m,p,r,d)}}return void gr(e,i,l,o,c,u,s,a);case"select":for(s in p=i=l=m=null,n)if(o=n[s],n.hasOwnProperty(s)&&null!=o)switch(s){case"value":break;case"multiple":p=o;default:r.hasOwnProperty(s)||lp(e,t,s,null,r,o)}for(a in r)if(s=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=s||null!=o))switch(a){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":i=s;default:s!==o&&lp(e,t,a,s,r,o)}return t=l,n=i,r=p,void(null!=m?xr(e,!!n,m,!1):!!r!=!!n&&(null!=t?xr(e,!!n,t,!0):xr(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=m=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:lp(e,t,l,null,r,a)}for(i in r)if(a=r[i],s=n[i],r.hasOwnProperty(i)&&(null!=a||null!=s))switch(i){case"value":m=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(rt(91));break;default:a!==s&&lp(e,t,i,a,r,s)}return void jr(e,m,p);case"option":for(var f in n)if(m=n[f],n.hasOwnProperty(f)&&null!=m&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else lp(e,t,f,null,r,m);for(o in r)if(m=r[o],p=n[o],r.hasOwnProperty(o)&&m!==p&&(null!=m||null!=p))if("selected"===o)e.selected=m&&"function"!=typeof m&&"symbol"!=typeof m;else lp(e,t,o,m,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var h in n)m=n[h],n.hasOwnProperty(h)&&null!=m&&!r.hasOwnProperty(h)&&lp(e,t,h,null,r,m);for(c in r)if(m=r[c],p=n[c],r.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(rt(137,t));break;default:lp(e,t,c,m,r,p)}return;default:if(Cr(t)){for(var g in n)m=n[g],n.hasOwnProperty(g)&&void 0!==m&&!r.hasOwnProperty(g)&&op(e,t,g,void 0,r,m);for(u in r)m=r[u],p=n[u],!r.hasOwnProperty(u)||m===p||void 0===m&&void 0===p||op(e,t,u,m,r,p);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&null!=m&&!r.hasOwnProperty(v)&&lp(e,t,v,null,r,m);for(d in r)m=r[d],p=n[d],!r.hasOwnProperty(d)||m===p||null==m&&null==p||lp(e,t,d,m,r,p)}(r,e.type,n,t),r[Un]=t}catch(a){jm(e,e.return,a)}}function yu(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Sp(e.type)||4===e.tag}function Nu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||yu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Sp(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Su(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Tr));else if(4!==r&&(27===r&&Sp(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function _u(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Sp(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function wu(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);cp(t,r,n),t[On]=e,t[Un]=n}catch(s){jm(e,e.return,s)}}var Cu=!1,ku=!1,Eu=!1,Au="function"==typeof WeakSet?WeakSet:Set,Tu=null;function zu(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Gu(e,n),4&r&&pu(5,n);break;case 1:if(Gu(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){jm(n,n.return,i)}else{var a=jc(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){jm(n,n.return,l)}}64&r&&hu(n),512&r&&vu(n,n.return);break;case 3:if(Gu(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Sl(e,t)}catch(i){jm(n,n.return,i)}}break;case 27:null===t&&4&r&&wu(n);case 26:case 5:Gu(e,n),null===t&&4&r&&xu(n),512&r&&vu(n,n.return);break;case 12:Gu(e,n);break;case 31:Gu(e,n),4&r&&Du(e,n);break;case 13:Gu(e,n),4&r&&Mu(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=_m.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Cu)){t=null!==t&&null!==t.memoizedState||ku,a=Cu;var s=ku;Cu=r,(ku=t)&&!s?Ku(e,n,!!(8772&n.subtreeFlags)):Gu(e,n),Cu=a,ku=s}break;case 30:break;default:Gu(e,n)}}function Pu(e){var t=e.alternate;null!==t&&(e.alternate=null,Pu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Kn(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ru=null,Lu=!1;function Iu(e,t,n){for(n=n.child;null!==n;)Fu(e,t,n),n=n.sibling}function Fu(e,t,n){if(gn&&"function"==typeof gn.onCommitFiberUnmount)try{gn.onCommitFiberUnmount(hn,n)}catch(s){}switch(n.tag){case 26:ku||bu(n,t),Iu(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:ku||bu(n,t);var r=Ru,a=Lu;Sp(n.type)&&(Ru=n.stateNode,Lu=!1),Iu(e,t,n),Ip(n.stateNode),Ru=r,Lu=a;break;case 5:ku||bu(n,t);case 6:if(r=Ru,a=Lu,Ru=null,Iu(e,t,n),Lu=a,null!==(Ru=r))if(Lu)try{(9===Ru.nodeType?Ru.body:"HTML"===Ru.nodeName?Ru.ownerDocument.body:Ru).removeChild(n.stateNode)}catch(i){jm(n,t,i)}else try{Ru.removeChild(n.stateNode)}catch(i){jm(n,t,i)}break;case 18:null!==Ru&&(Lu?(_p(9===(e=Ru).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),qf(e)):_p(Ru,n.stateNode));break;case 4:r=Ru,a=Lu,Ru=n.stateNode.containerInfo,Lu=!0,Iu(e,t,n),Ru=r,Lu=a;break;case 0:case 11:case 14:case 15:fu(2,n,t),ku||fu(4,n,t),Iu(e,t,n);break;case 1:ku||(bu(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&gu(n,t,r)),Iu(e,t,n);break;case 21:Iu(e,t,n);break;case 22:ku=(r=ku)||null!==n.memoizedState,Iu(e,t,n),ku=r;break;default:Iu(e,t,n)}}function Du(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qf(e)}catch(n){jm(t,t.return,n)}}}function Mu(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qf(e)}catch(n){jm(t,t.return,n)}}function Ou(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Au),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Au),t;default:throw Error(rt(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=wm.bind(null,e,t);t.then(r,r)}})}function Uu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 27:if(Sp(l.type)){Ru=l.stateNode,Lu=!1;break e}break;case 5:Ru=l.stateNode,Lu=!1;break e;case 3:case 4:Ru=l.stateNode.containerInfo,Lu=!0;break e}l=l.return}if(null===Ru)throw Error(rt(160));Fu(s,i,a),Ru=null,Lu=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)qu(t,e),t=t.sibling}var Bu=null;function qu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Uu(t,e),$u(e),4&r&&(fu(3,e,e.return),pu(3,e),fu(5,e,e.return));break;case 1:Uu(t,e),$u(e),512&r&&(ku||null===n||bu(n,n.return)),64&r&&Cu&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Bu;if(Uu(t,e),$u(e),512&r&&(ku||null===n||bu(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Hn]||s[On]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),cp(s,r,n),s[On]=e,Jn(s),r=s;break e;case"link":var i=Zp("link","href",a).get(r+(n.href||""));if(i)for(var l=0;l<i.length;l++)if((s=i[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(l,1);break t}cp(s=a.createElement(r),r,n),a.head.appendChild(s);break;case"meta":if(i=Zp("meta","content",a).get(r+(n.content||"")))for(l=0;l<i.length;l++)if((s=i[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(l,1);break t}cp(s=a.createElement(r),r,n),a.head.appendChild(s);break;default:throw Error(rt(468,r))}s[On]=e,Jn(s),r=s}e.stateNode=r}else ef(a,e.type,e.stateNode);else e.stateNode=Qp(a,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?ef(a,e.type,e.stateNode):Qp(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&ju(e,e.memoizedProps,n.memoizedProps)}break;case 27:Uu(t,e),$u(e),512&r&&(ku||null===n||bu(n,n.return)),null!==n&&4&r&&ju(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Uu(t,e),$u(e),512&r&&(ku||null===n||bu(n,n.return)),32&e.flags){a=e.stateNode;try{Nr(a,"")}catch(f){jm(e,e.return,f)}}4&r&&null!=e.stateNode&&ju(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(Eu=!0);break;case 6:if(Uu(t,e),$u(e),4&r){if(null===e.stateNode)throw Error(rt(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){jm(e,e.return,f)}}break;case 3:if(Jp=null,a=Bu,Bu=Mp(t.containerInfo),Uu(t,e),Bu=a,$u(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qf(t.containerInfo)}catch(f){jm(e,e.return,f)}Eu&&(Eu=!1,Vu(e));break;case 4:r=Bu,Bu=Mp(e.stateNode.containerInfo),Uu(t,e),$u(e),Bu=r;break;case 12:default:Uu(t,e),$u(e);break;case 31:case 19:Uu(t,e),$u(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ou(e,r)));break;case 13:Uu(t,e),$u(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Ad=sn()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ou(e,r)));break;case 22:a=null!==e.memoizedState;var o=null!==n&&null!==n.memoizedState,c=Cu,u=ku;if(Cu=c||a,ku=u||o,Uu(t,e),ku=u,Cu=c,$u(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||o||Cu||ku||Hu(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){o=n=t;try{if(s=o.stateNode,a)"function"==typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{l=o.stateNode;var d=o.memoizedProps.style,m=null!=d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==m||"boolean"==typeof m?"":(""+m).trim()}}catch(f){jm(o,o.return,f)}}}else if(6===t.tag){if(null===n){o=t;try{o.stateNode.nodeValue=a?"":o.memoizedProps}catch(f){jm(o,o.return,f)}}}else if(18===t.tag){if(null===n){o=t;try{var p=o.stateNode;a?wp(p,!0):wp(o.stateNode,!1)}catch(f){jm(o,o.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ou(e,n))));case 30:case 21:}}function $u(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(yu(r)){n=r;break}r=r.return}if(null==n)throw Error(rt(160));switch(n.tag){case 27:var a=n.stateNode;_u(e,Nu(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(Nr(s,""),n.flags&=-33),_u(e,Nu(e),s);break;case 3:case 4:var i=n.stateNode.containerInfo;Su(e,Nu(e),i);break;default:throw Error(rt(161))}}catch(l){jm(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Vu(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Vu(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Gu(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)zu(e,t.alternate,t),t=t.sibling}function Hu(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fu(4,t,t.return),Hu(t);break;case 1:bu(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&gu(t,t.return,n),Hu(t);break;case 27:Ip(t.stateNode);case 26:case 5:bu(t,t.return),Hu(t);break;case 22:null===t.memoizedState&&Hu(t);break;default:Hu(t)}e=e.sibling}}function Ku(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Ku(a,s,n),pu(4,s);break;case 1:if(Ku(a,s,n),"function"==typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){jm(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var l=r.stateNode;try{var o=a.shared.hiddenCallbacks;if(null!==o)for(a.shared.hiddenCallbacks=null,a=0;a<o.length;a++)Nl(o[a],l)}catch(c){jm(r,r.return,c)}}n&&64&i&&hu(s),vu(s,s.return);break;case 27:wu(s);case 26:case 5:Ku(a,s,n),n&&null===r&&4&i&&xu(s),vu(s,s.return);break;case 12:Ku(a,s,n);break;case 31:Ku(a,s,n),n&&4&i&&Du(a,s);break;case 13:Ku(a,s,n),n&&4&i&&Mu(a,s);break;case 22:null===s.memoizedState&&Ku(a,s,n),vu(s,s.return);break;case 30:break;default:Ku(a,s,n)}t=t.sibling}}function Qu(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Di(n))}function Wu(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e))}function Xu(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Yu(e,t,n,r),t=t.sibling}function Yu(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Xu(e,t,n,r),2048&a&&pu(9,t);break;case 1:case 31:case 13:default:Xu(e,t,n,r);break;case 3:Xu(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e)));break;case 12:if(2048&a){Xu(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,l=s.onPostCommit;"function"==typeof l&&l(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){jm(t,t.return,o)}}else Xu(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Xu(e,t,n,r):Zu(e,t):2&s._visibility?Xu(e,t,n,r):(s._visibility|=2,Ju(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&a&&Qu(i,t);break;case 24:Xu(e,t,n,r),2048&a&&Wu(t.alternate,t)}}function Ju(e,t,n,r,a){for(a=a&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,i=t,l=n,o=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:Ju(s,i,l,o,a),pu(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Ju(s,i,l,o,a):Zu(s,i):(u._visibility|=2,Ju(s,i,l,o,a)),a&&2048&c&&Qu(i.alternate,i);break;case 24:Ju(s,i,l,o,a),a&&2048&c&&Wu(i.alternate,i);break;default:Ju(s,i,l,o,a)}t=t.sibling}}function Zu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Zu(n,r),2048&a&&Qu(r.alternate,r);break;case 24:Zu(n,r),2048&a&&Wu(r.alternate,r);break;default:Zu(n,r)}t=t.sibling}}var ed=8192;function td(e,t,n){if(e.subtreeFlags&ed)for(e=e.child;null!==e;)nd(e,t,n),e=e.sibling}function nd(e,t,n){switch(e.tag){case 26:td(e,t,n),e.flags&ed&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var a=$p(r.href),s=t.querySelector(Vp(a));if(s)return null!==(t=s._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=rf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void Jn(s);s=t.ownerDocument||t,r=Gp(r),(a=Fp.get(a))&&Xp(r,a),Jn(s=s.createElement("link"));var i=s;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),cp(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=rf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Bu,e.memoizedState,e.memoizedProps);break;case 5:default:td(e,t,n);break;case 3:case 4:var r=Bu;Bu=Mp(e.stateNode.containerInfo),td(e,t,n),Bu=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ed,ed=16777216,td(e,t,n),ed=r):td(e,t,n))}}function rd(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ad(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Tu=r,ld(r,e)}rd(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)sd(e),e=e.sibling}function sd(e){switch(e.tag){case 0:case 11:case 15:ad(e),2048&e.flags&&fu(9,e,e.return);break;case 3:case 12:default:ad(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,id(e)):ad(e)}}function id(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Tu=r,ld(r,e)}rd(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:fu(8,t,t.return),id(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,id(t));break;default:id(t)}e=e.sibling}}function ld(e,t){for(;null!==Tu;){var n=Tu;switch(n.tag){case 0:case 11:case 15:fu(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Tu=r;else e:for(n=e;null!==Tu;){var a=(r=Tu).sibling,s=r.return;if(Pu(r),r===n){Tu=null;break e}if(null!==a){a.return=s,Tu=a;break e}Tu=s}}}var od={getCacheForType:function(e){var t=Ai(Ii),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ai(Ii).controller.signal}},cd="function"==typeof WeakMap?WeakMap:Map,ud=0,dd=null,md=null,pd=0,fd=0,hd=null,gd=!1,vd=!1,bd=!1,xd=0,jd=0,yd=0,Nd=0,Sd=0,_d=0,wd=0,Cd=null,kd=null,Ed=!1,Ad=0,Td=0,zd=1/0,Pd=null,Rd=null,Ld=0,Id=null,Fd=null,Dd=0,Md=0,Od=null,Ud=null,Bd=0,qd=null;function $d(){return 2&ud&&0!==pd?pd&-pd:null!==zt.T?Om():Fn()}function Vd(){if(0===_d)if(536870912&pd&&!oi)_d=536870912;else{var e=Nn;!(3932160&(Nn<<=1))&&(Nn=262144),_d=e}return null!==(e=Al.current)&&(e.flags|=32),_d}function Gd(e,t,n){(e!==dd||2!==fd&&9!==fd)&&null===e.cancelPendingCommit||(Jd(e,0),Wd(e,pd,_d,!1)),Tn(e,n),2&ud&&e===dd||(e===dd&&(!(2&ud)&&(Nd|=n),4===jd&&Wd(e,pd,_d,!1)),Pm(e))}function Hd(e,t,n){if(6&ud)throw Error(rt(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||Cn(e,t),a=r?function(e,t){var n=ud;ud|=2;var r=tm(),a=nm();dd!==e||pd!==t?(Pd=null,zd=sn()+500,Jd(e,t)):vd=Cn(e,t);e:for(;;)try{if(0!==fd&&null!==md){t=md;var s=hd;t:switch(fd){case 1:fd=0,hd=null,cm(e,t,s,1);break;case 2:case 9:if(Ji(s)){fd=0,hd=null,om(t);break}t=function(){2!==fd&&9!==fd||dd!==e||(fd=7),Pm(e)},s.then(t,t);break e;case 3:fd=7;break e;case 4:fd=5;break e;case 7:Ji(s)?(fd=0,hd=null,om(t)):(fd=0,hd=null,cm(e,t,s,7));break;case 5:var i=null;switch(md.tag){case 26:i=md.memoizedState;case 5:case 27:var l=md;if(i?tf(i):l.stateNode.complete){fd=0,hd=null;var o=l.sibling;if(null!==o)md=o;else{var c=l.return;null!==c?(md=c,um(c)):md=null}break t}}fd=0,hd=null,cm(e,t,s,5);break;case 6:fd=0,hd=null,cm(e,t,s,6);break;case 8:Yd(),jd=6;break e;default:throw Error(rt(462))}}im();break}catch(u){Zd(e,u)}return yi=ji=null,zt.H=r,zt.A=a,ud=n,null!==md?0:(dd=null,pd=0,ks(),jd)}(e,t):am(e,t,!0),s=r;;){if(0===a){vd&&!r&&Wd(e,t,0,!1);break}if(n=e.current.alternate,!s||Qd(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var l=e;a=Cd;var o=l.current.memoizedState.isDehydrated;if(o&&(Jd(l,i).flags|=256),2!==(i=am(l,i,!1))){if(bd&&!o){l.errorRecoveryDisabledLanes|=s,Nd|=s,a=4;break e}s=kd,kd=a,null!==s&&(null===kd?kd=s:kd.push.apply(kd,s))}a=i}if(s=!1,2!==a)continue}}if(1===a){Jd(e,0),Wd(e,t,0,!0);break}e:{switch(r=e,s=a){case 0:case 1:throw Error(rt(345));case 4:if((4194048&t)!==t)break;case 6:Wd(r,t,_d,!gd);break e;case 2:kd=null;break;case 3:case 5:break;default:throw Error(rt(329))}if((62914560&t)===t&&10<(a=Ad+300-sn())){if(Wd(r,t,_d,!gd),0!==wn(r,0,!0))break e;Dd=t,r.timeoutHandle=bp(Kd.bind(null,r,n,kd,Pd,Ed,t,_d,Nd,wd,gd,s,"Throttled",-0,0),a)}else Kd(r,n,kd,Pd,Ed,t,_d,Nd,wd,gd,s,null,-0,0)}break}a=am(e,t,!1),s=!1}Pm(e)}function Kd(e,t,n,r,a,s,i,l,o,c,u,d,m,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){nd(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tr});var f=(62914560&s)===s?Ad-sn():(4194048&s)===s?Td-sn():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&sf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&sf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===nf&&(nf=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],s=a.transferSize,i=a.initiatorType,l=a.duration;if(s&&l&&up(i)){for(i=0,l=a.responseEnd,r+=1;r<n.length;r++){var o=n[r],c=o.startTime;if(c>l)break;var u=o.transferSize,d=o.initiatorType;u&&up(d)&&(i+=u*((o=o.responseEnd)<l?1:(l-c)/(o-c)))}if(--r,t+=8*(s+i)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&sf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>nf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(d,f)))return Dd=s,e.cancelPendingCommit=f(mm.bind(null,e,t,s,n,r,a,i,l,o,u,d,null,m,p)),void Wd(e,s,i,!c)}mm(e,t,s,n,r,a,i,l,o)}function Qd(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Wa(s(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wd(e,t,n,r){t&=~Sd,t&=~Nd,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-bn(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&zn(e,n,t)}function Xd(){return!!(6&ud)||(Rm(0),!1)}function Yd(){if(null!==md){if(0===fd)var e=md.return;else yi=ji=null,ro(e=md),al=null,sl=0,e=md;for(;null!==e;)mu(e.alternate,e),e=e.return;md=null}}function Jd(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xp(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Dd=0,Yd(),dd=e,md=n=Ds(e.current,null),pd=t,fd=0,hd=null,gd=!1,vd=Cn(e,t),bd=!1,wd=_d=Sd=Nd=yd=jd=0,kd=Cd=null,Ed=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-bn(r),s=1<<a;t|=e[a],r&=~s}return xd=t,ks(),n}function Zd(e,t){Ol=null,zt.H=mc,t===Qi||t===Xi?(t=nl(),fd=3):t===Wi?(t=nl(),fd=4):fd=t===Ac?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,hd=t,null===md&&(jd=1,_c(e,Gs(t,e.current)))}function em(){var e=Al.current;return null===e||((4194048&pd)===pd?null===Tl:!!((62914560&pd)===pd||536870912&pd)&&e===Tl)}function tm(){var e=zt.H;return zt.H=mc,null===e?mc:e}function nm(){var e=zt.A;return zt.A=od,e}function rm(){jd=4,gd||(4194048&pd)!==pd&&null!==Al.current||(vd=!0),!(134217727&yd)&&!(134217727&Nd)||null===dd||Wd(dd,pd,_d,!1)}function am(e,t,n){var r=ud;ud|=2;var a=tm(),s=nm();dd===e&&pd===t||(Pd=null,Jd(e,t)),t=!1;var i=jd;e:for(;;)try{if(0!==fd&&null!==md){var l=md,o=hd;switch(fd){case 8:Yd(),i=6;break e;case 3:case 2:case 9:case 6:null===Al.current&&(t=!0);var c=fd;if(fd=0,hd=null,cm(e,l,o,c),n&&vd){i=0;break e}break;default:c=fd,fd=0,hd=null,cm(e,l,o,c)}}sm(),i=jd;break}catch(u){Zd(e,u)}return t&&e.shellSuspendCounter++,yi=ji=null,ud=r,zt.H=a,zt.A=s,null===md&&(dd=null,pd=0,ks()),i}function sm(){for(;null!==md;)lm(md)}function im(){for(;null!==md&&!rn();)lm(md)}function lm(e){var t=ru(e.alternate,e,xd);e.memoizedProps=e.pendingProps,null===t?um(e):md=t}function om(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qc(n,t,t.pendingProps,t.type,void 0,pd);break;case 11:t=qc(n,t,t.pendingProps,t.type.render,t.ref,pd);break;case 5:ro(t);default:mu(n,t),t=ru(n,t=md=Ms(t,xd),xd)}e.memoizedProps=e.pendingProps,null===t?um(e):md=t}function cm(e,t,n,r){yi=ji=null,ro(t),al=null,sl=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Ci(t,n,a,!0),null!==(n=Al.current)){switch(n.tag){case 31:case 13:return null===Tl?rm():null===n.alternate&&0===jd&&(jd=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ym(e,r,a)),!1;case 22:return n.flags|=65536,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ym(e,r,a)),!1}throw Error(rt(435,n.tag))}return ym(e,r,a),rm(),!1}if(oi)return null!==(t=Al.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==di&&bi(Gs(e=Error(rt(422),{cause:r}),n))):(r!==di&&bi(Gs(t=Error(rt(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Gs(r,n),bl(e,a=Cc(e.stateNode,r,a)),4!==jd&&(jd=2)),!1;var s=Error(rt(520),{cause:r});if(s=Gs(s,n),null===Cd?Cd=[s]:Cd.push(s),4!==jd&&(jd=2),null===t)return!0;r=Gs(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,bl(n,e=Cc(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==Rd&&Rd.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Ec(a=kc(a),e,n,r),bl(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,pd))return jd=1,_c(e,Gs(n,e.current)),void(md=null)}catch(s){if(null!==a)throw md=a,s;return jd=1,_c(e,Gs(n,e.current)),void(md=null)}32768&t.flags?(oi||1===r?e=!0:vd||536870912&pd?e=!1:(gd=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Al.current)&&13===r.tag&&(r.flags|=16384))),dm(t,e)):um(t)}function um(e){var t=e;do{if(32768&t.flags)return void dm(t,gd);e=t.return;var n=uu(t.alternate,t,xd);if(null!==n)return void(md=n);if(null!==(t=t.sibling))return void(md=t);md=t=e}while(null!==t);0===jd&&(jd=5)}function dm(e,t){do{var n=du(e.alternate,e);if(null!==n)return n.flags&=32767,void(md=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(md=e);md=e=n}while(null!==e);jd=6,md=null}function mm(e,t,n,r,a,s,i,l,o){e.cancelPendingCommit=null;do{vm()}while(0!==Ld);if(6&ud)throw Error(rt(327));if(null!==t){if(t===e.current)throw Error(rt(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-bn(n),d=1<<u;l[u]=0,o[u]=-1;var m=c[u];if(null!==m)for(c[u]=null,u=0;u<m.length;u++){var p=m[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&zn(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,s|=Cs,i,l,o),e===dd&&(md=dd=null,pd=0),Fd=t,Id=e,Dd=n,Md=s,Od=a,Ud=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,tn(un,function(){return bm(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=zt.T,zt.T=null,a=Pt.p,Pt.p=2,i=ud,ud|=4;try{!function(e,t){if(e=e.containerInfo,dp=vf,ts(e=es(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(h){n=null;break e}var i=0,l=-1,o=-1,c=0,u=0,d=e,m=null;t:for(;;){for(var p;d!==n||0!==a&&3!==d.nodeType||(l=i+a),d!==s||0!==r&&3!==d.nodeType||(o=i+r),3===d.nodeType&&(i+=d.nodeValue.length),null!==(p=d.firstChild);)m=d,d=p;for(;;){if(d===e)break t;if(m===n&&++c===a&&(l=i),m===s&&++u===r&&(o=i),null!==(p=d.nextSibling))break;m=(d=m).parentNode}d=p}n=-1===l||-1===o?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(mp={focusedElem:e,selectionRange:n},vf=!1,Tu=t;null!==Tu;)if(e=(t=Tu).child,1028&t.subtreeFlags&&null!==e)e.return=t,Tu=e;else for(;null!==Tu;){switch(s=(t=Tu).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var f=jc(n.type,a);e=r.getSnapshotBeforeUpdate(f,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){jm(n,n.return,g)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Cp(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cp(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(rt(163))}if(null!==(e=t.sibling)){e.return=t.return,Tu=e;break}Tu=t.return}}(e,t)}finally{ud=i,Pt.p=a,zt.T=r}}Ld=1,pm(),fm(),hm()}}function pm(){if(1===Ld){Ld=0;var e=Id,t=Fd,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=zt.T,zt.T=null;var r=Pt.p;Pt.p=2;var a=ud;ud|=4;try{qu(t,e);var s=mp,i=es(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Za(l.ownerDocument.documentElement,l)){if(null!==o&&ts(l)){var c=o.start,u=o.end;if(void 0===u&&(u=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(u,l.value.length);else{var d=l.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var p=m.getSelection(),f=l.textContent.length,h=Math.min(o.start,f),g=void 0===o.end?h:Math.min(o.end,f);!p.extend&&h>g&&(i=g,g=h,h=i);var v=Ja(l,h),b=Ja(l,g);if(v&&b&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var x=d.createRange();x.setStart(v.node,v.offset),p.removeAllRanges(),h>g?(p.addRange(x),p.extend(b.node,b.offset)):(x.setEnd(b.node,b.offset),p.addRange(x))}}}}for(d=[],p=l;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof l.focus&&l.focus(),l=0;l<d.length;l++){var j=d[l];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}vf=!!dp,mp=dp=null}finally{ud=a,Pt.p=r,zt.T=n}}e.current=t,Ld=2}}function fm(){if(2===Ld){Ld=0;var e=Id,t=Fd,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=zt.T,zt.T=null;var r=Pt.p;Pt.p=2;var a=ud;ud|=4;try{zu(e,t.alternate,t)}finally{ud=a,Pt.p=r,zt.T=n}}Ld=3}}function hm(){if(4===Ld||3===Ld){Ld=0,an();var e=Id,t=Fd,n=Dd,r=Ud;10256&t.subtreeFlags||10256&t.flags?Ld=5:(Ld=0,Fd=Id=null,gm(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Rd=null),In(n),t=t.stateNode,gn&&"function"==typeof gn.onCommitFiberRoot)try{gn.onCommitFiberRoot(hn,t,void 0,!(128&~t.current.flags))}catch(o){}if(null!==r){t=zt.T,a=Pt.p,Pt.p=2,zt.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var l=r[i];s(l.value,{componentStack:l.stack})}}finally{zt.T=t,Pt.p=a}}3&Dd&&vm(),Pm(e),a=e.pendingLanes,261930&n&&42&a?e===qd?Bd++:(Bd=0,qd=e):Bd=0,Rm(0)}}function gm(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Di(t)))}function vm(){return pm(),fm(),hm(),bm()}function bm(){if(5!==Ld)return!1;var e=Id,t=Md;Md=0;var n=In(Dd),r=zt.T,a=Pt.p;try{Pt.p=32>n?32:n,zt.T=null,n=Od,Od=null;var s=Id,i=Dd;if(Ld=0,Fd=Id=null,Dd=0,6&ud)throw Error(rt(331));var l=ud;if(ud|=4,sd(s.current),Yu(s,s.current,i,n),ud=l,Rm(0,!1),gn&&"function"==typeof gn.onPostCommitFiberRoot)try{gn.onPostCommitFiberRoot(hn,s)}catch(o){}return!0}finally{Pt.p=a,zt.T=r,gm(e,t)}}function xm(e,t,n){t=Gs(n,t),null!==(e=gl(e,t=Cc(e.stateNode,t,2),2))&&(Tn(e,2),Pm(e))}function jm(e,t,n){if(3===e.tag)xm(e,e,n);else for(;null!==t;){if(3===t.tag){xm(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Rd||!Rd.has(r))){e=Gs(n,e),null!==(r=gl(t,n=kc(2),2))&&(Ec(n,r,t,e),Tn(r,2),Pm(r));break}}t=t.return}}function ym(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new cd;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(bd=!0,a.add(n),e=Nm.bind(null,e,t,n),t.then(e,e))}function Nm(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,dd===e&&(pd&n)===n&&(4===jd||3===jd&&(62914560&pd)===pd&&300>sn()-Ad?!(2&ud)&&Jd(e,0):Sd|=n,wd===pd&&(wd=0)),Pm(e)}function Sm(e,t){0===t&&(t=En()),null!==(e=Ts(e,t))&&(Tn(e,t),Pm(e))}function _m(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sm(e,n)}function wm(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(rt(314))}null!==r&&r.delete(t),Sm(e,n)}var Cm=null,km=null,Em=!1,Am=!1,Tm=!1,zm=0;function Pm(e){e!==km&&null===e.next&&(null===km?Cm=km=e:km=km.next=e),Am=!0,Em||(Em=!0,yp(function(){6&ud?tn(on,Lm):Im()}))}function Rm(e,t){if(!Tm&&Am){Tm=!0;do{for(var n=!1,r=Cm;null!==r;){if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,l=r.pingedLanes;s=(1<<31-bn(42|e)+1)-1,s=201326741&(s&=a&~(i&~l))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Mm(r,s))}else s=pd,!(3&(s=wn(r,r===dd?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Cn(r,s)||(n=!0,Mm(r,s));r=r.next}}while(n);Tm=!1}}function Lm(){Im()}function Im(){Am=Em=!1;var e=0;0!==zm&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==vp&&(vp=e,!0);return vp=null,!1}()&&(e=zm);for(var t=sn(),n=null,r=Cm;null!==r;){var a=r.next,s=Fm(r,t);0===s?(r.next=null,null===n?Cm=a:n.next=a,null===a&&(km=n)):(n=r,(0!==e||3&s)&&(Am=!0)),r=a}0!==Ld&&5!==Ld||Rm(e),0!==zm&&(zm=0)}function Fm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-bn(s),l=1<<i,o=a[i];-1===o?0!==(l&n)&&0===(l&r)||(a[i]=kn(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(n=pd,n=wn(e,e===(t=dd)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===fd||9===fd)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&nn(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Cn(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&nn(r),In(n)){case 2:case 8:n=cn;break;case 32:default:n=un;break;case 268435456:n=mn}return r=Dm.bind(null,e),n=tn(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&nn(r),e.callbackPriority=2,e.callbackNode=null,2}function Dm(e,t){if(0!==Ld&&5!==Ld)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(vm()&&e.callbackNode!==n)return null;var r=pd;return 0===(r=wn(e,e===dd?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Hd(e,r,t),Fm(e,sn()),null!=e.callbackNode&&e.callbackNode===n?Dm.bind(null,e):null)}function Mm(e,t){if(vm())return null;Hd(e,t,!0)}function Om(){if(0===zm){var e=Ui;0===e&&(e=yn,!(261888&(yn<<=1))&&(yn=256)),zm=e}return zm}function Um(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Ar(""+e)}function Bm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var qm=0;qm<ys.length;qm++){var $m=ys[qm];Ns($m.toLowerCase(),"on"+($m[0].toUpperCase()+$m.slice(1)))}Ns(ps,"onAnimationEnd"),Ns(fs,"onAnimationIteration"),Ns(hs,"onAnimationStart"),Ns("dblclick","onDoubleClick"),Ns("focusin","onFocus"),Ns("focusout","onBlur"),Ns(gs,"onTransitionRun"),Ns(vs,"onTransitionStart"),Ns(bs,"onTransitionCancel"),Ns(xs,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vm));function Hm(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=c;try{s(a)}catch(u){Ss(u)}a.currentTarget=null,s=o}else for(i=0;i<r.length;i++){if(o=(l=r[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=c;try{s(a)}catch(u){Ss(u)}a.currentTarget=null,s=o}}}}function Km(e,t){var n=t[qn];void 0===n&&(n=t[qn]=new Set);var r=e+"__bubble";n.has(r)||(Ym(t,e,2,!1),n.add(r))}function Qm(e,t,n){var r=0;t&&(r|=4),Ym(n,e,r,t)}var Wm="_reactListening"+Math.random().toString(36).slice(2);function Xm(e){if(!e[Wm]){e[Wm]=!0,Zn.forEach(function(t){"selectionchange"!==t&&(Gm.has(t)||Qm(t,!1,e),Qm(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wm]||(t[Wm]=!0,Qm("selectionchange",!1,t))}}function Ym(e,t,n,r){switch(_f(t)){case 2:var a=bf;break;case 8:a=xf;break;default:a=jf}n=a.bind(null,t,n,e),a=void 0,!Ur||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Jm(e,t,n,r,a){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===a)break;if(4===i)for(i=r.return;null!==i;){var o=i.tag;if((3===o||4===o)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==l;){if(null===(i=Qn(l)))return;if(5===(o=i.tag)||6===o||26===o||27===o){r=s=i;continue e}l=l.parentNode}}r=r.return}Dr(function(){var r=s,a=Pr(n),i=[];e:{var l=js.get(e);if(void 0!==l){var o=ea,c=e;switch(e){case"keypress":if(0===Hr(n))break e;case"keydown":case"keyup":o=ha;break;case"focusin":c="focus",o=ia;break;case"focusout":c="blur",o=ia;break;case"beforeblur":case"afterblur":o=ia;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=sa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=va;break;case ps:case fs:case hs:o=la;break;case xs:o=ba;break;case"scroll":case"scrollend":o=na;break;case"wheel":o=xa;break;case"copy":case"cut":case"paste":o=oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=ga;break;case"toggle":case"beforetoggle":o=ja}var u=!!(4&t),d=!u&&("scroll"===e||"scrollend"===e),m=u?null!==l?l+"Capture":null:l;u=[];for(var p,f=r;null!==f;){var h=f;if(p=h.stateNode,5!==(h=h.tag)&&26!==h&&27!==h||null===p||null===m||null!=(h=Mr(f,m))&&u.push(Zm(f,h,p)),d)break;f=f.return}0<u.length&&(l=new o(l,c,null,n,a),i.push({event:l,listeners:u}))}}if(!(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===zr||!(c=n.relatedTarget||n.fromElement)||!Qn(c)&&!c[Bn])&&(o||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?Qn(c):null)&&(d=st(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(o=null,c=r),o!==c)){if(u=aa,h="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=ga,h="onPointerLeave",m="onPointerEnter",f="pointer"),d=null==o?l:Xn(o),p=null==c?l:Xn(c),(l=new u(h,f+"leave",o,n,a)).target=d,l.relatedTarget=p,h=null,Qn(a)===r&&((u=new u(m,f+"enter",c,n,a)).target=p,u.relatedTarget=d,h=u),d=h,o&&c)e:{for(u=tp,f=c,p=0,h=m=o;h;h=u(h))p++;h=0;for(var g=f;g;g=u(g))h++;for(;0<p-h;)m=u(m),p--;for(;0<h-p;)f=u(f),h--;for(;p--;){if(m===f||null!==f&&m===f.alternate){u=m;break e}m=u(m),f=u(f)}u=null}else u=null;null!==o&&np(i,l,o,u,!1),null!==c&&null!==d&&np(i,d,c,u,!0)}if("select"===(o=(l=r?Xn(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var v=Ma;else if(Pa(l))if(Oa)v=Qa;else{v=Ha;var b=Ga}else!(o=l.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Cr(r.elementType)&&(v=Ma):v=Ka;switch(v&&(v=v(e,r))?Ra(i,v,n,a):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&br(l,"number",l.value)),b=r?Xn(r):window,e){case"focusin":(Pa(b)||"true"===b.contentEditable)&&(rs=b,as=r,ss=null);break;case"focusout":ss=as=rs=null;break;case"mousedown":is=!0;break;case"contextmenu":case"mouseup":case"dragend":is=!1,ls(i,n,a);break;case"selectionchange":if(ns)break;case"keydown":case"keyup":ls(i,n,a)}var x;if(Na)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ta?Ea(e,n)&&(j="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(j="onCompositionStart");j&&(wa&&"ko"!==n.locale&&(Ta||"onCompositionStart"!==j?"onCompositionEnd"===j&&Ta&&(x=Gr()):($r="value"in(qr=a)?qr.value:qr.textContent,Ta=!0)),0<(b=ep(r,j)).length&&(j=new ca(j,e,null,n,a),i.push({event:j,listeners:b}),x?j.data=x:null!==(x=Aa(n))&&(j.data=x))),(x=_a?function(e,t){switch(e){case"compositionend":return Aa(t);case"keypress":return 32!==t.which?null:(ka=!0,Ca);case"textInput":return(e=t.data)===Ca&&ka?null:e;default:return null}}(e,n):function(e,t){if(Ta)return"compositionend"===e||!Na&&Ea(e,t)?(e=Gr(),Vr=$r=qr=null,Ta=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wa&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(j=ep(r,"onBeforeInput")).length&&(b=new ca("onBeforeInput","beforeinput",null,n,a),i.push({event:b,listeners:j}),b.data=x)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Um((a[Un]||null).action),i=r.submitter;i&&null!==(t=(t=i[Un]||null)?Um(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var l=new ea("action","action",null,r,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==zm){var e=i?Bm(a,i):new FormData(a);Jo(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"==typeof s&&(l.preventDefault(),e=i?Bm(a,i):new FormData(a),Jo(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,r,n,a)}Hm(i,t)})}function Zm(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ep(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Mr(e,n))&&r.unshift(Zm(e,a,s)),null!=(a=Mr(e,t))&&r.push(Zm(e,a,s))),3===e.tag)return r;e=e.return}return[]}function tp(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function np(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,null!==o&&o===r)break;5!==l&&26!==l&&27!==l||null===c||(o=c,a?null!=(c=Mr(n,s))&&i.unshift(Zm(n,c,o)):a||null!=(c=Mr(n,s))&&i.push(Zm(n,c,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var rp=/\r\n?/g,ap=/\u0000|\uFFFD/g;function sp(e){return("string"==typeof e?e:""+e).replace(rp,"\n").replace(ap,"")}function ip(e,t){return t=sp(t),sp(e)===t}function lp(e,t,n,r,a,s){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||Nr(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&Nr(e,""+r);break;case"className":lr(e,"class",r);break;case"tabIndex":lr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(e,n,r);break;case"style":wr(e,r,s);break;case"data":if("object"!==t){lr(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Ar(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&lp(e,t,"name",a.name,a,null),lp(e,t,"formEncType",a.formEncType,a,null),lp(e,t,"formMethod",a.formMethod,a,null),lp(e,t,"formTarget",a.formTarget,a,null)):(lp(e,t,"encType",a.encType,a,null),lp(e,t,"method",a.method,a,null),lp(e,t,"target",a.target,a,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Ar(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Tr);break;case"onScroll":null!=r&&Km("scroll",e);break;case"onScrollEnd":null!=r&&Km("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(rt(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(rt(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Ar(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Km("beforetoggle",e),Km("toggle",e),ir(e,"popover",r);break;case"xlinkActuate":or(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":or(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":or(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":or(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":or(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":or(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":or(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":or(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":or(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ir(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ir(e,n=kr.get(n)||n,r)}}function op(e,t,n,r,a,s){switch(n){case"style":wr(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(rt(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(rt(60));e.innerHTML=n}}break;case"children":"string"==typeof r?Nr(e,r):("number"==typeof r||"bigint"==typeof r)&&Nr(e,""+r);break;case"onScroll":null!=r&&Km("scroll",e);break;case"onScrollEnd":null!=r&&Km("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Tr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:er.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(s=null!=(s=e[Un]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ir(e,n,r):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function cp(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Km("error",e),Km("load",e);var r,a=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var i=n[r];if(null!=i)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(rt(137,t));default:lp(e,t,r,i,n,null)}}return s&&lp(e,t,"srcSet",n.srcSet,n,null),void(a&&lp(e,t,"src",n.src,n,null));case"input":Km("invalid",e);var l=r=i=s=null,o=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];if(null!=u)switch(a){case"name":s=u;break;case"type":i=u;break;case"checked":o=u;break;case"defaultChecked":c=u;break;case"value":r=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(rt(137,t));break;default:lp(e,t,a,u,n,null)}}return void vr(e,r,l,o,c,i,s,!1);case"select":for(s in Km("invalid",e),a=i=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":i=l;break;case"multiple":a=l;default:lp(e,t,s,l,n,null)}return t=r,n=i,e.multiple=!!a,void(null!=t?xr(e,!!a,t,!1):null!=n&&xr(e,!!a,n,!0));case"textarea":for(i in Km("invalid",e),r=s=a=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":a=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(rt(91));break;default:lp(e,t,i,l,n,null)}return void yr(e,a,s,r);case"option":for(o in n)if(n.hasOwnProperty(o)&&null!=(a=n[o]))if("selected"===o)e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a;else lp(e,t,o,a,n,null);return;case"dialog":Km("beforetoggle",e),Km("toggle",e),Km("cancel",e),Km("close",e);break;case"iframe":case"object":Km("load",e);break;case"video":case"audio":for(a=0;a<Vm.length;a++)Km(Vm[a],e);break;case"image":Km("error",e),Km("load",e);break;case"details":Km("toggle",e);break;case"embed":case"source":case"link":Km("error",e),Km("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(rt(137,t));default:lp(e,t,c,a,n,null)}return;default:if(Cr(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(a=n[u])&&op(e,t,u,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&lp(e,t,l,a,n,null))}function up(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var dp=null,mp=null;function pp(e){return 9===e.nodeType?e:e.ownerDocument}function fp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hp(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function gp(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vp=null;var bp="function"==typeof setTimeout?setTimeout:void 0,xp="function"==typeof clearTimeout?clearTimeout:void 0,jp="function"==typeof Promise?Promise:void 0,yp="function"==typeof queueMicrotask?queueMicrotask:void 0!==jp?function(e){return jp.resolve(null).then(e).catch(Np)}:bp;function Np(e){setTimeout(function(){throw e})}function Sp(e){return"head"===e}function _p(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void qf(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Ip(e.ownerDocument.documentElement);else if("head"===n){Ip(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var i=s.nextSibling,l=s.nodeName;s[Hn]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=i}}else"body"===n&&Ip(e.ownerDocument.body);n=a}while(n);qf(t)}function wp(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Cp(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Cp(n),Kn(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function kp(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Tp(e.nextSibling)))return null}return e}function Ep(e){return"$?"===e.data||"$~"===e.data}function Ap(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Tp(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var zp=null;function Pp(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Tp(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Rp(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Lp(e,t,n){switch(t=pp(n),e){case"html":if(!(e=t.documentElement))throw Error(rt(452));return e;case"head":if(!(e=t.head))throw Error(rt(453));return e;case"body":if(!(e=t.body))throw Error(rt(454));return e;default:throw Error(rt(451))}}function Ip(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Kn(e)}var Fp=new Map,Dp=new Set;function Mp(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Op=Pt.d;Pt.d={f:function(){var e=Op.f(),t=Xd();return e||t},r:function(e){var t=Wn(e);null!==t&&5===t.tag&&"form"===t.type?ec(t):Op.r(e)},D:function(e){Op.D(e),Bp("dns-prefetch",e,null)},C:function(e,t){Op.C(e,t),Bp("preconnect",e,t)},L:function(e,t,n){Op.L(e,t,n);var r=Up;if(r&&e&&t){var a='link[rel="preload"][as="'+hr(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+hr(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(a+='[imagesizes="'+hr(n.imageSizes)+'"]')):a+='[href="'+hr(e)+'"]';var s=a;switch(t){case"style":s=$p(e);break;case"script":s=Hp(e)}Fp.has(s)||(e=ut({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fp.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Vp(s))||"script"===t&&r.querySelector(Kp(s))||(cp(t=r.createElement("link"),"link",e),Jn(t),r.head.appendChild(t)))}},m:function(e,t){Op.m(e,t);var n=Up;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+hr(r)+'"][href="'+hr(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Hp(e)}if(!Fp.has(s)&&(e=ut({rel:"modulepreload",href:e},t),Fp.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Kp(s)))return}cp(r=n.createElement("link"),"link",e),Jn(r),n.head.appendChild(r)}}},X:function(e,t){Op.X(e,t);var n=Up;if(n&&e){var r=Yn(n).hoistableScripts,a=Hp(e),s=r.get(a);s||((s=n.querySelector(Kp(a)))||(e=ut({src:e,async:!0},t),(t=Fp.get(a))&&Yp(e,t),Jn(s=n.createElement("script")),cp(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Op.S(e,t,n);var r=Up;if(r&&e){var a=Yn(r).hoistableStyles,s=$p(e);t=t||"default";var i=a.get(s);if(!i){var l={loading:0,preload:null};if(i=r.querySelector(Vp(s)))l.loading=5;else{e=ut({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fp.get(s))&&Xp(e,n);var o=i=r.createElement("link");Jn(o),cp(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Wp(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:l},a.set(s,i)}}},M:function(e,t){Op.M(e,t);var n=Up;if(n&&e){var r=Yn(n).hoistableScripts,a=Hp(e),s=r.get(a);s||((s=n.querySelector(Kp(a)))||(e=ut({src:e,async:!0,type:"module"},t),(t=Fp.get(a))&&Yp(e,t),Jn(s=n.createElement("script")),cp(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var Up="undefined"==typeof document?null:document;function Bp(e,t,n){var r=Up;if(r&&"string"==typeof t&&t){var a=hr(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"==typeof n&&(a+='[crossorigin="'+n+'"]'),Dp.has(a)||(Dp.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(cp(t=r.createElement("link"),"link",e),Jn(t),r.head.appendChild(t)))}}function qp(e,t,n,r){var a,s,i,l,o=(o=$t.current)?Mp(o):null;if(!o)throw Error(rt(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=$p(n.href),(r=(n=Yn(o).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=$p(n.href);var c=Yn(o).hoistableStyles,u=c.get(e);if(u||(o=o.ownerDocument||o,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,u),(c=o.querySelector(Vp(e)))&&!c._p&&(u.instance=c,u.state.loading=5),Fp.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fp.set(e,n),c||(a=o,s=e,i=n,l=u.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),cp(s,"link",i),Jn(s),a.head.appendChild(s))))),t&&null===r)throw Error(rt(528,""));return u}if(t&&null!==r)throw Error(rt(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Hp(n),(r=(n=Yn(o).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(rt(444,e))}}function $p(e){return'href="'+hr(e)+'"'}function Vp(e){return'link[rel="stylesheet"]['+e+"]"}function Gp(e){return ut({},e,{"data-precedence":e.precedence,precedence:null})}function Hp(e){return'[src="'+hr(e)+'"]'}function Kp(e){return"script[async]"+e}function Qp(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+hr(n.href)+'"]');if(r)return t.instance=r,Jn(r),r;var a=ut({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Jn(r=(e.ownerDocument||e).createElement("style")),cp(r,"style",a),Wp(r,n.precedence,e),t.instance=r;case"stylesheet":a=$p(n.href);var s=e.querySelector(Vp(a));if(s)return t.state.loading|=4,t.instance=s,Jn(s),s;r=Gp(n),(a=Fp.get(a))&&Xp(r,a),Jn(s=(e.ownerDocument||e).createElement("link"));var i=s;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),cp(s,"link",r),t.state.loading|=4,Wp(s,n.precedence,e),t.instance=s;case"script":return s=Hp(n.src),(a=e.querySelector(Kp(s)))?(t.instance=a,Jn(a),a):(r=n,(a=Fp.get(s))&&Yp(r=ut({},n),a),Jn(a=(e=e.ownerDocument||e).createElement("script")),cp(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(rt(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Wp(r,n.precedence,e));return t.instance}function Wp(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var l=r[i];if(l.dataset.precedence===t)s=l;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Xp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Yp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Jp=null;function Zp(e,t,n){if(null===Jp){var r=new Map,a=Jp=new Map;a.set(n,r)}else(r=(a=Jp).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Hn]||s[On]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var l=r.get(i);l?l.push(s):r.set(i,[s])}}return r}function ef(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function tf(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var nf=0;function rf(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var af=null;function sf(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,af=new Map,t.forEach(lf,e),af=null,rf.call(e))}function lf(e,t){if(!(4&t.state.loading)){var n=af.get(e);if(n)var r=n.get(null);else{n=new Map,af.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=rf.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var of={$$typeof:bt,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function cf(e,t,n,r,a,s,i,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=An(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=An(0),this.hiddenUpdates=An(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function uf(e,t,n,r,a,s,i,l,o,c,u,d){return e=new cf(e,t,n,i,o,c,u,d,l),t=1,!0===s&&(t|=24),s=Is(3,null,null,t),e.current=s,s.stateNode=e,(t=Fi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},pl(s),e}function df(e){return e?e=Rs:Rs}function mf(e,t,n,r,a,s){a=df(a),null===r.context?r.context=a:r.pendingContext=a,(r=hl(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=gl(e,r,t))&&(Gd(n,0,t),vl(n,e,t))}function pf(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ff(e,t){pf(e,t),(e=e.alternate)&&pf(e,t)}function hf(e){if(13===e.tag||31===e.tag){var t=Ts(e,67108864);null!==t&&Gd(t,0,67108864),ff(e,67108864)}}function gf(e){if(13===e.tag||31===e.tag){var t=$d(),n=Ts(e,t=Ln(t));null!==n&&Gd(n,0,t),ff(e,t)}}var vf=!0;function bf(e,t,n,r){var a=zt.T;zt.T=null;var s=Pt.p;try{Pt.p=2,jf(e,t,n,r)}finally{Pt.p=s,zt.T=a}}function xf(e,t,n,r){var a=zt.T;zt.T=null;var s=Pt.p;try{Pt.p=8,jf(e,t,n,r)}finally{Pt.p=s,zt.T=a}}function jf(e,t,n,r){if(vf){var a=yf(r);if(null===a)Jm(e,t,r,Nf,n),Rf(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Cf=Lf(Cf,e,t,n,r,a),!0;case"dragenter":return kf=Lf(kf,e,t,n,r,a),!0;case"mouseover":return Ef=Lf(Ef,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Af.set(s,Lf(Af.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Tf.set(s,Lf(Tf.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Rf(e,r),4&t&&-1<Pf.indexOf(e)){for(;null!==a;){var s=Wn(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=_n(s.pendingLanes);if(0!==i){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var o=1<<31-bn(i);l.entanglements[1]|=o,i&=~o}Pm(s),!(6&ud)&&(zd=sn()+500,Rm(0))}}break;case 31:case 13:null!==(l=Ts(s,2))&&Gd(l,0,2),Xd(),ff(s,2)}if(null===(s=yf(r))&&Jm(e,t,r,Nf,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Jm(e,t,r,null,n)}}function yf(e){return Sf(e=Pr(e))}var Nf=null;function Sf(e){if(Nf=null,null!==(e=Qn(e))){var t=st(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=it(t)))return e;e=null}else if(31===n){if(null!==(e=lt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nf=e,null}function _f(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ln()){case on:return 2;case cn:return 8;case un:case dn:return 32;case mn:return 268435456;default:return 32}default:return 32}}var wf=!1,Cf=null,kf=null,Ef=null,Af=new Map,Tf=new Map,zf=[],Pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rf(e,t){switch(e){case"focusin":case"focusout":Cf=null;break;case"dragenter":case"dragleave":kf=null;break;case"mouseover":case"mouseout":Ef=null;break;case"pointerover":case"pointerout":Af.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tf.delete(t.pointerId)}}function Lf(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Wn(t))&&hf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function If(e){var t=Qn(e.target);if(null!==t){var n=st(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=it(n)))return e.blockedOn=t,void Dn(e.priority,function(){gf(n)})}else if(31===t){if(null!==(t=lt(n)))return e.blockedOn=t,void Dn(e.priority,function(){gf(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ff(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=yf(e.nativeEvent);if(null!==n)return null!==(t=Wn(n))&&hf(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);zr=r,n.target.dispatchEvent(r),zr=null,t.shift()}return!0}function Df(e,t,n){Ff(e)&&n.delete(t)}function Mf(){wf=!1,null!==Cf&&Ff(Cf)&&(Cf=null),null!==kf&&Ff(kf)&&(kf=null),null!==Ef&&Ff(Ef)&&(Ef=null),Af.forEach(Df),Tf.forEach(Df)}function Of(e,t){e.blockedOn===t&&(e.blockedOn=null,wf||(wf=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,Mf)))}var Uf=null;function Bf(e){Uf!==e&&(Uf=e,et.unstable_scheduleCallback(et.unstable_NormalPriority,function(){Uf===e&&(Uf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!=typeof r){if(null===Sf(r||n))continue;break}var s=Wn(n);null!==s&&(e.splice(t,3),t-=3,Jo(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function qf(e){function t(t){return Of(t,e)}null!==Cf&&Of(Cf,e),null!==kf&&Of(kf,e),null!==Ef&&Of(Ef,e),Af.forEach(t),Tf.forEach(t);for(var n=0;n<zf.length;n++){var r=zf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<zf.length&&null===(n=zf[0]).blockedOn;)If(n),null===n.blockedOn&&zf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[Un]||null;if("function"==typeof s)i||Bf(n);else if(i){var l=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[Un]||null)l=i.formAction;else if(null!==Sf(a))continue}else l=i.action;"function"==typeof l?n[r+1]=l:(n.splice(r,3),r-=3),Bf(n)}}}function $f(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Vf(e){this._internalRoot=e}function Gf(e){this._internalRoot=e}Gf.prototype.render=Vf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(rt(409));mf(t.current,$d(),e,t,null,null)},Gf.prototype.unmount=Vf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mf(e.current,2,null,e,null,null),Xd(),t[Bn]=null}},Gf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zf.length&&0!==t&&t<zf[n].priority;n++);zf.splice(n,0,e),0===n&&If(e)}};var Hf=tt.version;if("19.2.0"!==Hf)throw Error(rt(527,Hf,"19.2.0"));Pt.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(rt(188));throw e=Object.keys(e).join(","),Error(rt(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=st(e)))throw Error(rt(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return ot(a),e;if(s===r)return ot(a),t;s=s.sibling}throw Error(rt(188))}if(n.return!==r.return)n=a,r=s;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i)throw Error(rt(189))}}if(n.alternate!==r)throw Error(rt(190))}if(3!==n.tag)throw Error(rt(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?ct(e):null)?null:e.stateNode};var Kf={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:zt,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{hn=Qf.inject(Kf),gn=Qf}catch(Eg){}}Ye.createRoot=function(e,t){if(!at(e))throw Error(rt(299));var n=!1,r="",a=yc,s=Nc,i=Sc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=uf(e,1,!1,null,0,n,r,null,a,s,i,$f),e[Bn]=t.current,Xm(e),new Vf(t)},Ye.hydrateRoot=function(e,t,n){if(!at(e))throw Error(rt(299));var r=!1,a="",s=yc,i=Nc,l=Sc,o=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(i=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.formState&&(o=n.formState)),(t=uf(e,1,!0,t,0,r,a,o,s,i,l,$f)).context=df(null),n=t.current,(a=hl(r=Ln(r=$d()))).callback=null,gl(n,a,r),n=r,t.current.lanes=n,Tn(t,n),Pm(t),e[Bn]=t.current,Xm(e),new Gf(t)},Ye.version="19.2.0",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(Eg){console.error(Eg)}}(),Xe.exports=Ye;var Wf=Xe.exports;const Xf=d("https://rbhuuswonlotxtsedhrj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJiaHV1c3dvbmxvdHh0c2VkaHJqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTk4ODksImV4cCI6MjA3OTIzNTg4OX0.fwBz1vOtIR6Cx-YiINn_HHeK0S2Y8f0S9dEGCS2vjPY"),Yf={async signIn(e,t){try{const{data:n,error:r}=await Xf.auth.signInWithPassword({email:e,password:t});return r?{data:null,error:r}:((null==n?void 0:n.user)&&await this.ensureUserProfile(n.user.id,n.user.email),{data:n,error:null})}catch(Eg){return console.error("Supabase auth error:",Eg),{data:null,error:Eg}}},async signUp(e,t,n,r,a="ADMIN_SERIP"){try{const{data:s,error:i}=await Xf.auth.signUp({email:e,password:t,options:{data:{nom:n,prenom:r,role:a}}});if(i)return{data:null,error:i};if(null==s?void 0:s.user){const{error:e}=await Xf.from("users").insert({id:s.user.id,email:s.user.email,nom:n,prenom:r,role:a||"ADMIN_SERIP",actif:!0,date_creation:(new Date).toISOString()});if(e&&(console.error("Error creating user profile:",e),"23505"!==e.code))return{data:null,error:e}}return{data:s,error:null}}catch(Eg){return console.error("Sign up error:",Eg),{data:null,error:Eg}}},async signOut(){const{error:e}=await Xf.auth.signOut();return{error:e}},async getSession(){const{data:e,error:t}=await Xf.auth.getSession();return{data:e,error:t}},async getUserProfile(e){var t,n,r,a;try{const{data:s,error:i}=await Xf.from("users").select("*").eq("id",e).single();if(i){if("PGRST116"===i.code){const{data:{user:e}}=await Xf.auth.getUser();if(e)return{data:{id:e.id,email:e.email,nom:(null==(t=e.user_metadata)?void 0:t.nom)||(null==(n=e.email)?void 0:n.split("@")[0])||"Utilisateur",prenom:(null==(r=e.user_metadata)?void 0:r.prenom)||"",role:(null==(a=e.user_metadata)?void 0:a.role)||"ADMIN_SERIP",actif:!0},error:null}}return{data:null,error:i}}return{data:s,error:null}}catch(Eg){return console.error("Error fetching user profile:",Eg),{data:null,error:Eg}}},async ensureUserProfile(e,t){var n,r,a;try{const{data:s}=await Xf.from("users").select("id").eq("id",e).single();if(!s){const{data:{user:s}}=await Xf.auth.getUser(),{error:i}=await Xf.from("users").insert({id:e,email:t,nom:(null==(n=null==s?void 0:s.user_metadata)?void 0:n.nom)||(null==t?void 0:t.split("@")[0])||"Utilisateur",prenom:(null==(r=null==s?void 0:s.user_metadata)?void 0:r.prenom)||"",role:(null==(a=null==s?void 0:s.user_metadata)?void 0:a.role)||"ADMIN_SERIP",actif:!0,date_creation:(new Date).toISOString()});i&&"23505"!==i.code&&console.error("Error creating user profile:",i)}}catch(Eg){console.error("Error ensuring user profile:",Eg)}},onAuthStateChange(e){const{data:t}=Xf.auth.onAuthStateChange(async(t,n)=>{"SIGNED_IN"===t&&(null==n?void 0:n.user)&&await this.ensureUserProfile(n.user.id,n.user.email),e(t,n)});return t},async getCurrentUser(){const{data:{user:e},error:t}=await Xf.auth.getUser();return{data:e,error:t}},async updateUserProfile(e,t){try{const{data:n,error:r}=await Xf.from("users").update(t).eq("id",e).select().single();return r?{data:null,error:r}:{data:n,error:null}}catch(Eg){return console.error("Error updating user profile:",Eg),{data:null,error:Eg}}}},Jf={"":le,"":ie,"":b,"":se,"":ae,"":re,"":ne,"":A,"":te,"":ee,"":Z,"":J,"":Y,"":X,"":W,"":S,"":w,"":k,"":Q,"":K,"":H,"":G,"":V,"":$,"":q,"":B,"":_,"":U,"":O,"":M,"":D,"":F,"":I,"":L,"":R,"":P,"":z,"":T,"":A,"":E,"":k,"":C,"":w,"":w,"":_,"":S,"":N,"":y,"":j,"":x,"":b,"":v,"":g,"":h,"":f,"":p,"":m},Zf={BarChart3:le,ClipboardList:ie,DollarSign:b,Users:se,GraduationCap:ae,FileEdit:re,Folder:ne,TrendingUp:A,Calendar:te,FileText:ee,Sparkles:Z,Crown:J,User:Y,Handshake:X,Building2:W,MapPin:S,CheckCircle2:w,Clock:k,AlertCircle:Q,Plus:K,Search:H,Settings:G,Bell:V,LogOut:$,ChevronRight:q,ChevronLeft:B,X:_,Eye:U,Edit:O,Trash2:M,Download:D,Upload:F,Filter:I,MoreVertical:L,Mail:R,Lock:P,Key:z,Unlock:T,ArrowUp:A,AlertTriangle:E,Timer:k,Star:C,Info:N,Target:y,ScrollText:j,UserCircle:x,TrendingDown:v,Receipt:Ue,Wallet:Oe,Briefcase:g,Package:h,FileSpreadsheet:Me,Check:De,UserPlus:Fe,RefreshCw:Ie,Lightbulb:Le,Phone:Re,History:Pe,Minus:ze,Archive:Te,Pin:Ae,ChevronUp:Ee,ChevronDown:m,CheckSquare:ke,ArrowUpDown:Ce,LayoutGrid:we,Table:_e,Save:Se,List:Ne,Link:ye,CheckCircle:w,XCircle:_,CheckCheck:je,CalendarX:xe,BellOff:be,Circle:ve,PieChart:ge,Award:he,CreditCard:fe,Loader:pe,EyeOff:me,ArrowLeft:de,HelpCircle:ue,UserCheck:ce,BookOpen:f,Bookmark:oe};function eh({name:e,size:t=20,color:n="currentColor",className:r="",...a}){if(Jf[e]){const s=Jf[e];return We.jsx(s,{size:t,color:n,className:r,...a})}if(Zf[e]){const s=Zf[e];return We.jsx(s,{size:t,color:n,className:r,...a})}return console.warn(`Icon "${e}" not found in mapping`),We.jsx("span",{style:{fontSize:t},children:e})}function th({to:e=null,label:t="Retour",variant:r="default",onClick:a=null}){const s=n();return We.jsxs("button",{className:`back-button back-button--${r}`,onClick:()=>{a?a():s(e||-1)},"aria-label":t,children:[We.jsx(de,{size:18}),We.jsx("span",{children:t})]})}function nh(){const[t,n]=e.useState(""),[a,s]=e.useState(""),[i,l]=e.useState(!1),[o,c]=e.useState(null),[u,d]=e.useState(!1);return We.jsxs("div",{className:"login-container auth-page",children:[We.jsxs("div",{className:"login-background",children:[We.jsx("div",{className:"bg-shape bg-shape-1"}),We.jsx("div",{className:"bg-shape bg-shape-2"}),We.jsx("div",{className:"bg-shape bg-shape-3"})]}),We.jsx(th,{to:"/",label:"Retour  l'accueil",variant:"ghost"}),We.jsx("div",{className:"login-wrapper",children:We.jsxs("div",{className:"login-card",children:[We.jsxs("div",{className:"login-header",children:[We.jsxs("div",{className:"login-logo",children:[We.jsx("div",{className:"logo-wrapper",children:We.jsx(eh,{name:"",size:32,className:"logo-icon"})}),We.jsxs("div",{className:"logo-text",children:[We.jsx("h1",{className:"login-title",children:"SERIP-CAS ERP"}),We.jsx("span",{className:"logo-subtitle",children:"Systme de Gestion Intgr"})]})]}),We.jsx("p",{className:"login-description",children:"ERP pour la gestion des programmes, projets et bnficiaires"})]}),We.jsxs("form",{id:"login-form",onSubmit:async e=>{var n,r,s;if(e.preventDefault(),!i){l(!0),c(null);try{const e=await Yf.signIn(t,a);if(e.error)return c(e.error.message||"Email ou mot de passe incorrect"),void l(!1);(null==(n=e.data)?void 0:n.user)||(null==(s=null==(r=e.data)?void 0:r.session)?void 0:s.user)?window.location.href="/":(c("Erreur lors de la connexion"),l(!1))}catch(Eg){console.error("Login error:",Eg),c("Une erreur est survenue lors de la connexion"),l(!1)}}},className:"login-form",children:[We.jsxs("div",{className:"form-group",children:[We.jsxs("label",{htmlFor:"email",className:"form-label",children:[We.jsx(eh,{name:"",size:16,className:"label-icon"}),"Adresse email"]}),We.jsx("div",{className:"input-wrapper",children:We.jsx("input",{id:"email",type:"email",className:"form-input",value:t,onChange:e=>n(e.target.value),required:!0,placeholder:"votre@email.com",autoComplete:"email",disabled:i})})]}),We.jsxs("div",{className:"form-group",children:[We.jsxs("label",{htmlFor:"password",className:"form-label",children:[We.jsx(eh,{name:"",size:16,className:"label-icon"}),"Mot de passe"]}),We.jsxs("div",{className:"input-wrapper password-wrapper",children:[We.jsx("input",{id:"password",type:u?"text":"password",className:"form-input",value:a,onChange:e=>s(e.target.value),required:!0,placeholder:"",autoComplete:"current-password",disabled:i}),We.jsx("button",{type:"button",className:"password-toggle",onClick:()=>d(!u),disabled:i,tabIndex:-1,"aria-label":u?"Masquer le mot de passe":"Afficher le mot de passe",children:We.jsx(eh,{name:"",size:18})})]})]}),o&&We.jsxs("div",{className:"error-message",role:"alert",children:[We.jsx(eh,{name:"",size:18,className:"error-icon"}),We.jsx("span",{className:"error-text",children:o})]}),We.jsx("button",{type:"submit",className:"btn-login",disabled:i,children:i?We.jsxs(We.Fragment,{children:[We.jsx("span",{className:"spinner-small"}),We.jsx("span",{children:"Connexion en cours..."})]}):We.jsxs(We.Fragment,{children:[We.jsx("span",{children:"Se connecter"}),We.jsx(eh,{name:"",size:18,className:"btn-arrow"})]})})]}),We.jsxs("div",{className:"login-footer",children:[We.jsxs("p",{className:"login-footer-text",children:["Vous n'avez pas de compte ?"," ",We.jsx(r,{to:"/register",className:"login-link",children:"Crer un compte"})]}),We.jsx("p",{className:"login-footer-text",children:We.jsx(r,{to:"/",className:"login-link login-link--secondary",children:" Retour  l'accueil"})})]})]})})]})}function rh(){const t=n(),[a,s]=e.useState({email:"",password:"",confirmPassword:"",nom:"",prenom:""}),[i,l]=e.useState(!1),[o,c]=e.useState(null),[u,d]=e.useState(!1),[m,p]=e.useState(!1),f=e=>{const{name:t,value:n}=e.target;s(e=>({...e,[t]:n})),o&&c(null)};return We.jsxs("div",{className:"register-container auth-page",children:[We.jsxs("div",{className:"register-background",children:[We.jsx("div",{className:"bg-shape bg-shape-1"}),We.jsx("div",{className:"bg-shape bg-shape-2"}),We.jsx("div",{className:"bg-shape bg-shape-3"})]}),We.jsx(th,{to:"/",label:"Retour  l'accueil",variant:"ghost"}),We.jsx("div",{className:"register-wrapper",children:We.jsxs("div",{className:"register-card",children:[We.jsxs("div",{className:"register-header",children:[We.jsxs("div",{className:"register-logo",children:[We.jsx("div",{className:"logo-wrapper",children:We.jsx(eh,{name:"",size:32,className:"logo-icon"})}),We.jsxs("div",{className:"logo-text",children:[We.jsx("h1",{className:"register-title",children:"Crer un compte"}),We.jsx("span",{className:"logo-subtitle",children:"SERIP-CAS - ERP de Gestion"})]})]}),We.jsx("p",{className:"register-description",children:"Remplissez le formulaire ci-dessous pour crer votre compte"})]}),We.jsxs("form",{id:"register-form",onSubmit:async e=>{if(e.preventDefault(),!i&&(a.email&&a.password&&a.confirmPassword?a.password.length<6?(c("Le mot de passe doit contenir au moins 6 caractres"),0):a.password!==a.confirmPassword?(c("Les mots de passe ne correspondent pas"),0):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(c("Veuillez entrer une adresse email valide"),0):(c("Veuillez remplir tous les champs obligatoires"),0))){l(!0),c(null);try{const e=await Yf.signUp(a.email,a.password,a.nom||a.email.split("@")[0],a.prenom||"","ADMIN_SERIP");if(e.error)return c(e.error.message||"Erreur lors de la cration du compte"),void l(!1);t("/login",{state:{message:"Compte cr avec succs ! Vous pouvez maintenant vous connecter."}})}catch(Eg){console.error("Registration error:",Eg),c("Une erreur est survenue lors de la cration du compte"),l(!1)}}},className:"register-form",children:[We.jsxs("div",{className:"form-group",children:[We.jsxs("label",{htmlFor:"email",className:"form-label",children:[We.jsx(eh,{name:"",size:16,className:"label-icon"}),"Adresse email ",We.jsx("span",{className:"required",children:"*"})]}),We.jsx("div",{className:"input-wrapper",children:We.jsx("input",{id:"email",name:"email",type:"email",className:"form-input",value:a.email,onChange:f,required:!0,placeholder:"votre@email.com",autoComplete:"email",disabled:i})})]}),We.jsxs("div",{className:"form-group",children:[We.jsxs("label",{htmlFor:"nom",className:"form-label",children:[We.jsx(eh,{name:"",size:16,className:"label-icon"}),"Nom"]}),We.jsx("div",{className:"input-wrapper",children:We.jsx("input",{id:"nom",name:"nom",type:"text",className:"form-input",value:a.nom,onChange:f,placeholder:"Votre nom",autoComplete:"family-name",disabled:i})})]}),We.jsxs("div",{className:"form-group",children:[We.jsxs("label",{htmlFor:"prenom",className:"form-label",children:[We.jsx(eh,{name:"",size:16,className:"label-icon"}),"Prnom"]}),We.jsx("div",{className:"input-wrapper",children:We.jsx("input",{id:"prenom",name:"prenom",type:"text",className:"form-input",value:a.prenom,onChange:f,placeholder:"Votre prnom",autoComplete:"given-name",disabled:i})})]}),We.jsxs("div",{className:"form-group",children:[We.jsxs("label",{htmlFor:"password",className:"form-label",children:[We.jsx(eh,{name:"",size:16,className:"label-icon"}),"Mot de passe ",We.jsx("span",{className:"required",children:"*"})]}),We.jsxs("div",{className:"input-wrapper password-wrapper",children:[We.jsx("input",{id:"password",name:"password",type:u?"text":"password",className:"form-input",value:a.password,onChange:f,required:!0,placeholder:"",autoComplete:"new-password",disabled:i,minLength:6}),We.jsx("button",{type:"button",className:"password-toggle",onClick:()=>d(!u),disabled:i,tabIndex:-1,"aria-label":u?"Masquer le mot de passe":"Afficher le mot de passe",children:We.jsx(eh,{name:"",size:18})})]}),We.jsx("small",{className:"form-hint",children:"Minimum 6 caractres"})]}),We.jsxs("div",{className:"form-group",children:[We.jsxs("label",{htmlFor:"confirmPassword",className:"form-label",children:[We.jsx(eh,{name:"",size:16,className:"label-icon"}),"Confirmer le mot de passe ",We.jsx("span",{className:"required",children:"*"})]}),We.jsxs("div",{className:"input-wrapper password-wrapper",children:[We.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:m?"text":"password",className:"form-input",value:a.confirmPassword,onChange:f,required:!0,placeholder:"",autoComplete:"new-password",disabled:i}),We.jsx("button",{type:"button",className:"password-toggle",onClick:()=>p(!m),disabled:i,tabIndex:-1,"aria-label":m?"Masquer le mot de passe":"Afficher le mot de passe",children:We.jsx(eh,{name:"",size:18})})]})]}),o&&We.jsxs("div",{className:"error-message",role:"alert",children:[We.jsx(eh,{name:"",size:18,className:"error-icon"}),We.jsx("span",{className:"error-text",children:o})]}),We.jsx("button",{type:"submit",className:"btn-login",disabled:i,children:i?We.jsxs(We.Fragment,{children:[We.jsx("span",{className:"spinner-small"}),We.jsx("span",{children:"Cration du compte..."})]}):We.jsxs(We.Fragment,{children:[We.jsx("span",{children:"Crer mon compte"}),We.jsx(eh,{name:"",size:18,className:"btn-arrow"})]})})]}),We.jsxs("div",{className:"register-footer",children:[We.jsxs("p",{className:"register-footer-text",children:["Vous avez dj un compte ?"," ",We.jsx(r,{to:"/login",className:"register-link",children:"Se connecter"})]}),We.jsx("p",{className:"register-footer-text",children:We.jsx(r,{to:"/",className:"register-link register-link--secondary",children:" Retour  l'accueil"})})]})]})})]})}const ah={async getDashboardStats(){try{const[e,t,n,r,a,s]=await Promise.all([sh("programmes"),sh("projets"),ih(),lh(),ch(),oh("INSERE")]),i=n.total,l=n.eligibles,o=i>0?(r/i*100).toFixed(1):0,c=r>0?(s/r*100).toFixed(1):0;return{data:{programmesActifs:e,projetsEnCours:t,candidatsEnAttente:n.enAttente,beneficiairesActifs:r,budgetTotal:a.total,budgetConsomme:a.consomme,tauxConversion:parseFloat(o),tauxInsertion:parseFloat(c),funnel:{candidats:i,eligibles:l,beneficiaires:r,insertions:s}},error:null}}catch(e){return console.error("Error loading dashboard stats:",e),{data:null,error:e}}},async getAlerts(){try{const e=[],t=await Xf.from("programmes").select("id, nom"),n=await Xf.from("projets").select("id, nom, programme_id"),r=await Xf.from("beneficiaires").select("projet_id"),a=new Set((r.data||[]).map(e=>e.projet_id)),s={};return(n.data||[]).forEach(e=>{s[e.programme_id]||(s[e.programme_id]=[]),s[e.programme_id].push(e.id)}),(t.data||[]).forEach(t=>{const n=s[t.id]||[];!n.some(e=>a.has(e))&&n.length>0&&e.push({type:"warning",title:"Programme sans bnficiaires",message:`Le programme "${t.nom}" n'a aucun bnficiaire`,link:`/programmes/${t.id}`})}),{data:e,error:null}}catch(e){return console.error("Error loading alerts:",e),{data:[],error:e}}}};async function sh(e){const{count:t,error:n}=await Xf.from(e).select("id",{count:"exact",head:!0});return n?(console.error(`Error counting table ${e}:`,n),0):t||0}async function ih(){const{data:e,error:t}=await Xf.from("candidats").select("statut, statut_eligibilite");if(t)return console.error("Error counting candidats:",t),{total:0,enAttente:0,eligibles:0};const n=e||[];return{total:n.length,enAttente:n.filter(e=>"NOUVEAU"===e.statut||"DIAGNOSTIC"===e.statut).length,eligibles:n.filter(e=>"ELIGIBLE"===e.statut_eligibilite).length}}async function lh(){const{count:e,error:t}=await Xf.from("beneficiaires").select("id",{count:"exact",head:!0}).eq("statut","ACTIF");return t?(console.error("Error counting beneficiaires actifs:",t),0):e||0}async function oh(e){const{count:t,error:n}=await Xf.from("beneficiaires").select("id",{count:"exact",head:!0}).eq("statut",e);return n?(console.error(`Error counting beneficiaires statut=${e}:`,n),0):t||0}async function ch(){try{const{data:e,error:t}=await Xf.from("programmes").select("budget");if(t)return console.error("Error fetching budget:",t),{total:0,consomme:0};const n=(e||[]).reduce((e,t)=>e+(parseFloat(t.budget)||0),0);return{total:n,consomme:0}}catch(e){return console.error("Error calculating budget stats:",e),{total:0,consomme:0}}}function uh(){const t=n(),[r,a]=e.useState(!0),[s,i]=e.useState({programmesActifs:0,projetsEnCours:0,candidatsEnAttente:0,beneficiairesActifs:0,budgetTotal:0,budgetConsomme:0,tauxConversion:0,tauxInsertion:0,funnel:{candidats:0,eligibles:0,beneficiaires:0,insertions:0}}),[l,o]=e.useState([]);e.useEffect(()=>{c(),u()},[]);const c=async()=>{a(!0);const{data:e}=await ah.getDashboardStats();e&&i(e),a(!1)},u=async()=>{const{data:e}=await ah.getAlerts();e&&o(e)};if(r)return We.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:We.jsx("div",{className:"spinner"})});const{programmesActifs:d,projetsEnCours:m,candidatsEnAttente:p,beneficiairesActifs:f,budgetTotal:h,budgetConsomme:g,tauxConversion:v,tauxInsertion:b,funnel:x}=s,j=h>0?(g/h*100).toFixed(1):0;return We.jsxs("div",{className:"dashboard",children:[We.jsxs("div",{className:"dashboard-header",children:[We.jsx("h1",{children:"Tableau de bord SERIP-CAS"}),We.jsx("p",{children:"Vue d'ensemble de vos programmes, projets, candidats et bnficiaires"})]}),We.jsxs("div",{className:"dashboard-content",children:[We.jsxs("div",{className:"dashboard-stats",children:[We.jsxs("button",{type:"button",className:"stat-card",onClick:()=>t("/programmes"),children:[We.jsx("div",{className:"stat-icon",children:We.jsx(eh,{name:"ClipboardList",size:32})}),We.jsxs("div",{className:"stat-info",children:[We.jsx("div",{className:"stat-value",children:d}),We.jsx("div",{className:"stat-label",children:"Programmes"})]})]}),We.jsxs("button",{type:"button",className:"stat-card",onClick:()=>t("/projets"),children:[We.jsx("div",{className:"stat-icon",children:We.jsx(eh,{name:"Briefcase",size:32})}),We.jsxs("div",{className:"stat-info",children:[We.jsx("div",{className:"stat-value",children:m}),We.jsx("div",{className:"stat-label",children:"Projets"})]})]}),We.jsxs("button",{type:"button",className:"stat-card",onClick:()=>t("/candidats"),children:[We.jsx("div",{className:"stat-icon",children:We.jsx(eh,{name:"Sparkles",size:32})}),We.jsxs("div",{className:"stat-info",children:[We.jsx("div",{className:"stat-value",children:p}),We.jsx("div",{className:"stat-label",children:"Candidats en pipeline"})]})]}),We.jsxs("button",{type:"button",className:"stat-card",onClick:()=>t("/beneficiaires"),children:[We.jsx("div",{className:"stat-icon",children:We.jsx(eh,{name:"Users",size:32})}),We.jsxs("div",{className:"stat-info",children:[We.jsx("div",{className:"stat-value",children:f}),We.jsx("div",{className:"stat-label",children:"Bnficiaires actifs"})]})]})]}),We.jsxs("div",{className:"dashboard-metrics-grid",children:[We.jsxs("div",{className:"metric-card",children:[We.jsxs("div",{className:"metric-header",children:[We.jsx(eh,{name:"DollarSign",size:20}),We.jsx("span",{children:"Budget"})]}),We.jsxs("div",{className:"metric-value",children:[h.toLocaleString("fr-FR")," XOF"]}),We.jsx("div",{className:"metric-detail",children:g>0&&We.jsxs("div",{className:"metric-progress",children:[We.jsx("div",{className:"metric-progress-bar",children:We.jsx("div",{className:"metric-progress-fill",style:{width:`${j}%`}})}),We.jsxs("span",{children:[j,"% consomm"]})]})})]}),We.jsxs("div",{className:"metric-card",children:[We.jsxs("div",{className:"metric-header",children:[We.jsx(eh,{name:"TrendingUp",size:20}),We.jsx("span",{children:"Taux de conversion"})]}),We.jsxs("div",{className:"metric-value",children:[v,"%"]}),We.jsx("div",{className:"metric-detail",children:x.candidats>0&&We.jsxs("span",{children:[f," bnficiaires / ",x.candidats," candidats"]})})]}),We.jsxs("div",{className:"metric-card",children:[We.jsxs("div",{className:"metric-header",children:[We.jsx(eh,{name:"Target",size:20}),We.jsx("span",{children:"Taux d'insertion"})]}),We.jsxs("div",{className:"metric-value",children:[b,"%"]}),We.jsx("div",{className:"metric-detail",children:f>0&&We.jsxs("span",{children:[x.insertions," insrs / ",f," bnficiaires"]})})]})]}),l.length>0&&We.jsxs("div",{className:"dashboard-alerts",children:[We.jsxs("div",{className:"alerts-header",children:[We.jsx(eh,{name:"AlertTriangle",size:20}),We.jsxs("h2",{children:["Alertes (",l.length,")"]})]}),We.jsx("div",{className:"alerts-list",children:l.map((e,n)=>We.jsxs("div",{className:`alert-item alert-${e.type}`,onClick:()=>e.link&&t(e.link),children:[We.jsx(eh,{name:"warning"===e.type?"AlertTriangle":"Info",size:16}),We.jsxs("div",{className:"alert-content",children:[We.jsx("div",{className:"alert-title",children:e.title}),We.jsx("div",{className:"alert-message",children:e.message})]}),e.link&&We.jsx(eh,{name:"ChevronRight",size:16})]},n))})]}),We.jsxs("div",{className:"dashboard-funnel",children:[We.jsx("h2",{children:"Parcours global"}),We.jsxs("div",{className:"funnel-steps",children:[We.jsxs("div",{className:"funnel-step",children:[We.jsx("span",{className:"funnel-label",children:"Candidats"}),We.jsx("span",{className:"funnel-value",children:x.candidats})]}),We.jsx("div",{className:"funnel-arrow",children:We.jsx(eh,{name:"ArrowRight",size:20})}),We.jsxs("div",{className:"funnel-step",children:[We.jsx("span",{className:"funnel-label",children:"ligibles"}),We.jsx("span",{className:"funnel-value",children:x.eligibles})]}),We.jsx("div",{className:"funnel-arrow",children:We.jsx(eh,{name:"ArrowRight",size:20})}),We.jsxs("div",{className:"funnel-step",children:[We.jsx("span",{className:"funnel-label",children:"Bnficiaires"}),We.jsx("span",{className:"funnel-value",children:x.beneficiaires})]}),We.jsx("div",{className:"funnel-arrow",children:We.jsx(eh,{name:"ArrowRight",size:20})}),We.jsxs("div",{className:"funnel-step",children:[We.jsx("span",{className:"funnel-label",children:"Insertions"}),We.jsx("span",{className:"funnel-value",children:x.insertions})]})]})]}),We.jsxs("div",{className:"dashboard-welcome",children:[We.jsx("h2",{children:"Bienvenue sur l'ERP SERIP-CAS"}),We.jsx("p",{children:"Cette plateforme vous permet de grer tous les aspects de votre incubateur :"}),We.jsxs("ul",{children:[We.jsx("li",{children:"Gestion des programmes et projets"}),We.jsx("li",{children:"Suivi des appels  candidatures et du pipeline"}),We.jsx("li",{children:"Accompagnement des bnficiaires et interventions"}),We.jsx("li",{children:"Portails pour les intervenants (Mentors, Formateurs, Coaches)"})]}),We.jsx("p",{className:"dashboard-note",children:"Utilisez les cartes ci-dessus pour accder rapidement aux modules cls."})]})]})]})}const dh="programmes",mh={async getAll(){try{const{data:e,error:t}=await Xf.from(dh).select("*");return{data:e||[],error:t}}catch(e){return console.error("Error fetching programmes:",e),{data:[],error:e}}},async getById(e){try{const{data:t,error:n}=await Xf.from(dh).select("*").eq("id",e).single();return n?{data:null,error:n}:{data:t,error:null}}catch(t){return console.error("Error fetching programme:",t),{data:null,error:t}}},async create(e){try{const t={nom:e.nom,description:e.description,financeur:e.financeur,chef_projet:e.chef_projet,budget:e.budget,date_debut:e.date_debut||null,date_fin:e.date_fin||null,statut:e.statut||"EN_PREPARATION",type_programme:e.type_programme||null,thematiques:e.thematiques||[],pays:e.pays||null,regions:e.regions||[],departements:e.departements||[],communes:e.communes||[],secteurs_cibles:e.secteurs_cibles||[],genres_cibles:e.genres_cibles||[],objectif_beneficiaires:e.objectif_beneficiaires||null,objectif_emplois:e.objectif_emplois||null,niveau_risque:e.niveau_risque||null,frequence_reporting:e.frequence_reporting||null,meta:e.meta||{}},{data:n,error:r}=await Xf.from(dh).insert(t).select("*").single();return{data:n,error:r}}catch(t){return console.error("Error creating programme:",t),{data:null,error:t}}},async update(e,t){try{const n={nom:t.nom,description:t.description,financeur:t.financeur,chef_projet:t.chef_projet,budget:t.budget,date_debut:t.date_debut||null,date_fin:t.date_fin||null,statut:t.statut,type_programme:t.type_programme||null,thematiques:t.thematiques||[],pays:t.pays||null,regions:t.regions||[],departements:t.departements||[],communes:t.communes||[],secteurs_cibles:t.secteurs_cibles||[],genres_cibles:t.genres_cibles||[],objectif_beneficiaires:t.objectif_beneficiaires||null,objectif_emplois:t.objectif_emplois||null,niveau_risque:t.niveau_risque||null,frequence_reporting:t.frequence_reporting||null,meta:t.meta||{}},{data:r,error:a}=await Xf.from(dh).update(n).eq("id",e).select("*").single();return{data:r,error:a}}catch(n){return console.error("Error updating programme:",n),{data:null,error:n}}},async delete(e){try{const{error:t}=await Xf.from(dh).delete().eq("id",e);return{data:{id:e},error:t}}catch(t){return console.error("Error deleting programme:",t),{data:null,error:t}}},async getByFinanceur(e){try{const{data:t,error:n}=await Xf.from(dh).select("*").eq("financeur",e).order("date_creation",{ascending:!1});return{data:t||[],error:n}}catch(t){return console.error("Error fetching programmes by financeur:",t),{data:[],error:t}}}},ph="projets",fh={async getAll(e=null){try{let t=Xf.from(ph).select("*").order("created_at",{ascending:!1});e&&(t=t.eq("programme_id",e));const{data:n,error:r}=await t;return{data:n||[],error:r}}catch(t){return console.error("Error fetching projets:",t),{data:[],error:t}}},async getById(e){try{const{data:t,error:n}=await Xf.from(ph).select("*").eq("id",e).single();return n?{data:null,error:n}:{data:t,error:null}}catch(t){return console.error("Error fetching projet:",t),{data:null,error:t}}},async create(e){try{const t={nom:e.nom,description:e.description,programme_id:e.programme_id||null,type_activite:e.type_activite||null,date_debut:e.date_debut||null,date_fin:e.date_fin||null,budget:e.budget||null,statut:e.statut||"EN_PREPARATION",chef_projet_id:e.chef_projet_id||null,mentors_ids:e.mentors_ids||[],formateurs_ids:e.formateurs_ids||[],coaches_ids:e.coaches_ids||[],regions:e.regions||[],departements:e.departements||[],communes:e.communes||[],meta:e.meta||{}},{data:n,error:r}=await Xf.from(ph).insert(t).select("*").single();return{data:n,error:r}}catch(t){return console.error("Error creating projet:",t),{data:null,error:t}}},async update(e,t){try{const n={nom:t.nom,description:t.description,programme_id:t.programme_id||null,type_activite:t.type_activite||null,date_debut:t.date_debut||null,date_fin:t.date_fin||null,budget:t.budget||null,statut:t.statut,chef_projet_id:t.chef_projet_id||null,mentors_ids:t.mentors_ids||[],formateurs_ids:t.formateurs_ids||[],coaches_ids:t.coaches_ids||[],regions:t.regions||[],departements:t.departements||[],communes:t.communes||[],meta:t.meta||{}},{data:r,error:a}=await Xf.from(ph).update(n).eq("id",e).select("*").single();return{data:r,error:a}}catch(n){return console.error("Error updating projet:",n),{data:null,error:n}}},async getByChefProjet(e){try{const{data:t,error:n}=await Xf.from(ph).select("*").eq("chef_projet_id",e).order("created_at",{ascending:!1});return{data:t||[],error:n}}catch(t){return console.error("Error fetching projets by chef projet:",t),{data:[],error:t}}},async delete(e){try{const{error:t}=await Xf.from(ph).delete().eq("id",e);return{data:{id:e},error:t}}catch(t){return console.error("Error deleting projet:",t),{data:null,error:t}}}},hh="candidats",gh=async e=>{const{valid:t,age:n}=(e=>{if(!e)return{valid:!1,age:null};const t=new Date(e);if(Number.isNaN(t.getTime()))return{valid:!1,age:null};const n=new Date;let r=n.getFullYear()-t.getFullYear();const a=n.getMonth()-t.getMonth();return(a<0||0===a&&n.getDate()<t.getDate())&&r--,{valid:!0,age:r}})(e.date_naissance);let r="A_VERIFIER";if(t&&(r=n>=18&&n<=35?"ELIGIBLE":"HORS_TRANCHE_AGE"),!e.appel_id)return r;try{const{data:a,error:s}=await Xf.from("appels_candidatures").select("id, projet_id").eq("id",e.appel_id).single();if(s||!(null==a?void 0:a.projet_id))return r;const{data:i,error:l}=await Xf.from("projets").select("id, programme_id").eq("id",a.projet_id).single();if(l||!(null==i?void 0:i.programme_id))return r;const{data:o,error:c}=await Xf.from("programme_eligibilite").select("*").eq("programme_id",i.programme_id).single();if(c||!o)return r;const u=[];if(null!=o.age_min&&t&&n<o.age_min&&u.push("AGE_INFERIEUR_MIN"),null!=o.age_max&&t&&n>o.age_max&&u.push("AGE_SUPERIEUR_MAX"),Array.isArray(o.genres_autorises)&&o.genres_autorises.length&&e.genre&&(o.genres_autorises.includes(e.genre)||u.push("GENRE_NON_AUTORISE")),Array.isArray(o.zones)&&o.zones.length){const t=[e.region,e.departement,e.commune,e.ville].filter(Boolean).map(e=>e.toLowerCase());o.zones.some(e=>{const n="string"==typeof e?e.toLowerCase():"";return t.some(e=>e.includes(n)||n.includes(e))})||u.push("HORS_ZONE")}return 0===u.length?t?"ELIGIBLE":"A_VERIFIER":u.includes("HORS_ZONE")?"HORS_ZONE":u.includes("GENRE_NON_AUTORISE")?"GENRE_NON_AUTORISE":u.includes("AGE_INFERIEUR_MIN")||u.includes("AGE_SUPERIEUR_MAX")?"HORS_TRANCHE_AGE":"NON_ELIGIBLE"}catch(a){return console.error("Error evaluating eligibility with programme rules:",a),r}},vh={evaluateEligibility:async e=>({statut_eligibilite:await gh(e)}),async getAll(e=null,t={}){try{let n=Xf.from(hh).select("*").order("date_inscription",{ascending:!1});e&&(n=n.eq("appel_id",e));const{data:r,error:a}=await n;if(a)return{data:[],error:a};let s=r||[];if(t.statut&&(s=s.filter(e=>e.statut===t.statut)),t.search){const e=t.search.toLowerCase();s=s.filter(t=>{var n,r,a;return(null==(n=t.nom)?void 0:n.toLowerCase().includes(e))||(null==(r=t.prenom)?void 0:r.toLowerCase().includes(e))||(null==(a=t.email)?void 0:a.toLowerCase().includes(e))})}return{data:s,error:null}}catch(n){return console.error("Error fetching candidats:",n),{data:[],error:n}}},async getById(e){try{const{data:t,error:n}=await Xf.from(hh).select("*").eq("id",e).single();return n?{data:null,error:n}:{data:t,error:null}}catch(t){return console.error("Error fetching candidat:",t),{data:null,error:t}}},async create(e){try{const t=await gh(e),n={nom:e.nom,prenom:e.prenom,email:e.email,telephone:e.telephone,appel_id:e.appel_id||null,statut:e.statut||"NOUVEAU",date_inscription:(new Date).toISOString(),date_naissance:e.date_naissance||null,genre:e.genre||null,adresse:e.adresse||null,ville:e.ville||null,region:e.region||null,departement:e.departement||null,commune:e.commune||null,statut_eligibilite:t},{data:r,error:a}=await Xf.from(hh).insert(n).select("*").single();return{data:r,error:a}}catch(t){return console.error("Error creating candidat:",t),{data:null,error:t}}},async update(e,t){try{const n=await gh(t),r={nom:t.nom,prenom:t.prenom,email:t.email,telephone:t.telephone,appel_id:t.appel_id||null,statut:t.statut,date_naissance:t.date_naissance||null,genre:t.genre||null,adresse:t.adresse||null,ville:t.ville||null,region:t.region||null,departement:t.departement||null,commune:t.commune||null,statut_eligibilite:n},{data:a,error:s}=await Xf.from(hh).update(r).eq("id",e).select("*").single();return{data:a,error:s}}catch(n){return console.error("Error updating candidat:",n),{data:null,error:n}}},async convertToBeneficiaire(e,t){try{const{data:n,error:r}=await Xf.from(hh).select("*").eq("id",e).single();if(r||!n)return{data:null,error:r||{message:"Candidat not found"}};const a={id:e,nom:n.nom,prenom:n.prenom,email:n.email,telephone:n.telephone,candidat_id:e,projet_id:t,date_affectation:(new Date).toISOString(),statut:"ACTIF"},{data:s,error:i}=await Xf.from("beneficiaires").insert(a).select("*").single();if(i)return{data:null,error:i};const{error:l}=await Xf.from(hh).update({statut:"CONVERTI",beneficiaire_id:s.id}).eq("id",e);return l?{data:null,error:l}:{data:s,error:null}}catch(n){return console.error("Error converting candidat to beneficiaire:",n),{data:null,error:n}}},async getDiagnostic(e){try{const{data:t,error:n}=await Xf.from("diagnostics").select("*").eq("candidat_id",e).single();return n&&"PGRST116"!==n.code?{data:null,error:n}:{data:t,error:null}}catch(t){return console.error("Error fetching diagnostic:",t),{data:null,error:t}}},async updateStatut(e,t){try{const{error:n}=await Xf.from(hh).update({statut:t}).eq("id",e);return{data:{id:e,statut:t},error:n}}catch(n){return console.error("Error updating statut:",n),{data:null,error:n}}}},bh="beneficiaires",xh={async getAll(e=null,t={}){try{let n=Xf.from(bh).select("*").order("date_affectation",{ascending:!1});e&&(n=n.eq("projet_id",e));let{data:r,error:a}=await n;if(a)return{data:[],error:a};if(r=r||[],t.statut&&(r=r.filter(e=>e.statut===t.statut)),t.intervenant&&(r=r.filter(e=>e.mentor_id===t.intervenant||e.formateur_id===t.intervenant||e.coach_id===t.intervenant)),t.search){const e=t.search.toLowerCase();r=r.filter(t=>{var n,r,a;return(null==(n=t.nom)?void 0:n.toLowerCase().includes(e))||(null==(r=t.prenom)?void 0:r.toLowerCase().includes(e))||(null==(a=t.email)?void 0:a.toLowerCase().includes(e))})}return{data:r,error:null}}catch(n){return console.error("Error fetching beneficiaires:",n),{data:[],error:n}}},async getById(e){try{const{data:t,error:n}=await Xf.from(bh).select("*").eq("id",e).single();return n?{data:null,error:n}:{data:t,error:null}}catch(t){return console.error("Error fetching beneficiaire:",t),{data:null,error:t}}},async assignIntervenant(e,t,n){try{const r="MENTOR"===n?"mentor_id":"FORMATEUR"===n?"formateur_id":"COACH"===n?"coach_id":null;if(!r)return{data:null,error:{message:"Invalid role"}};const{error:a}=await Xf.from(bh).update({[r]:t}).eq("id",e);return{data:{id:e,[r]:t},error:a}}catch(r){return console.error("Error assigning intervenant:",r),{data:null,error:r}}},async getByIntervenant(e,t){try{const n="MENTOR"===t?"mentor_id":"FORMATEUR"===t?"formateur_id":"COACH"===t?"coach_id":null;if(!n)return{data:[],error:{message:"Invalid role"}};const{data:r,error:a}=await Xf.from(bh).select("*").eq(n,e).order("date_affectation",{ascending:!1});return{data:(r||[]).map(e=>({...e,has_plan_action:!!e.plan_action_id})),error:a}}catch(n){return console.error("Error fetching beneficiaires by intervenant:",n),{data:[],error:n}}},async getHistorique(e){try{const{data:t,error:n}=await Xf.from(bh).select("*").eq("id",e).single();if(n||!t)return{data:null,error:n||{message:"Bnficiaire not found"}};const r=[];if(t.candidat_id){const{data:e}=await Xf.from("candidats").select("*").eq("id",t.candidat_id).single();e&&r.push({type:"Candidat",description:"Inscription comme candidat",date:e.date_inscription})}return r.push({type:"Bnficiaire",description:"Conversion en bnficiaire - Affectation au projet",date:t.date_affectation}),r.sort((e,t)=>new Date(e.date)-new Date(t.date)),{data:{etapes:r},error:null}}catch(t){return console.error("Error fetching historique:",t),{data:null,error:t}}},async create(e){try{const t={nom:e.nom,prenom:e.prenom,email:e.email,telephone:e.telephone||null,date_naissance:e.date_naissance||null,genre:e.genre||null,adresse:e.adresse||null,ville:e.ville||null,region:e.region||null,departement:e.departement||null,commune:e.commune||null,projet_id:e.projet_id||null,statut:e.statut||"ACTIF",date_affectation:(new Date).toISOString(),mentor_id:e.mentor_id||null,formateur_id:e.formateur_id||null,coach_id:e.coach_id||null},{data:n,error:r}=await Xf.from(bh).insert(t).select("*").single();return{data:n,error:r}}catch(t){return console.error("Error creating beneficiaire:",t),{data:null,error:t}}},async update(e,t){try{const t={nom:n.nom,prenom:n.prenom,email:n.email,telephone:n.telephone||null,date_naissance:n.date_naissance||null,genre:n.genre||null,adresse:n.adresse||null,ville:n.ville||null,region:n.region||null,departement:n.departement||null,commune:n.commune||null,projet_id:n.projet_id||null,statut:n.statut,mentor_id:n.mentor_id||null,formateur_id:n.formateur_id||null,coach_id:n.coach_id||null},{data:n,error:r}=await Xf.from(bh).update(t).eq("id",e).select("*").single();return{data:n,error:r}}catch(n){return console.error("Error updating beneficiaire:",n),{data:null,error:n}}},async getBesoins(e){try{const{data:t,error:n}=await Xf.from(bh).select("besoins").eq("id",e).single();return n&&"PGRST116"!==n.code?{data:{},error:n}:{data:(null==t?void 0:t.besoins)||{},error:null}}catch(t){return console.error("Error fetching besoins:",t),{data:{},error:t}}},async updateBesoins(e,t){try{const{error:n}=await Xf.from(bh).update({besoins:t}).eq("id",e);return{data:{id:e,besoins:t},error:n}}catch(n){return console.error("Error updating besoins:",n),{data:null,error:n}}}};const jh=new class{constructor(){this.listeners=[],this.toasts=[],this.toastId=0}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}notify(){this.listeners.forEach(e=>e([...this.toasts]))}createToast(e,t,n=5e3){const r=++this.toastId,a={id:r,type:e,message:t,duration:n,timestamp:Date.now()};return this.toasts.push(a),this.notify(),n>0&&setTimeout(()=>{this.remove(r)},n),r}remove(e){this.toasts=this.toasts.filter(t=>t.id!==e),this.notify()}clear(){this.toasts=[],this.notify()}success(e,t=5e3){return this.createToast("success",e,t)}error(e,t=7e3){return this.createToast("error",e,t)}info(e,t=5e3){return this.createToast("info",e,t)}warning(e,t=6e3){return this.createToast("warning",e,t)}};function yh({variant:e="no-data",icon:t=null,title:n="Aucune donne",description:r="Il n'y a pas encore de donnes  afficher.",action:a=null}){return We.jsxs("div",{className:`empty-state empty-state--${e}`,children:[We.jsx("div",{className:"empty-state__icon",children:(()=>{if("string"==typeof t)return We.jsx(eh,{name:t,size:64});if(t){const e=t;return We.jsx(e,{size:64})}const n=(()=>{switch(e){case"no-results":return H;case"error":return Q;case"loading":return qe;default:return Be}})();return We.jsx(n,{size:64})})()}),We.jsx("h3",{className:"empty-state__title",children:n}),r&&We.jsx("p",{className:"empty-state__description",children:r}),a&&We.jsx("button",{className:`cta cta-${a.variant||"primary"}`,onClick:a.onClick,children:a.label})]})}function Nh({variant:e="spinner",message:t="Chargement...",fullScreen:n=!1}){return"skeleton"===e?We.jsxs("div",{className:"loading-skeleton "+(n?"loading-skeleton--fullscreen":""),children:[We.jsx("div",{className:"skeleton-item"}),We.jsx("div",{className:"skeleton-item"}),We.jsx("div",{className:"skeleton-item"})]}):"progress"===e?We.jsxs("div",{className:"loading-progress "+(n?"loading-progress--fullscreen":""),children:[We.jsx("div",{className:"progress-bar",children:We.jsx("div",{className:"progress-fill"})}),t&&We.jsx("p",{className:"progress-message",children:t})]}):We.jsxs("div",{className:"loading-state "+(n?"loading-state--fullscreen":""),children:[We.jsx("div",{className:"spinner"}),t&&We.jsx("p",{className:"loading-message",children:t})]})}function Sh({open:e=!1,title:t="Confirmer l'action",description:n="tes-vous sr de vouloir effectuer cette action ?",confirmLabel:r="Confirmer",cancelLabel:a="Annuler",variant:s="warning",onConfirm:i,onCancel:l}){if(!e)return null;const o=()=>{l&&l()};return We.jsx("div",{className:"confirm-modal-backdrop",onClick:e=>{e.target===e.currentTarget&&o()},role:"dialog","aria-modal":"true","aria-labelledby":"confirm-modal-title","aria-describedby":"confirm-modal-description",children:We.jsxs("div",{className:`confirm-modal confirm-modal--${s}`,children:[We.jsxs("div",{className:"confirm-modal__header",children:[We.jsx("div",{className:"confirm-modal__icon",children:We.jsx(E,{size:24})}),We.jsx("h3",{id:"confirm-modal-title",className:"confirm-modal__title",children:t}),We.jsx("button",{className:"confirm-modal__close",onClick:o,"aria-label":"Fermer",children:We.jsx(_,{size:20})})]}),We.jsx("div",{className:"confirm-modal__body",children:We.jsx("p",{id:"confirm-modal-description",className:"confirm-modal__description",children:n})}),We.jsxs("div",{className:"confirm-modal__footer",children:[We.jsx("button",{className:"cta cta-secondary",onClick:o,children:a}),We.jsx("button",{className:"cta cta-primary "+("danger"===s?"cta-danger":""),onClick:()=>{i&&i()},autoFocus:!0,children:r})]})]})})}function _h(){const t=n(),[r,a]=e.useState([]),[s,i]=e.useState(!0),[l,o]=e.useState({open:!1,id:null}),[c,u]=e.useState({financeur:"",statut:"",search:""});e.useEffect(()=>{d()},[c]);const d=async()=>{i(!0);try{const{data:e,error:t}=await mh.getAll();if(t)jh.error("Erreur lors du chargement des programmes"),console.error(t);else{let t=e||[];const[n,r,s]=await Promise.all([fh.getAll(),vh.getAll(),xh.getAll()]),i=n.data||[],l=r.data||[],o=s.data||[];t=t.map(e=>{const t=i.filter(t=>t.programme_id===e.id),n=t.map(e=>e.id),r=l.filter(e=>n.includes(e.projet_id)),a=o.filter(n=>n.programme_id===e.id||t.some(e=>e.id===n.projet_id));return{...e,_stats:{projets:t.length,candidats:r.length,beneficiaires:a.length}}});let u=t;if(c.financeur&&(u=u.filter(e=>e.financeur===c.financeur)),c.statut&&(u=u.filter(e=>e.statut===c.statut)),c.search){const e=c.search.toLowerCase();u=u.filter(t=>{var n,r;return(null==(n=t.nom)?void 0:n.toLowerCase().includes(e))||(null==(r=t.description)?void 0:r.toLowerCase().includes(e))})}a(u)}}catch(e){console.error("Error loading programmes:",e),jh.error("Erreur lors du chargement des programmes")}finally{i(!1)}};return s?We.jsx(Nh,{message:"Chargement des programmes..."}):We.jsxs("div",{className:"programmes-page",children:[We.jsxs("div",{className:"programmes-header",children:[We.jsxs("div",{className:"programmes-header-top",children:[We.jsx(th,{to:"/dashboard",label:"Retour au tableau de bord"}),We.jsx("h1",{children:"Gestion des Programmes"})]}),We.jsx("div",{className:"programmes-actions",children:We.jsxs("button",{className:"btn btn-primary",onClick:()=>t("/programmes/new"),children:[We.jsx(eh,{name:"Plus",size:18}),"Nouveau Programme"]})})]}),We.jsxs("div",{className:"programmes-filters",children:[We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Recherche"}),We.jsx("input",{type:"text",placeholder:"Rechercher un programme...",value:c.search,onChange:e=>u({...c,search:e.target.value}),className:"input"})]}),We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Financeur"}),We.jsxs("select",{value:c.financeur,onChange:e=>u({...c,financeur:e.target.value}),className:"input",children:[We.jsx("option",{value:"",children:"Tous"}),["Enabel","GIZ","USAID","UNICEF","Gouvernement Sngalais","Autre"].map(e=>We.jsx("option",{value:e,children:e},e))]})]}),We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Statut"}),We.jsxs("select",{value:c.statut,onChange:e=>u({...c,statut:e.target.value}),className:"input",children:[We.jsx("option",{value:"",children:"Tous"}),["ACTIF","EN_PREPARATION","TERMINE","SUSPENDU"].map(e=>We.jsx("option",{value:e,children:e.replace("_"," ")},e))]})]})]}),0===r.length?We.jsx(yh,{icon:"ClipboardList",title:"Aucun programme",description:"Commencez par crer votre premier programme",action:{label:"Crer un programme",onClick:()=>t("/programmes/new")}}):We.jsxs(We.Fragment,{children:[We.jsx("div",{className:"programmes-grid",children:r.map(e=>{var n,r;return We.jsxs("div",{className:"programme-card",children:[We.jsxs("div",{className:"programme-card-header",children:[We.jsxs("div",{className:"programme-card-title",children:[We.jsx("h3",{children:e.nom||"Programme sans nom"}),We.jsx("span",{className:`programme-statut programme-statut--${null==(n=e.statut)?void 0:n.toLowerCase()}`,children:(null==(r=e.statut)?void 0:r.replace("_"," "))||"NON_DEFINI"})]}),We.jsxs("div",{className:"programme-card-actions",children:[We.jsx("button",{className:"btn-icon",onClick:()=>t(`/programmes/${e.id}`),title:"Voir les dtails",children:We.jsx(eh,{name:"Eye",size:18})}),We.jsx("button",{className:"btn-icon",onClick:()=>t(`/programmes/${e.id}/edit`),title:"Modifier",children:We.jsx(eh,{name:"Edit",size:18})}),We.jsx("button",{className:"btn-icon btn-icon--danger",onClick:()=>(async e=>{o({open:!0,id:e})})(e.id),title:"Supprimer",children:We.jsx(eh,{name:"Trash2",size:18})})]})]}),We.jsxs("div",{className:"programme-card-body",children:[We.jsx("p",{className:"programme-description",children:e.description||"Aucune description"}),We.jsxs("div",{className:"programme-info",children:[We.jsxs("div",{className:"programme-info-item",children:[We.jsx(eh,{name:"DollarSign",size:16}),We.jsx("span",{children:e.financeur||"Non spcifi"})]}),We.jsxs("div",{className:"programme-info-item",children:[We.jsx(eh,{name:"Calendar",size:16}),We.jsxs("span",{children:[e.date_debut?new Date(e.date_debut).toLocaleDateString("fr-FR"):"Non dfinie"," -",e.date_fin?new Date(e.date_fin).toLocaleDateString("fr-FR"):"Non dfinie"]})]}),e.chef_projet&&We.jsxs("div",{className:"programme-info-item",children:[We.jsx(eh,{name:"User",size:16}),We.jsx("span",{children:e.chef_projet})]})]}),e.budget&&We.jsxs("div",{className:"programme-budget",children:[We.jsx("strong",{children:"Budget:"})," ",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(e.budget)]}),e._stats&&We.jsxs("div",{className:"programme-stats-row",children:[We.jsxs("div",{className:"programme-stats-item",children:[We.jsx(eh,{name:"Briefcase",size:14}),We.jsxs("span",{children:[e._stats.projets," projet(s)"]})]}),We.jsxs("div",{className:"programme-stats-item",children:[We.jsx(eh,{name:"Sparkles",size:14}),We.jsxs("span",{children:[e._stats.candidats," candidat(s)"]})]}),We.jsxs("div",{className:"programme-stats-item",children:[We.jsx(eh,{name:"Users",size:14}),We.jsxs("span",{children:[e._stats.beneficiaires," bnficiaire(s)"]})]})]})]})]},e.id)})}),We.jsx(Sh,{open:l.open,title:"Supprimer le programme",description:"tes-vous sr de vouloir supprimer ce programme ? Cette action est irrversible.",variant:"danger",confirmLabel:"Supprimer",cancelLabel:"Annuler",onConfirm:async()=>{if(l.id)try{const{error:e}=await mh.delete(l.id);e?jh.error("Erreur lors de la suppression"):(jh.success("Programme supprim avec succs"),d())}catch(e){console.error("Error deleting programme:",e),jh.error("Erreur lors de la suppression")}finally{o({open:!1,id:null})}},onCancel:()=>o({open:!1,id:null})})]})]})}const wh="referentiels",Ch={async getByType(e){try{const{data:t,error:n}=await Xf.from(wh).select("*").eq("type",e).eq("actif",!0).order("ordre",{ascending:!0});return{data:t||[],error:n}}catch(t){return console.error("Error fetching referentiels:",t),{data:[],error:t}}},async create(e){try{const{data:t,error:n}=await Xf.from(wh).insert({type:e.type,code:e.code,label:e.label,actif:!1!==e.actif,ordre:e.ordre||0,pays:e.pays||null,region:e.region||null,departement:e.departement||null,meta:e.meta||null}).select("*").single();return{data:t,error:n}}catch(t){return console.error("Error creating referentiel:",t),{data:null,error:t}}}};function kh({label:t,name:n,value:r,onChange:a,options:s=[],typeReferentiel:i,placeholder:l="Slectionner ou crer...",required:o=!1,className:c="input",multiple:u=!1}){const[d,m]=e.useState(!1),[p,f]=e.useState(""),h=async()=>{if(p.trim())try{const{data:e,error:t}=await Ch.create({type:i,code:p.toUpperCase().replace(/\s+/g,"_").replace(/[^A-Z0-9_]/g,""),label:p.trim(),actif:!0,ordre:10*(s.length+1)});if(t)jh.error("Erreur lors de la cration"),console.error(t);else{jh.success("Valeur ajoute avec succs");const t={target:{name:n,value:u?[...Array.isArray(r)?r:[],(null==e?void 0:e.label)||p.trim()]:(null==e?void 0:e.label)||p.trim()}};a(t),m(!1),f("")}}catch(e){console.error("Error creating referentiel:",e),jh.error("Erreur lors de la cration")}};return We.jsxs("div",{className:"select-with-create",children:[We.jsxs("div",{className:"select-with-create-header",children:[We.jsxs("label",{htmlFor:n,children:[t," ",o&&We.jsx("span",{className:"required",children:"*"})]}),!d&&We.jsx("button",{type:"button",className:"btn-icon-small",onClick:()=>m(!0),title:"Ajouter une nouvelle valeur",children:We.jsx(eh,{name:"Plus",size:14})})]}),d?We.jsxs("div",{className:"select-with-create-input",children:[We.jsx("input",{type:"text",value:p,onChange:e=>f(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),h()):"Escape"===e.key&&(m(!1),f(""))},placeholder:"Nom de la nouvelle valeur",className:c,autoFocus:!0}),We.jsxs("div",{className:"select-with-create-actions",children:[We.jsxs("button",{type:"button",className:"btn btn-sm btn-primary",onClick:h,children:[We.jsx(eh,{name:"Check",size:14}),"Ajouter"]}),We.jsxs("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>{m(!1),f("")},children:[We.jsx(eh,{name:"X",size:14}),"Annuler"]})]})]}):u?We.jsx("select",{id:n,name:n,multiple:!0,value:Array.isArray(r)?r:[],onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);a({target:{name:n,value:t}})},required:o,className:c,size:Math.min(5,s.length+1),children:s.map(e=>We.jsx("option",{value:e.label||e.code,children:e.label},e.code||e.id))}):We.jsxs("select",{id:n,name:n,value:r||"",onChange:a,required:o,className:c,children:[We.jsx("option",{value:"",children:l}),s.map(e=>We.jsx("option",{value:e.label||e.code,children:e.label},e.code||e.id))]})]})}function Eh({label:t,name:n,value:r,onChange:a,options:s=[],typeReferentiel:i,placeholder:l="Tapez pour rechercher ou crer...",required:o=!1,multiple:c=!1}){const[u,d]=e.useState(!1),[m,p]=e.useState(""),f=e.useRef(null),h=e.useRef(null),g=s.filter(e=>(e.label||e.code||"").toLowerCase().includes(m.toLowerCase())),v=g.find(e=>(e.label||e.code||"").toLowerCase()===m.toLowerCase());e.useEffect(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&(d(!1),p(""))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const b=async()=>{if(m.trim()&&!v)try{const{error:e}=await Ch.create({type:i,code:m.toUpperCase().replace(/\s+/g,"_").replace(/[^A-Z0-9_]/g,""),label:m.trim(),actif:!0,ordre:10*(s.length+1)});if(e)jh.error("Erreur lors de la cration"),console.error(e);else{if(jh.success("Valeur ajoute avec succs"),c){const e=Array.isArray(r)?r:[];a({target:{name:n,value:[...e,m.trim()]}})}else a({target:{name:n,value:m.trim()}});p(""),d(!1)}}catch(e){console.error("Error creating referentiel:",e),jh.error("Erreur lors de la cration")}};return We.jsxs("div",{className:"combobox-with-create",ref:h,children:[We.jsxs("label",{htmlFor:n,children:[t," ",o&&We.jsx("span",{className:"required",children:"*"})]}),We.jsxs("div",{className:"combobox-input-wrapper",children:[c&&Array.isArray(r)&&r.length>0&&We.jsx("div",{className:"combobox-tags",children:r.map((e,t)=>We.jsxs("span",{className:"combobox-tag",children:[e,We.jsx("button",{type:"button",className:"combobox-tag-remove",onClick:()=>{return t=e,void(c&&Array.isArray(r)&&a({target:{name:n,value:r.filter(e=>e!==t)}}));var t},children:We.jsx(eh,{name:"X",size:12})})]},t))}),We.jsx("input",{ref:f,type:"text",id:n,value:m||(c?"":r||""),onChange:e=>{p(e.target.value),d(!0)},onFocus:()=>d(!0),placeholder:l,className:"input",required:o&&(c?!Array.isArray(r)||0===r.length:!r)}),u&&We.jsxs("div",{className:"combobox-dropdown",children:[g.length>0?We.jsxs(We.Fragment,{children:[g.map(e=>{const t=c?Array.isArray(r)&&r.includes(e.label||e.code):r===(e.label||e.code);return We.jsxs("div",{className:"combobox-option "+(t?"selected":""),onClick:()=>(e=>{if(c){const t=Array.isArray(r)?r:[],s=t.includes(e.label)?t.filter(t=>t!==e.label):[...t,e.label];a({target:{name:n,value:s}})}else a({target:{name:n,value:e.label||e.code}}),d(!1),p("")})(e),children:[c&&We.jsx(eh,{name:t?"CheckSquare":"Square",size:14}),e.label||e.code]},e.code||e.id)}),m&&!v&&We.jsxs("div",{className:"combobox-create",onClick:b,children:[We.jsx(eh,{name:"Plus",size:14}),'Crer "',m,'"']})]}):m&&We.jsxs("div",{className:"combobox-create",onClick:b,children:[We.jsx(eh,{name:"Plus",size:14}),'Crer "',m,'"']}),0===g.length&&!m&&We.jsx("div",{className:"combobox-empty",children:"Aucune option disponible"})]})]})]})}const Ah={Dakar:["Almadies","Dakar Plateau","Fann-Point E-Amiti","Grand Dakar","Gueule Tape-Fass-Colobane","Hann Bel-Air","Hlm","Mdina","Ngor","Ouakam","Parcelles Assainies","Patte d'Oie","Yoff"],Pikine:["Dagoudane Pikine","Diamaguene Sicap Mbao","Djida Thiaroye Kao","Gudiawaye","Keur Massar","Malika","Mbao","Niayes","Rufisque","Sangalkam","Thiaroye Gare","Thiaroye Sur Mer","Tivaouane Peulh","Yeumbeul"],"Gudiawaye":["Golf Sud","Sam Notaire","Wakhinane Nimzatt"],Rufisque:["Bargny","Rufisque","Sangalkam","Sbikotane","Sendou","Tivaouane Peulh"],"This":["Fandne","Keur Moussa","Khombole","Mouane","Notto","Pout","Sbikotane","Thiadiaye","Thinaba","This","Tivaouane"],Mbour:["Fissel","Joal-Fadiouth","Malicounda","Mbour","Ngaparou","Ngukhokh","Popenguine","Saly","Sandiara","Somone","Thiadiaye"],Tivaouane:["Fissel","Keur Moussa","Mkh","Mouane","Notto","Pire","Pout","Thinaba","Tivaouane","Touba Toul"],"Saint-Louis":["Gandon","Guet Ndar","Khor","Mpal","Ndibne Gandiol","Pt","Rao","Rosso","Saint-Louis","Sor"],Dagana:["Dagana","Mbane","Ndiaye","Richard Toll","Rosso"],Podor:["Gamadji Sar","Ndioum","Podor","Salde","Thille Boubacar"],Louga:["Coki","Darou Mousty","Kbmer","Lingure","Mback","Ndande","Sagatta","Sakal","Thiargny","Touba"],"Kbmer":["Darou Mousty","Kbmer","Lona","Mback","Ndande","Sagatta","Sakal","Thiargny","Touba"],"Lingure":["Barkdji","Dodji","Lingure","Mouane","Ouarkhokh","Sagatta"],Kaolack:["Gandiaye","Guinguino","Kahone","Kaolack","Koungheul","Ndoffane","Nioro du Rip","Paos Koto","Porokhane","Sibassor","Wack Ngouna"],"Nioro du Rip":["Gandiaye","Koungheul","Nioro du Rip","Paos Koto","Porokhane","Wack Ngouna"],"Guinguino":["Guinguino","Ndoffane","Sibassor"],Fatick:["Diakhao","Diouroup","Fatick","Foundiougne","Gossas","Guinguino","Ndoffane","Niakhar","Passy","Sokone","Tattaguine"],Foundiougne:["Diofior","Foundiougne","Passy","Sokone","Tattaguine"],Gossas:["Diakhao","Diouroup","Gossas","Niakhar"],Diourbel:["Bambey","Dangalma","Diohine","Diourbel","Kael","Keur Moussa","Mback","Ndindy","Ndiourbel","Ndoulo","Touba","Touba Toul"],Bambey:["Bambey","Dangalma","Diohine","Kael","Ndindy","Ndoulo"],"Mback":["Keur Moussa","Mback","Touba","Touba Toul"],Tambacounda:["Bakel","Goudiry","Koumpentoum","Koussanar","Makacolibantang","Missirah","Nioro du Rip","Ouro Sogui","Pt","Sinthiou Malme","Tambacounda"],Bakel:["Bakel","Goudiry","Koumpentoum","Koussanar","Makacolibantang","Missirah","Ouro Sogui","Pt","Sinthiou Malme"],Koumpentoum:["Koumpentoum","Makacolibantang","Missirah"],Kolda:["Dabo","Diaob","Djinani","Kolda","Kounkan","Mdina Yoro Foulah","Pakour","Pata","Sar Coly Sall","Sar Pat Balla","Sar Yoba Diga","Vlingara"],"Vlingara":["Diaob","Kounkan","Mdina Yoro Foulah","Pakour","Pata","Vlingara"],"Sdhiou":["Bounkiling","Djinani","Goudomp","Marsassoum","Mdina Gounass","Niamone","Sar Coly Sall","Sar Pat Balla","Sar Yoba Diga","Sdhiou","Tendouck"],Ziguinchor:["Agnack Grand","Bignona","Boutoupa Camaracounda","Coubalan","Diouloulou","Enampore","Oussouye","Sindian","Tendouck","Thionck Essyl","Tobor","Ziguinchor"],Bignona:["Bignona","Boutoupa Camaracounda","Coubalan","Diouloulou","Sindian","Thionck Essyl","Tobor"],Oussouye:["Enampore","Oussouye","Tendouck"],"Sdhiou":["Bounkiling","Djinani","Goudomp","Marsassoum","Mdina Gounass","Niamone","Sar Coly Sall","Sar Pat Balla","Sar Yoba Diga","Sdhiou","Tendouck"],Goudomp:["Goudomp","Marsassoum","Mdina Gounass","Niamone"],Bounkiling:["Bounkiling","Djinani"],Matam:["Agnam Civol","Agnam Goly","Bokidiaw","Dabia","Diawara","Kanel","Matam","Orkadir","Ouro Sogui","Ranrou","Semm","Thilogne","Waound"],Kanel:["Diawara","Kanel","Orkadir","Ouro Sogui","Ranrou","Semm","Thilogne","Waound"],"Ranrou":["Agnam Civol","Agnam Goly","Bokidiaw","Dabia","Ranrou"],"Kdougou":["Bandafassi","Dindflo","Fongolimbi","Ibel","Kdougou","Mako","Salmata","Saraya","Tomboronkoto"],"Salmata":["Bandafassi","Dindflo","Fongolimbi","Ibel","Salmata","Tomboronkoto"],Saraya:["Mako","Saraya"]},Th=["Dakar","This","Diourbel","Saint-Louis","Louga","Kaolack","Fatick","Kaffrine","Tambacounda","Kdougou","Kolda","Sdhiou","Ziguinchor","Matam"],zh={Dakar:["Dakar","Pikine","Rufisque","Gudiawaye"],"This":["This","Mbour","Tivaouane"],Diourbel:["Diourbel","Bambey","Mback"],"Saint-Louis":["Saint-Louis","Dagana","Podor"],Louga:["Louga","Kbmer","Lingure"],Kaolack:["Kaolack","Guinguino","Nioro du Rip"],Fatick:["Fatick","Foundiougne","Gossas"],Kaffrine:["Kaffrine","Birkilane","Koungheul","Malem Hodar"],Tambacounda:["Tambacounda","Bakel","Goudiry","Koumpentoum"],"Kdougou":["Kdougou","Salmata","Saraya"],Kolda:["Kolda","Mdina Yoro Foulah","Vlingara"],"Sdhiou":["Sdhiou","Bounkiling","Goudomp"],Ziguinchor:["Ziguinchor","Bignona","Oussouye"],Matam:["Matam","Kanel","Ranrou Ferlo"]};function Ph({regions:t=[],departements:n=[],communes:r=[],onRegionsChange:a,onDepartementsChange:s,onCommunesChange:i}){const[l,o]=e.useState([]),[c,u]=e.useState([]),[d,m]=e.useState([]),[p,f]=e.useState([]),[h,g]=e.useState([]),[v,b]=e.useState(!1);e.useEffect(()=>{x()},[]),e.useEffect(()=>{Array.isArray(t)&&t.length>0&&(f(t),g(t),j(t),y(t))},[t]);const x=async()=>{b(!0);try{const{data:e}=await Ch.getByType("REGION");let t=e||[];const n=t.map(e=>e.label);Th.forEach(e=>{n.includes(e)||t.push({code:e.toUpperCase().replace(/\s+/g,"_"),label:e})}),o(t)}catch(e){console.error("Error loading regions:",e)}finally{b(!1)}},j=async e=>{if(e&&0!==e.length){b(!0);try{const{data:t}=await Ch.getByType("DEPARTEMENT");let n=t||[],r=[];if(n.length>0&&n[0].region)r=n.filter(t=>e.includes(t.region));else{const t=new Set;e.forEach(e=>{(zh[e]||[]).forEach(e=>t.add(e))}),r=n.filter(e=>t.has(e.label)||t.has(e.code)),t.forEach(e=>{r.find(t=>t.label===e||t.code===e)||r.push({code:e.toUpperCase().replace(/\s+/g,"_"),label:e})})}u(r);const a=r.map(e=>e.label);s&&a.length>0&&s({target:{name:"departements",value:a}})}catch(t){console.error("Error loading departements:",t)}finally{b(!1)}}else u([])},y=async e=>{if(e&&0!==e.length){b(!0);try{const{data:t}=await Ch.getByType("COMMUNE");let n=t||[];const r=new Set;e.forEach(e=>{(zh[e]||[]).forEach(e=>r.add(e))});const a=new Set;r.forEach(e=>{(Ah[e]||[]).forEach(e=>a.add(e))});let s=[];n.length>0&&n[0].departement&&(s=n.filter(e=>Array.from(r).some(t=>{var n;return e.departement===t||(null==(n=e.departement)?void 0:n.includes(t))}))),a.forEach(e=>{s.find(t=>t.label===e||t.code===e)||s.push({code:e.toUpperCase().replace(/\s+/g,"_").replace(/[^A-Z0-9_]/g,""),label:e})}),m(s);const l=s.map(e=>e.label);i&&l.length>0&&i({target:{name:"communes",value:l}})}catch(t){console.error("Error loading communes:",t)}finally{b(!1)}}else m([])};return We.jsxs("div",{className:"geographic-cascade",children:[We.jsxs("div",{className:"geographic-cascade-header",children:[We.jsx("p",{className:"geographic-cascade-info",children:We.jsx("strong",{children:"Primtre gographique - Sngal"})}),We.jsx("small",{children:"Slectionnez une ou plusieurs rgions, puis confirmez pour charger automatiquement les dpartements et communes."})]}),We.jsxs("div",{className:"geographic-regions-section",children:[We.jsx(kh,{label:"Rgions",name:"regions_temp",value:p,onChange:e=>{const t=Array.isArray(e.target.value)?e.target.value:[];f(t)},options:l,typeReferentiel:"REGION",placeholder:"Slectionner une ou plusieurs rgions",multiple:!0}),p.length>0&&We.jsxs("button",{type:"button",className:"btn btn-primary btn-confirm-regions",onClick:()=>{0!==p.length&&(g(p),a&&a({target:{name:"regions",value:p}}),j(p),y(p))},disabled:v,children:[We.jsx(eh,{name:"Check",size:16}),"Confirmer la slection (",p.length," rgion",p.length>1?"s":"",")"]}),h.length>0&&We.jsxs("div",{className:"confirmed-regions-badge",children:[We.jsx(eh,{name:"CheckCircle",size:14}),We.jsxs("span",{children:[h.length," rgion",h.length>1?"s":""," confirme",h.length>1?"s":""]})]})]}),h.length>0&&We.jsxs(We.Fragment,{children:[We.jsx(kh,{label:"Dpartements",name:"departements",value:Array.isArray(n)?n:[],onChange:s,options:c,typeReferentiel:"DEPARTEMENT",placeholder:`${c.length} dpartement${c.length>1?"s":""} disponible${c.length>1?"s":""} (pr-slectionns)`,multiple:!0}),We.jsx(kh,{label:"Communes / Arrondissements",name:"communes",value:Array.isArray(r)?r:[],onChange:i,options:d,typeReferentiel:"COMMUNE",placeholder:`${d.length} commune${d.length>1?"s":""} disponible${d.length>1?"s":""} (pr-slectionnes)`,multiple:!0})]})]})}function Rh(){const t=n(),{id:r}=a(),s=!!r,[i,l]=e.useState(!0),[o,c]=e.useState(!1),[u,d]=e.useState({}),[m,p]=e.useState(!1),[f,h]=e.useState([]),[g,v]=e.useState([]),[b,x]=e.useState([]),[j,y]=e.useState([]),[N,S]=e.useState([]),[_,w]=e.useState([]),[C,k]=e.useState([]),[E,A]=e.useState([]),[T,z]=e.useState([]),[P,R]=e.useState([]),[L,I]=e.useState([]),[F,D]=e.useState({nom:"",description:"",financeur:"",chef_projet:"",date_debut:"",date_fin:"",budget:"",statut:"EN_PREPARATION",type_programme:"",thematiques:[],pays:"SN",regions:[],departements:[],communes:[],secteurs_cibles:[],genres_cibles:[],objectif_beneficiaires:"",objectif_emplois:"",niveau_risque:"",frequence_reporting:"",meta:"{}"});e.useEffect(()=>{(async()=>{try{const[e,t,n,r,a,i,l,o,c,u,d]=await Promise.all([Ch.getByType("FINANCEUR_PROGRAMME"),Ch.getByType("STATUT_PROGRAMME"),Ch.getByType("TYPE_PROGRAMME"),Ch.getByType("THEMATIQUE_PROGRAMME"),Ch.getByType("REGION"),Ch.getByType("DEPARTEMENT"),Ch.getByType("COMMUNE"),Ch.getByType("SECTEUR_ACTIVITE"),Ch.getByType("GENRE_CIBLE"),Ch.getByType("NIVEAU_RISQUE"),Ch.getByType("FREQUENCE_REPORTING")]);e.error||h(e.data),t.error||v(t.data),n.error||x(n.data),r.error||y(r.data),a.error||S(a.data),i.error||w(i.data),l.error||k(l.data),o.error||A(o.data),c.error||z(c.data),u.error||R(u.data),d.error||I(d.data),s&&await M()}finally{l(!1)}})()},[r]);const M=async()=>{try{const{data:e,error:n}=await mh.getById(r);n?(jh.error("Erreur lors du chargement du programme"),t("/programmes")):e&&D({nom:e.nom||"",description:e.description||"",financeur:e.financeur||"",chef_projet:e.chef_projet||"",date_debut:e.date_debut?e.date_debut.split("T")[0]:"",date_fin:e.date_fin?e.date_fin.split("T")[0]:"",budget:e.budget||"",statut:e.statut||"EN_PREPARATION",type_programme:e.type_programme||"",thematiques:e.thematiques||[],pays:e.pays||"SN",regions:e.regions||[],departements:e.departements||[],communes:e.communes||[],secteurs_cibles:e.secteurs_cibles||[],genres_cibles:e.genres_cibles||[],objectif_beneficiaires:e.objectif_beneficiaires||"",objectif_emplois:e.objectif_emplois||"",niveau_risque:e.niveau_risque||"",frequence_reporting:e.frequence_reporting||"",meta:JSON.stringify(e.meta||{},null,2)})}catch(e){console.error("Error loading programme:",e),jh.error("Erreur lors du chargement du programme"),t("/programmes")}},O=()=>{const e={};return F.date_debut&&F.date_fin&&new Date(F.date_fin)<new Date(F.date_debut)&&(e.date_fin="La date de fin doit tre postrieure  la date de dbut"),e},U=()=>{const e={};if(F.meta&&""!==F.meta.trim())try{JSON.parse(F.meta)}catch(kg){e.meta="JSON invalide. Veuillez corriger la syntaxe."}return e},B=e=>{const{name:t,value:n}=e.target;D(e=>{const r={...e,[t]:n};if(p(!0),"meta"===t){const e=U();d(t=>({...t,...e}))}if("date_debut"===t||"date_fin"===t){const e=O();d(t=>({...t,...e}))}return r})};return i?We.jsx(Nh,{message:"Chargement du programme..."}):We.jsxs("div",{className:"programme-form-page",children:[We.jsxs("div",{className:"programme-form-header",children:[We.jsx(th,{to:"/programmes",label:"Retour  la liste"}),We.jsx("h1",{children:s?"Modifier le Programme":"Nouveau Programme"})]}),We.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={...O(),...U()};return!F.nom||F.nom.trim().length<3?e.nom="Le nom doit contenir au moins 3 caractres":F.nom.length>200&&(e.nom="Le nom ne peut pas dpasser 200 caractres"),F.objectif_beneficiaires&&parseInt(F.objectif_beneficiaires)<0&&(e.objectif_beneficiaires="L'objectif doit tre positif"),F.objectif_emplois&&parseInt(F.objectif_emplois)<0&&(e.objectif_emplois="L'objectif doit tre positif"),d(e),0===Object.keys(e).length})()){c(!0);try{const e={...F,budget:F.budget?parseFloat(F.budget.replace(/\s/g,"")):null,date_debut:F.date_debut||null,date_fin:F.date_fin||null,objectif_beneficiaires:F.objectif_beneficiaires?parseInt(F.objectif_beneficiaires,10):null,objectif_emplois:F.objectif_emplois?parseInt(F.objectif_emplois,10):null,meta:Lh(F.meta)};let n;if(n=s?await mh.update(r,e):await mh.create(e),n.error){const e=n.error.message||`Erreur lors de la ${s?"modification":"cration"} du programme`;jh.error(e),console.error("API Error:",n.error)}else jh.success(`Programme ${s?"modifi":"cr"} avec succs`),p(!1),t("/programmes")}catch(n){console.error("Error saving programme:",n),jh.error(`Erreur lors de la ${s?"modification":"cration"} du programme`)}finally{c(!1)}}else jh.error("Veuillez corriger les erreurs dans le formulaire")},className:"programme-form",children:[We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Informations gnrales"}),We.jsxs("div",{className:"form-grid",children:[We.jsxs("div",{className:"form-group form-group--full",children:[We.jsx("label",{htmlFor:"nom",children:"Nom du programme *"}),We.jsx("input",{type:"text",id:"nom",name:"nom",value:F.nom,onChange:B,required:!0,className:"input "+(u.nom?"input-error":""),placeholder:"Ex: Programme d'entrepreneuriat digital",maxLength:200}),u.nom&&We.jsx("span",{className:"error-message",children:u.nom})]}),We.jsxs("div",{className:"form-group form-group--full",children:[We.jsx("label",{htmlFor:"description",children:"Description"}),We.jsx("textarea",{id:"description",name:"description",value:F.description,onChange:B,rows:4,className:"input",placeholder:"Description dtaille du programme..."})]}),We.jsx("div",{className:"form-group",children:We.jsx(kh,{label:"Financeur",name:"financeur",value:F.financeur,onChange:B,options:f,typeReferentiel:"FINANCEUR_PROGRAMME",placeholder:"Slectionner un financeur",required:!0})}),We.jsx("div",{className:"form-group",children:We.jsx(kh,{label:"Statut",name:"statut",value:F.statut,onChange:B,options:g,typeReferentiel:"STATUT_PROGRAMME",placeholder:"Slectionner un statut"})}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"chef_projet",children:"Chef de projet"}),We.jsx("input",{type:"text",id:"chef_projet",name:"chef_projet",value:F.chef_projet,onChange:B,className:"input",placeholder:"Nom du chef de projet"})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"budget",children:"Budget (XOF)"}),We.jsxs("div",{className:"input-with-suffix",children:[We.jsx("input",{type:"text",id:"budget",name:"budget",value:(e=>{if(!e)return"";const t=parseFloat(e);return isNaN(t)?e:t.toLocaleString("fr-FR")})(F.budget),onChange:e=>{const t=e.target.value.replace(/\s/g,"");B({...e,target:{...e.target,value:t}})},className:"input",placeholder:"0",inputMode:"numeric"}),We.jsx("span",{className:"input-suffix",children:"XOF"})]})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"date_debut",children:"Date de dbut"}),We.jsx("input",{type:"date",id:"date_debut",name:"date_debut",value:F.date_debut,onChange:B,className:"input "+(u.date_fin?"input-error":""),max:F.date_fin||void 0})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"date_fin",children:"Date de fin"}),We.jsx("input",{type:"date",id:"date_fin",name:"date_fin",value:F.date_fin,onChange:B,className:"input "+(u.date_fin?"input-error":""),min:F.date_debut||void 0}),u.date_fin&&We.jsx("span",{className:"error-message",children:u.date_fin})]})]})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Primtre gographique"}),We.jsx("div",{className:"form-grid",children:We.jsx("div",{className:"form-group form-group--full",children:We.jsx(Ph,{regions:F.regions,departements:F.departements,communes:F.communes,onRegionsChange:e=>{D(t=>({...t,regions:Array.isArray(e.target.value)?e.target.value:[]}))},onDepartementsChange:e=>{D(t=>({...t,departements:Array.isArray(e.target.value)?e.target.value:[]}))},onCommunesChange:e=>{D(t=>({...t,communes:Array.isArray(e.target.value)?e.target.value:[]}))}})})})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Public cible & thmatiques"}),We.jsxs("div",{className:"form-grid",children:[We.jsx("div",{className:"form-group",children:We.jsx(kh,{label:"Type de programme",name:"type_programme",value:F.type_programme,onChange:B,options:b,typeReferentiel:"TYPE_PROGRAMME",placeholder:"Non spcifi"})}),We.jsx("div",{className:"form-group form-group--full",children:We.jsx(Eh,{label:"Thmatiques",name:"thematiques",value:F.thematiques,onChange:e=>{D(t=>({...t,thematiques:Array.isArray(e.target.value)?e.target.value:[]}))},options:j,typeReferentiel:"THEMATIQUE_PROGRAMME",placeholder:"Slectionner ou crer des thmatiques",multiple:!0})}),We.jsx("div",{className:"form-group form-group--full",children:We.jsx(Eh,{label:"Secteurs d'activit cibls",name:"secteurs_cibles",value:F.secteurs_cibles,onChange:e=>{D(t=>({...t,secteurs_cibles:Array.isArray(e.target.value)?e.target.value:[]}))},options:E,typeReferentiel:"SECTEUR_ACTIVITE",placeholder:"Slectionner ou crer des secteurs",multiple:!0})}),We.jsx("div",{className:"form-group form-group--full",children:We.jsx(Eh,{label:"Genres cibls",name:"genres_cibles",value:F.genres_cibles,onChange:e=>{D(t=>({...t,genres_cibles:Array.isArray(e.target.value)?e.target.value:[]}))},options:T,typeReferentiel:"GENRE_CIBLE",placeholder:"Slectionner ou crer des genres",multiple:!0})})]})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Objectifs & risques"}),We.jsxs("div",{className:"form-grid",children:[We.jsxs("div",{className:"form-group",children:[We.jsx("label",{children:"Objectif bnficiaires"}),We.jsx("input",{type:"number",name:"objectif_beneficiaires",value:F.objectif_beneficiaires,onChange:B,className:"input "+(u.objectif_beneficiaires?"input-error":""),min:"0"}),u.objectif_beneficiaires&&We.jsx("span",{className:"error-message",children:u.objectif_beneficiaires})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{children:"Objectif emplois crs"}),We.jsx("input",{type:"number",name:"objectif_emplois",value:F.objectif_emplois,onChange:B,className:"input "+(u.objectif_emplois?"input-error":""),min:"0"}),u.objectif_emplois&&We.jsx("span",{className:"error-message",children:u.objectif_emplois})]}),We.jsx("div",{className:"form-group",children:We.jsx(kh,{label:"Niveau de risque",name:"niveau_risque",value:F.niveau_risque,onChange:B,options:P,typeReferentiel:"NIVEAU_RISQUE",placeholder:"Non valu"})}),We.jsx("div",{className:"form-group",children:We.jsx(kh,{label:"Frquence de reporting",name:"frequence_reporting",value:F.frequence_reporting,onChange:B,options:L,typeReferentiel:"FREQUENCE_REPORTING",placeholder:"Par dfaut"})})]})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Paramtres avancs (meta JSON)"}),We.jsx("div",{className:"form-grid",children:We.jsxs("div",{className:"form-group form-group--full",children:[We.jsx("label",{children:"Meta (JSON)"}),We.jsx("textarea",{name:"meta",value:F.meta,onChange:B,rows:6,className:"input "+(u.meta?"input-error":""),placeholder:'{"plafond_subvention": 500000, "apport_minimum": 10}'}),u.meta?We.jsx("span",{className:"error-message",children:u.meta}):We.jsx("small",{children:"Utilis pour des options spcifiques programme / bailleur sans changer le code."})]})})]}),We.jsxs("div",{className:"form-actions",children:[We.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>t("/programmes"),disabled:o,children:"Annuler"}),We.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?We.jsxs(We.Fragment,{children:[We.jsx("div",{className:"spinner-small"}),"Enregistrement..."]}):We.jsxs(We.Fragment,{children:[We.jsx(eh,{name:"Save",size:18}),s?"Modifier":"Crer"," le programme"]})})]})]})]})}function Lh(e){if(!e)return{};try{return JSON.parse(e)}catch{return{}}}function Ih(){var t,r;const s=n(),{id:i}=a(),[l,o]=e.useState(null),[c,u]=e.useState(!0),[d,m]=e.useState([]),[p,f]=e.useState({candidats:0,beneficiaires:0}),[h,g]=e.useState(null),[v,b]=e.useState(!1);e.useEffect(()=>{x()},[i]);const x=async()=>{u(!0),await Promise.all([j(),y(),N(),S()]),u(!1)},j=async()=>{try{const{data:e,error:t}=await mh.getById(i);t?(jh.error("Erreur lors du chargement du programme"),s("/programmes")):o(e)}catch(e){console.error("Error loading programme:",e),jh.error("Erreur lors du chargement du programme"),s("/programmes")}finally{u(!1)}},y=async()=>{try{const{data:e,error:t}=await fh.getAll(i);t?console.error("Erreur lors du chargement des projets du programme",t):m(e||[])}catch(e){console.error("Erreur inattendue lors du chargement des projets du programme",e)}},N=async()=>{try{const[e,t]=await Promise.all([Xf.from("candidats").select("id, appel_id"),Xf.from("beneficiaires").select("id, projet_id")]),n=d.map(e=>e.id),r=(e.data||[]).filter(e=>e.appel_id&&n.includes(e.projet_id)).length,a=(t.data||[]).filter(e=>e.projet_id&&n.includes(e.projet_id)).length;f({candidats:r,beneficiaires:a})}catch(e){console.error("Erreur lors du calcul des statistiques du programme",e)}},S=async()=>{try{const{data:e,error:t}=await Xf.from("programme_eligibilite").select("*").eq("programme_id",i).single();!t&&e&&g(e)}catch(e){console.warn("Eligibilit programme non configure ou table manquante")}};return c?We.jsx(Nh,{message:"Chargement du programme..."}):l?We.jsxs("div",{className:"programme-detail-page",children:[We.jsxs("div",{className:"programme-detail-header",children:[We.jsx(th,{to:"/programmes",label:"Retour  la liste"}),We.jsxs("div",{className:"programme-detail-header-content",children:[We.jsxs("div",{children:[We.jsx("h1",{children:l.nom||"Programme sans nom"}),We.jsx("span",{className:`programme-statut programme-statut--${null==(t=l.statut)?void 0:t.toLowerCase()}`,children:(null==(r=l.statut)?void 0:r.replace("_"," "))||"NON_DEFINI"})]}),We.jsxs("div",{className:"programme-detail-actions",children:[We.jsxs("button",{className:"btn btn-secondary",onClick:()=>s(`/programmes/${i}/edit`),children:[We.jsx(eh,{name:"Edit",size:18}),"Modifier"]}),We.jsxs("button",{className:"btn btn-danger",onClick:async()=>{b(!0)},children:[We.jsx(eh,{name:"Trash2",size:18}),"Supprimer"]})]})]})]}),We.jsxs("div",{className:"programme-detail-content",children:[We.jsxs("div",{className:"programme-detail-main",children:[We.jsxs("div",{className:"programme-detail-section",children:[We.jsx("h2",{children:"Description"}),We.jsx("p",{children:l.description||"Aucune description disponible"})]}),We.jsxs("div",{className:"programme-detail-section",children:[We.jsx("h2",{children:"Informations"}),We.jsxs("div",{className:"programme-info-grid",children:[We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"DollarSign",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Financeur"}),We.jsx("span",{children:l.financeur||"Non spcifi"})]})]}),l.chef_projet&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"User",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Chef de projet"}),We.jsx("span",{children:l.chef_projet})]})]}),l.date_debut&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Calendar",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Date de dbut"}),We.jsx("span",{children:new Date(l.date_debut).toLocaleDateString("fr-FR")})]})]}),l.date_fin&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Calendar",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Date de fin"}),We.jsx("span",{children:new Date(l.date_fin).toLocaleDateString("fr-FR")})]})]}),l.budget&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"DollarSign",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Budget"}),We.jsx("span",{children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(l.budget)})]})]})]})]}),We.jsxs("div",{className:"programme-detail-section",children:[We.jsxs("div",{className:"section-header",children:[We.jsx("h2",{children:"Projets associs"}),We.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>s(`/projets/new?programme=${i}`),children:[We.jsx(eh,{name:"Plus",size:16}),"Nouveau projet"]})]}),0===d.length?We.jsx(yh,{icon:"Folder",title:"Aucun projet",message:"Ce programme n'a pas encore de projets associs",action:{label:"Crer un projet",onClick:()=>s(`/projets/new?programme=${i}`)}}):We.jsx("div",{className:"projets-list",children:d.map(e=>We.jsxs("div",{className:"projet-item",children:[We.jsx("h4",{children:e.nom}),We.jsx("button",{className:"btn-icon",onClick:()=>s(`/projets/${e.id}`),children:We.jsx(eh,{name:"ArrowRight",size:18})})]},e.id))})]})]}),We.jsxs("div",{className:"programme-detail-sidebar",children:[We.jsxs("div",{className:"programme-stats",children:[We.jsx("h3",{children:"Statistiques"}),We.jsxs("div",{className:"stat-item",children:[We.jsx("span",{className:"stat-label",children:"Projets"}),We.jsx("span",{className:"stat-value",children:d.length})]}),We.jsxs("div",{className:"stat-item",children:[We.jsx("span",{className:"stat-label",children:"Candidats"}),We.jsx("span",{className:"stat-value",children:p.candidats})]}),We.jsxs("div",{className:"stat-item",children:[We.jsx("span",{className:"stat-label",children:"Bnficiaires"}),We.jsx("span",{className:"stat-value",children:p.beneficiaires})]})]}),We.jsxs("div",{className:"programme-eligibilite",children:[We.jsx("h3",{children:"Eligibilit"}),h?We.jsxs("ul",{className:"eligibilite-list",children:[null!=h.age_min&&We.jsxs("li",{children:[We.jsx("strong",{children:"ge minimum :"})," ",h.age_min," ans"]}),null!=h.age_max&&We.jsxs("li",{children:[We.jsx("strong",{children:"ge maximum :"})," ",h.age_max," ans"]}),Array.isArray(h.genres_autorises)&&h.genres_autorises.length>0&&We.jsxs("li",{children:[We.jsx("strong",{children:"Genres cibls :"})," ",h.genres_autorises.join(", ")]}),Array.isArray(h.zones)&&h.zones.length>0&&We.jsxs("li",{children:[We.jsx("strong",{children:"Zones ligibles :"})," ",h.zones.join(", ")]})]}):We.jsx("p",{className:"eligibilite-empty",children:"Aucune rgle d'ligibilit spcifique configure pour ce programme."})]})]})]}),We.jsx(Sh,{open:v,title:"Supprimer le programme",description:"tes-vous sr de vouloir supprimer ce programme ? Cette action est irrversible.",variant:"danger",confirmLabel:"Supprimer",cancelLabel:"Annuler",onConfirm:async()=>{b(!1);try{const{error:e}=await mh.delete(i);e?jh.error("Erreur lors de la suppression"):(jh.success("Programme supprim avec succs"),s("/programmes"))}catch(e){console.error("Error deleting programme:",e),jh.error("Erreur lors de la suppression")}},onCancel:()=>b(!1)})]}):We.jsx(yh,{icon:"AlertCircle",title:"Programme introuvable",message:"Le programme demand n'existe pas ou a t supprim",action:{label:"Retour  la liste",onClick:()=>s("/programmes")}})}const Fh="appels_candidatures",Dh={async getAll(e=null){try{let t=Xf.from(Fh).select("*").order("created_at",{ascending:!1});e&&(t=t.eq("projet_id",e));const{data:n,error:r}=await t;return{data:(n||[]).map(e=>({...e,criteres:e.criteres_eligibilite})),error:r}}catch(t){return console.error("Error fetching appels:",t),{data:[],error:t}}},async getById(e){try{const{data:t,error:n}=await Xf.from(Fh).select("*").eq("id",e).single();if(n)return{data:null,error:n};return{data:{...t,criteres:t.criteres_eligibilite},error:null}}catch(t){return console.error("Error fetching appel:",t),{data:null,error:t}}},async create(e){try{const t={titre:e.titre,description:e.description,projet_id:e.projet_id||null,statut:e.statut||"OUVERT",date_ouverture:e.date_ouverture||null,date_fermeture:e.date_fermeture||null,criteres_eligibilite:e.criteres||null},{data:n,error:r}=await Xf.from(Fh).insert(t).select("*").single();return{data:n,error:r}}catch(t){return console.error("Error creating appel:",t),{data:null,error:t}}},async update(e,t){try{const n={titre:t.titre,description:t.description,projet_id:t.projet_id||null,statut:t.statut,date_ouverture:t.date_ouverture||null,date_fermeture:t.date_fermeture||null,criteres_eligibilite:t.criteres||null},{data:r,error:a}=await Xf.from(Fh).update(n).eq("id",e).select("*").single();return{data:r,error:a}}catch(n){return console.error("Error updating appel:",n),{data:null,error:n}}},async close(e){try{const{data:t,error:n}=await Xf.from(Fh).update({statut:"CLOTURE"}).eq("id",e).select("*").single();return{data:t,error:n}}catch(t){return console.error("Error closing appel:",t),{data:null,error:t}}},async delete(e){try{const{error:t}=await Xf.from(Fh).delete().eq("id",e);return{data:{id:e},error:t}}catch(t){return console.error("Error deleting appel:",t),{data:null,error:t}}}};function Mh(){const t=n(),[r]=s(),a=r.get("programme"),[i,l]=e.useState([]),[o,c]=e.useState([]),[u,d]=e.useState(!0),[m,p]=e.useState({open:!1,id:null}),[f,h]=e.useState({programme:a||"",search:""});e.useEffect(()=>{g(),v()},[f]);const g=async()=>{try{const{data:e}=await mh.getAll();c(e||[])}catch(e){console.error("Error loading programmes:",e)}},v=async()=>{d(!0);try{const{data:e,error:t}=await fh.getAll(f.programme||null);if(t)jh.error("Erreur lors du chargement des projets"),console.error(t);else{let t=e||[];if(f.search){const e=f.search.toLowerCase();t=t.filter(t=>{var n,r,a;return(null==(n=t.nom)?void 0:n.toLowerCase().includes(e))||(null==(r=t.description)?void 0:r.toLowerCase().includes(e))||(null==(a=t.type_activite)?void 0:a.toLowerCase().includes(e))})}const n=await Promise.all(t.map(async e=>{const{count:t}=await Xf.from("appels_candidatures").select("*",{count:"exact",head:!0}).eq("projet_id",e.id),{data:n}=await Xf.from("appels_candidatures").select("id").eq("projet_id",e.id),r=(n||[]).map(e=>e.id),{count:a}=r.length>0?await Xf.from("candidats").select("*",{count:"exact",head:!0}).in("appel_id",r):{count:0},{count:s}=await Xf.from("beneficiaires").select("*",{count:"exact",head:!0}).eq("projet_id",e.id);return{...e,_stats:{appels:t||0,candidats:a||0,beneficiaires:s||0}}}));l(n)}}catch(e){console.error("Error loading projets:",e),jh.error("Erreur lors du chargement des projets")}finally{d(!1)}},b=e=>{const t=o.find(t=>t.id===e);return(null==t?void 0:t.nom)||"Programme inconnu"};return u?We.jsx(Nh,{message:"Chargement des projets..."}):We.jsxs("div",{className:"projets-page",children:[We.jsxs("div",{className:"projets-header",children:[We.jsxs("div",{className:"projets-header-top",children:[We.jsx(th,{to:"/dashboard",label:"Retour au tableau de bord"}),We.jsx("h1",{children:"Gestion des Projets"})]}),We.jsx("div",{className:"projets-actions",children:We.jsxs("button",{className:"btn btn-primary",onClick:()=>t("/projets/new"+(a?`?programme=${a}`:"")),children:[We.jsx(eh,{name:"Plus",size:18}),"Nouveau Projet"]})})]}),We.jsxs("div",{className:"projets-filters",children:[We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Recherche"}),We.jsx("input",{type:"text",placeholder:"Rechercher un projet...",value:f.search,onChange:e=>h({...f,search:e.target.value}),className:"input"})]}),We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Programme"}),We.jsxs("select",{value:f.programme,onChange:e=>{h({...f,programme:e.target.value}),e.target.value?t(`/projets?programme=${e.target.value}`):t("/projets")},className:"input",children:[We.jsx("option",{value:"",children:"Tous les programmes"}),o.map(e=>We.jsx("option",{value:e.id,children:e.nom},e.id))]})]})]}),0===i.length?We.jsx(yh,{icon:"Folder",title:"Aucun projet",message:a?"Ce programme n'a pas encore de projets":"Commencez par crer votre premier projet",action:{label:"Crer un projet",onClick:()=>t("/projets/new"+(a?`?programme=${a}`:""))}}):We.jsx("div",{className:"projets-grid",children:i.map(e=>We.jsxs("div",{className:"projet-card",children:[We.jsxs("div",{className:"projet-card-header",children:[We.jsxs("div",{className:"projet-card-title",children:[We.jsx("h3",{children:e.nom||"Projet sans nom"}),e.programme_id&&We.jsx("span",{className:"projet-programme",children:b(e.programme_id)})]}),We.jsxs("div",{className:"projet-card-actions",children:[We.jsx("button",{className:"btn-icon",onClick:()=>t(`/projets/${e.id}`),title:"Voir les dtails",children:We.jsx(eh,{name:"Eye",size:18})}),We.jsx("button",{className:"btn-icon",onClick:()=>t(`/projets/${e.id}/edit`),title:"Modifier",children:We.jsx(eh,{name:"Edit",size:18})}),We.jsx("button",{className:"btn-icon btn-icon--danger",onClick:()=>(async e=>{p({open:!0,id:e})})(e.id),title:"Supprimer",children:We.jsx(eh,{name:"Trash2",size:18})})]})]}),We.jsxs("div",{className:"projet-card-body",children:[We.jsx("p",{className:"projet-description",children:e.description||"Aucune description"}),We.jsxs("div",{className:"projet-info",children:[e.type_activite&&We.jsxs("div",{className:"projet-info-item",children:[We.jsx(eh,{name:"Bookmark",size:16}),We.jsx("span",{children:e.type_activite})]}),e.date_debut&&We.jsxs("div",{className:"projet-info-item",children:[We.jsx(eh,{name:"Calendar",size:16}),We.jsxs("span",{children:[new Date(e.date_debut).toLocaleDateString("fr-FR"),e.date_fin&&` - ${new Date(e.date_fin).toLocaleDateString("fr-FR")}`]})]})]}),e._stats&&We.jsxs("div",{className:"projet-metrics",children:[We.jsxs("div",{className:"metric-badge",onClick:n=>{n.stopPropagation(),t(`/appels-candidatures?projet=${e.id}`)},children:[We.jsx(eh,{name:"Bell",size:14}),We.jsxs("span",{children:[e._stats.appels," appels"]})]}),We.jsxs("div",{className:"metric-badge",onClick:n=>{n.stopPropagation(),t(`/candidats?projet=${e.id}`)},children:[We.jsx(eh,{name:"Sparkles",size:14}),We.jsxs("span",{children:[e._stats.candidats," candidats"]})]}),We.jsxs("div",{className:"metric-badge",onClick:n=>{n.stopPropagation(),t(`/beneficiaires?projet=${e.id}`)},children:[We.jsx(eh,{name:"Users",size:14}),We.jsxs("span",{children:[e._stats.beneficiaires," bnficiaires"]})]})]})]})]},e.id))}),We.jsx(Sh,{open:m.open,title:"Supprimer le projet",description:"tes-vous sr de vouloir supprimer ce projet ? Cette action est irrversible.",variant:"danger",confirmLabel:"Supprimer",cancelLabel:"Annuler",onConfirm:async()=>{if(m.id)try{const{error:e}=await fh.delete(m.id);e?jh.error("Erreur lors de la suppression"):(jh.success("Projet supprim avec succs"),v())}catch(e){console.error("Error deleting projet:",e),jh.error("Erreur lors de la suppression")}finally{p({open:!1,id:null})}},onCancel:()=>p({open:!1,id:null})})]})}const Oh="users",Uh={async getByRole(e){try{const{data:t,error:n}=await Xf.from(Oh).select("id, email, nom, prenom, role, telephone").eq("role",e).eq("actif",!0).order("nom",{ascending:!0});return n?{data:[],error:n}:{data:t||[],error:null}}catch(t){return console.error("Error fetching users by role:",t),{data:[],error:t}}},async getIntervenants(){try{const{data:e,error:t}=await Xf.from(Oh).select("id, email, nom, prenom, role, telephone").in("role",["MENTOR","FORMATEUR","COACH"]).eq("actif",!0).order("role",{ascending:!0}).order("nom",{ascending:!0});return t?{data:[],error:t}:{data:e||[],error:null}}catch(e){return console.error("Error fetching intervenants:",e),{data:[],error:e}}},async getChefsProjet(){return this.getByRole("CHEF_PROJET")},async getById(e){try{const{data:t,error:n}=await Xf.from(Oh).select("id, email, nom, prenom, role, telephone").eq("id",e).single();return n?{data:null,error:n}:{data:t,error:null}}catch(t){return console.error("Error fetching user:",t),{data:null,error:t}}}};function Bh({label:t="Assignation des intervenants",chefProjetId:n,mentorsIds:r=[],formateursIds:a=[],coachesIds:s=[],onChefProjetChange:i,onMentorsChange:l,onFormateursChange:o,onCoachesChange:c,required:u=!1}){const[d,m]=e.useState(!0),[p,f]=e.useState([]),[h,g]=e.useState([]),[v,b]=e.useState(n||""),[x,j]=e.useState(r||[]),[y,N]=e.useState(a||[]),[S,_]=e.useState(s||[]);e.useEffect(()=>{w()},[]),e.useEffect(()=>{b(n||"")},[n]),e.useEffect(()=>{j(r||[])},[r]),e.useEffect(()=>{N(a||[])},[a]),e.useEffect(()=>{_(s||[])},[s]);const w=async()=>{m(!0);try{const[e,t]=await Promise.all([Uh.getChefsProjet(),Uh.getIntervenants()]);e.error||f(e.data||[]),t.error||g(t.data||[])}catch(e){console.error("Error loading users:",e)}finally{m(!1)}},C=e=>h.filter(t=>t.role===e),k=e=>{const t=[...p,...h].find(t=>t.id===e);return t?`${t.nom} ${t.prenom}`:e};return d?We.jsx(Nh,{message:"Chargement des intervenants..."}):We.jsxs("div",{className:"intervenants-selector",children:[We.jsxs("div",{className:"intervenants-selector-header",children:[We.jsxs("label",{children:[t," ",u&&We.jsx("span",{className:"required",children:"*"})]}),We.jsx("p",{className:"intervenants-selector-description",children:"Assignez un chef de projet et des intervenants (mentors, formateurs, coaches)  ce projet"})]}),We.jsxs("div",{className:"intervenants-selector-content",children:[We.jsxs("div",{className:"intervenants-group",children:[We.jsxs("label",{htmlFor:"chef_projet_id",children:[We.jsx(eh,{name:"UserCheck",size:16}),"Chef de projet"]}),We.jsxs("select",{id:"chef_projet_id",name:"chef_projet_id",value:v,onChange:e=>{const t=e.target.value;b(t),i&&i({target:{name:"chef_projet_id",value:t}})},className:"input",children:[We.jsx("option",{value:"",children:"Slectionner un chef de projet"}),p.map(e=>We.jsxs("option",{value:e.id,children:[e.nom," ",e.prenom," (",e.email,")"]},e.id))]}),v&&We.jsxs("div",{className:"selected-user-badge",children:[We.jsx(eh,{name:"CheckCircle",size:14}),We.jsx("span",{children:k(v)})]})]}),We.jsxs("div",{className:"intervenants-group",children:[We.jsxs("label",{htmlFor:"mentors_ids",children:[We.jsx(eh,{name:"Handshake",size:16}),"Mentors"]}),We.jsx("select",{id:"mentors_ids",name:"mentors_ids",multiple:!0,value:x,onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);j(t),l&&l({target:{name:"mentors_ids",value:t}})},className:"input",size:Math.min(5,C("MENTOR").length+1),children:C("MENTOR").map(e=>We.jsxs("option",{value:e.id,children:[e.nom," ",e.prenom," (",e.email,")"]},e.id))}),x.length>0&&We.jsx("div",{className:"selected-users-list",children:x.map(e=>We.jsxs("span",{className:"selected-user-badge",children:[We.jsx(eh,{name:"Handshake",size:12}),k(e)]},e))})]}),We.jsxs("div",{className:"intervenants-group",children:[We.jsxs("label",{htmlFor:"formateurs_ids",children:[We.jsx(eh,{name:"GraduationCap",size:16}),"Formateurs"]}),We.jsx("select",{id:"formateurs_ids",name:"formateurs_ids",multiple:!0,value:y,onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);N(t),o&&o({target:{name:"formateurs_ids",value:t}})},className:"input",size:Math.min(5,C("FORMATEUR").length+1),children:C("FORMATEUR").map(e=>We.jsxs("option",{value:e.id,children:[e.nom," ",e.prenom," (",e.email,")"]},e.id))}),y.length>0&&We.jsx("div",{className:"selected-users-list",children:y.map(e=>We.jsxs("span",{className:"selected-user-badge",children:[We.jsx(eh,{name:"GraduationCap",size:12}),k(e)]},e))})]}),We.jsxs("div",{className:"intervenants-group",children:[We.jsxs("label",{htmlFor:"coaches_ids",children:[We.jsx(eh,{name:"UserCircle",size:16}),"Coaches"]}),We.jsx("select",{id:"coaches_ids",name:"coaches_ids",multiple:!0,value:S,onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);_(t),c&&c({target:{name:"coaches_ids",value:t}})},className:"input",size:Math.min(5,C("COACH").length+1),children:C("COACH").map(e=>We.jsxs("option",{value:e.id,children:[e.nom," ",e.prenom," (",e.email,")"]},e.id))}),S.length>0&&We.jsx("div",{className:"selected-users-list",children:S.map(e=>We.jsxs("span",{className:"selected-user-badge",children:[We.jsx(eh,{name:"UserCircle",size:12}),k(e)]},e))})]})]})]})}const qh={ENTREPRENEURIAT:{id:"ENTREPRENEURIAT",label:"Entrepreneuriat",description:"Formation et accompagnement  la cration d'entreprise",categories:["Cration d'entreprise","Gestion d'entreprise","Marketing & Communication","Finance & Comptabilit","Management","Business Plan","Stratgie commerciale"],icon:"",color:"#3b82f6"},ENERGIE_VERTE:{id:"ENERGIE_VERTE",label:"nergie Verte",description:"Formation dans les nergies renouvelables et durables",categories:["Solaire","olien","Biomasse","Efficacit nergtique","Installation panneaux solaires","Maintenance nergies renouvelables"],icon:"",color:"#10b981"},DIGITAL:{id:"DIGITAL",label:"Digital & Technologies",description:"Formation aux technologies numriques",categories:["Dveloppement Web","Dveloppement Mobile","Design Graphique","Marketing Digital","E-commerce","Infographie","Montage vido","Community Management","Rfrencement SEO","Cyberscurit"],icon:"",color:"#8b5cf6"},RESTAURATION:{id:"RESTAURATION",label:"Restauration & Htellerie",description:"Formation en restauration et htellerie",categories:["Cuisine","Service en salle","Gestion de restaurant","Ptisserie","Boulangerie","Traiteur","Rception htelire","Bar & Mixologie"],icon:"",color:"#f59e0b"},ARTISANAT:{id:"ARTISANAT",label:"Artisanat",description:"Formation aux mtiers de l'artisanat",categories:["Menuiserie","Couture","Poterie","Bijouterie","Tissage","Tannerie","Sculpture","Maroquinerie","Broderie","Vannerie"],icon:"",color:"#ef4444"},AGRICULTURE:{id:"AGRICULTURE",label:"Agriculture & levage",description:"Formation en agriculture et levage",categories:["Agriculture durable","levage","Transformation agroalimentaire","Commercialisation","Apiculture","Pisciculture","Marachage","Arboriculture","Gestion des ressources naturelles"],icon:"",color:"#84cc16"},SANTE:{id:"SANTE",label:"Sant & Bien-tre",description:"Formation dans le domaine de la sant",categories:["Aide-soignant","Infirmier","Sage-femme","Hygine & Salubrit","Premiers secours","Nutrition","Mdecine traditionnelle","Pharmacie communautaire"],icon:"",color:"#ec4899"},EDUCATION:{id:"EDUCATION",label:"ducation & Formation",description:"Formation dans le domaine ducatif",categories:["Enseignement primaire","Enseignement secondaire","Alphabtisation","Formation professionnelle","Animation socio-ducative","Garde d'enfants","Soutien scolaire"],icon:"",color:"#06b6d4"},BTP:{id:"BTP",label:"Btiment & Travaux Publics",description:"Formation dans le btiment et travaux publics",categories:["Maonnerie","Plomberie","lectricit","Peinture","Carrelage","Menuiserie BTP","Charpenterie","Couverture","Isolation","nergtique du btiment"],icon:"",color:"#f97316"},TRANSPORT:{id:"TRANSPORT",label:"Transport & Logistique",description:"Formation dans le transport et la logistique",categories:["Conduite de vhicules","Transport de marchandises","Transport de personnes","Logistique","Manutention","Mcanique automobile","Maintenance vhicules"],icon:"",color:"#6366f1"},COMMERCE:{id:"COMMERCE",label:"Commerce & Vente",description:"Formation en commerce et vente",categories:["Vente au dtail","Vente en gros","Commerce ambulant","Gestion de magasin","Ngociation commerciale","Relation client","E-commerce","Commerce international"],icon:"",color:"#14b8a6"},BEAUTE:{id:"BEAUTE",label:"Beaut & Esthtique",description:"Formation en beaut et esthtique",categories:["Coiffure","Maquillage","Soins du visage","Soins du corps","Manucure & Pdicure","pilation","Massage bien-tre","Barbier"],icon:"",color:"#a855f7"},TEXTILE:{id:"TEXTILE",label:"Textile & Mode",description:"Formation dans le textile et la mode",categories:["Couture","Confection","Design de mode","Teinture","Broderie","Srigraphie","Modlisme","Stylisme"],icon:"",color:"#f43f5e"},TOURISME:{id:"TOURISME",label:"Tourisme & Animation",description:"Formation dans le tourisme et l'animation",categories:["Guide touristique","Animation culturelle","Accueil touristique","Organisation d'vnements","Gestion d'hbergement","Agence de voyage","cotourisme"],icon:"",color:"#0ea5e9"},FINANCE:{id:"FINANCE",label:"Finance & Microfinance",description:"Formation en finance et microfinance",categories:["Gestion financire","Comptabilit","Microfinance","pargne & Crdit","Banque","Assurance","Analyse financire"],icon:"",color:"#22c55e"},ENVIRONNEMENT:{id:"ENVIRONNEMENT",label:"Environnement & Dveloppement Durable",description:"Formation en environnement et dveloppement durable",categories:["Gestion des dchets","Recyclage","Protection de l'environnement","nergies renouvelables","Agriculture biologique","co-construction","Sensibilisation environnementale"],icon:"",color:"#10b981"},MEDIA:{id:"MEDIA",label:"Mdias & Communication",description:"Formation dans les mdias et la communication",categories:["Journalisme","Radio","Tlvision","Photographie","Vidographie","Communication","Relations publiques","Production audiovisuelle"],icon:"",color:"#8b5cf6"},SPORT:{id:"SPORT",label:"Sport & Animation",description:"Formation dans le sport et l'animation",categories:["ducation physique","Animation sportive","Coaching sportif","Gestion d'quipements sportifs","Organisation d'vnements sportifs","Kinsithrapie sportive"],icon:"",color:"#f59e0b"},SECURITE:{id:"SECURITE",label:"Scurit & Protection",description:"Formation en scurit et protection",categories:["Agent de scurit","Scurit incendie","Scurit routire","Protection civile","Scurit prive","Garde du corps"],icon:"",color:"#ef4444"},METIERS_SERVICE:{id:"METIERS_SERVICE",label:"Mtiers de Service",description:"Formation dans les mtiers de service",categories:["Service  la personne","Aide  domicile","Mnage & Nettoyage","Blanchisserie","Repassage","Jardinage","Bricolage","Livraison"],icon:"",color:"#64748b"},INNOVATION:{id:"INNOVATION",label:"Innovation & Recherche",description:"Formation en innovation et recherche",categories:["Innovation technologique","Recherche & Dveloppement","Transfert de technologie","Innovation sociale","Fab Lab","Impression 3D","Robotique"],icon:"",color:"#6366f1"},CULTURE:{id:"CULTURE",label:"Culture & Arts",description:"Formation dans la culture et les arts",categories:["Musique","Danse","Thtre","Arts plastiques","Cinma","Littrature","Patrimoine culturel","Animation culturelle"],icon:"",color:"#ec4899"},AUTRE:{id:"AUTRE",label:"Autre",description:"Autre type d'activit non list",categories:[],icon:"",color:"#6b7280"}};function $h(){const t=n(),{id:r}=a(),[i]=s(),l=i.get("programme"),o=!!r,[c,u]=e.useState(!0),[d,m]=e.useState(!1),[p,f]=e.useState({}),[h,g]=e.useState(!1),[v,b]=e.useState([]),[x,j]=e.useState([]),[y,N]=e.useState([]),[S,_]=e.useState({nom:"",description:"",programme_id:l||"",type_activite:"",date_debut:"",date_fin:"",budget:"",statut:"EN_PREPARATION",chef_projet_id:"",mentors_ids:[],formateurs_ids:[],coaches_ids:[],regions:[],departements:[],communes:[],meta:"{}"});e.useEffect(()=>{(async()=>{try{const[e,t,n]=await Promise.all([mh.getAll(),Ch.getByType("STATUT_PROJET"),Ch.getByType("TYPE_ACTIVITE")]);e.error||b(e.data||[]),t.error||j(t.data||[]);const r=Object.values(qh),a=(n.data||[]).map(e=>({id:e.code||e.label,label:e.label,code:e.code})),s=new Map;r.forEach(e=>s.set(e.id,{id:e.id,label:e.label,code:e.id})),a.forEach(e=>{s.has(e.code||e.id)||s.set(e.code||e.id,e)}),N(Array.from(s.values())),o&&await w()}finally{u(!1)}})()},[r]);const w=async()=>{try{const{data:e,error:n}=await fh.getById(r);n?(jh.error("Erreur lors du chargement du projet"),t("/projets")):e&&_({nom:e.nom||"",description:e.description||"",programme_id:e.programme_id||"",type_activite:e.type_activite||"",date_debut:e.date_debut?e.date_debut.split("T")[0]:"",date_fin:e.date_fin?e.date_fin.split("T")[0]:"",budget:e.budget||"",statut:e.statut||"EN_PREPARATION",chef_projet_id:e.chef_projet_id||"",mentors_ids:e.mentors_ids||[],formateurs_ids:e.formateurs_ids||[],coaches_ids:e.coaches_ids||[],regions:e.regions||[],departements:e.departements||[],communes:e.communes||[],meta:JSON.stringify(e.meta||{},null,2)})}catch(e){console.error("Error loading projet:",e),jh.error("Erreur lors du chargement du projet"),t("/projets")}},C=()=>{const e={};return S.date_debut&&S.date_fin&&new Date(S.date_fin)<new Date(S.date_debut)&&(e.date_fin="La date de fin doit tre postrieure  la date de dbut"),e},k=()=>{const e={};if(S.meta&&""!==S.meta.trim())try{JSON.parse(S.meta)}catch(kg){e.meta="JSON invalide. Veuillez corriger la syntaxe."}return e},E=e=>{const{name:t,value:n}=e.target;_(e=>{const r={...e,[t]:n};if(g(!0),"meta"===t){const e=k();f(t=>({...t,...e}))}if("date_debut"===t||"date_fin"===t){const e=C();f(t=>({...t,...e}))}return r})},A=(e,t)=>{const n=Array.isArray(e.target.value)?e.target.value:[];_(e=>({...e,[t]:n})),g(!0)};return c?We.jsx(Nh,{message:"Chargement du projet..."}):We.jsxs("div",{className:"projet-form-page",children:[We.jsxs("div",{className:"projet-form-header",children:[We.jsx(th,{to:S.programme_id?`/programmes/${S.programme_id}`:"/projets",label:"Retour"}),We.jsx("h1",{children:o?"Modifier le Projet":"Nouveau Projet"})]}),We.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={...C(),...k()};return!S.nom||S.nom.trim().length<3?e.nom="Le nom doit contenir au moins 3 caractres":S.nom.length>200&&(e.nom="Le nom ne peut pas dpasser 200 caractres"),f(e),0===Object.keys(e).length})()){m(!0);try{const e={...S,budget:S.budget?parseFloat(S.budget.replace(/\s/g,"")):null,date_debut:S.date_debut||null,date_fin:S.date_fin||null,programme_id:S.programme_id||null,meta:Vh(S.meta)};let n;if(n=o?await fh.update(r,e):await fh.create(e),n.error){const e=n.error.message||`Erreur lors de la ${o?"modification":"cration"} du projet`;jh.error(e),console.error("API Error:",n.error)}else jh.success(`Projet ${o?"modifi":"cr"} avec succs`),g(!1),S.programme_id?t(`/programmes/${S.programme_id}`):t("/projets")}catch(n){console.error("Error saving projet:",n),jh.error(`Erreur lors de la ${o?"modification":"cration"} du projet`)}finally{m(!1)}}else jh.error("Veuillez corriger les erreurs dans le formulaire")},className:"projet-form",children:[We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Informations gnrales"}),We.jsxs("div",{className:"form-grid",children:[We.jsxs("div",{className:"form-group form-group--full",children:[We.jsx("label",{htmlFor:"nom",children:"Nom du projet *"}),We.jsx("input",{type:"text",id:"nom",name:"nom",value:S.nom,onChange:E,required:!0,className:"input "+(p.nom?"input-error":""),placeholder:"Ex: Projet d'entrepreneuriat digital",maxLength:200}),p.nom&&We.jsx("span",{className:"error-message",children:p.nom})]}),We.jsxs("div",{className:"form-group form-group--full",children:[We.jsx("label",{htmlFor:"description",children:"Description"}),We.jsx("textarea",{id:"description",name:"description",value:S.description,onChange:E,rows:4,className:"input",placeholder:"Description dtaille du projet..."})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"programme_id",children:"Programme *"}),We.jsxs("select",{id:"programme_id",name:"programme_id",value:S.programme_id,onChange:E,className:"input",required:!0,children:[We.jsx("option",{value:"",children:"Slectionner un programme"}),v.map(e=>We.jsx("option",{value:e.id,children:e.nom},e.id))]})]}),We.jsx("div",{className:"form-group",children:We.jsx(kh,{label:"Type d'activit",name:"type_activite",value:S.type_activite,onChange:E,options:y,typeReferentiel:"TYPE_ACTIVITE",placeholder:"Slectionner ou crer un type d'activit"})}),We.jsx("div",{className:"form-group",children:We.jsx(kh,{label:"Statut",name:"statut",value:S.statut,onChange:E,options:x,typeReferentiel:"STATUT_PROJET",placeholder:"Slectionner un statut"})}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"budget",children:"Budget (XOF)"}),We.jsxs("div",{className:"input-with-suffix",children:[We.jsx("input",{type:"text",id:"budget",name:"budget",value:(e=>{if(!e)return"";const t=parseFloat(e);return isNaN(t)?e:t.toLocaleString("fr-FR")})(S.budget),onChange:e=>{const t=e.target.value.replace(/\s/g,"");E({...e,target:{...e.target,value:t}})},className:"input",placeholder:"0",inputMode:"numeric"}),We.jsx("span",{className:"input-suffix",children:"XOF"})]})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"date_debut",children:"Date de dbut"}),We.jsx("input",{type:"date",id:"date_debut",name:"date_debut",value:S.date_debut,onChange:E,className:"input "+(p.date_debut?"input-error":""),max:S.date_fin||void 0})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"date_fin",children:"Date de fin"}),We.jsx("input",{type:"date",id:"date_fin",name:"date_fin",value:S.date_fin,onChange:E,className:"input "+(p.date_fin?"input-error":""),min:S.date_debut||void 0}),p.date_fin&&We.jsx("span",{className:"error-message",children:p.date_fin})]})]})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Assignation des intervenants"}),We.jsx(Bh,{chefProjetId:S.chef_projet_id,mentorsIds:S.mentors_ids,formateursIds:S.formateurs_ids,coachesIds:S.coaches_ids,onChefProjetChange:E,onMentorsChange:e=>A(e,"mentors_ids"),onFormateursChange:e=>A(e,"formateurs_ids"),onCoachesChange:e=>A(e,"coaches_ids")})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Primtre gographique"}),We.jsx("div",{className:"form-grid",children:We.jsx("div",{className:"form-group form-group--full",children:We.jsx(Ph,{regions:S.regions,departements:S.departements,communes:S.communes,onRegionsChange:e=>{_(t=>({...t,regions:Array.isArray(e.target.value)?e.target.value:[]})),g(!0)},onDepartementsChange:e=>{_(t=>({...t,departements:Array.isArray(e.target.value)?e.target.value:[]})),g(!0)},onCommunesChange:e=>{_(t=>({...t,communes:Array.isArray(e.target.value)?e.target.value:[]})),g(!0)}})})})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Paramtres avancs (meta JSON)"}),We.jsx("div",{className:"form-grid",children:We.jsxs("div",{className:"form-group form-group--full",children:[We.jsx("label",{children:"Meta (JSON)"}),We.jsx("textarea",{name:"meta",value:S.meta,onChange:E,rows:6,className:"input "+(p.meta?"input-error":""),placeholder:'{"plafond_subvention": 500000, "apport_minimum": 10}'}),p.meta?We.jsx("span",{className:"error-message",children:p.meta}):We.jsx("small",{children:"Utilis pour des options spcifiques projet sans changer le code."})]})})]}),We.jsxs("div",{className:"form-actions",children:[We.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>t(S.programme_id?`/programmes/${S.programme_id}`:"/projets"),disabled:d,children:"Annuler"}),We.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?We.jsxs(We.Fragment,{children:[We.jsx("div",{className:"spinner-small"}),"Enregistrement..."]}):We.jsxs(We.Fragment,{children:[We.jsx(eh,{name:"Save",size:18}),o?"Modifier":"Crer"," le projet"]})})]})]})]})}function Vh(e){if(!e)return{};try{return JSON.parse(e)}catch{return{}}}function Gh(){const t=n(),{id:r}=a(),[s,i]=e.useState(null),[l,o]=e.useState(null),[c,u]=e.useState([]),[d,m]=e.useState({appels:0,candidats:0,beneficiaires:0}),[p,f]=e.useState(!0),[h,g]=e.useState(!1);e.useEffect(()=>{v()},[r]);const v=async()=>{f(!0);try{await Promise.all([b(),x(),j()])}finally{f(!1)}},b=async()=>{try{const{data:e,error:n}=await fh.getById(r);if(n)jh.error("Erreur lors du chargement du projet"),t("/projets");else if(i(e),null==e?void 0:e.programme_id){const{data:t}=await mh.getById(e.programme_id);o(t)}}catch(e){console.error("Error loading projet:",e),jh.error("Erreur lors du chargement du projet"),t("/projets")}},x=async()=>{try{const{data:e,error:t}=await Dh.getAll(r);!t&&e&&u(e)}catch(e){console.error("Error loading appels:",e)}},j=async()=>{try{const{count:e}=await Xf.from("appels_candidatures").select("*",{count:"exact",head:!0}).eq("projet_id",r),{data:t}=await Xf.from("appels_candidatures").select("id").eq("projet_id",r),n=(t||[]).map(e=>e.id),{count:a}=n.length>0?await Xf.from("candidats").select("*",{count:"exact",head:!0}).in("appel_id",n):{count:0},{count:s}=await Xf.from("beneficiaires").select("*",{count:"exact",head:!0}).eq("projet_id",r);m({appels:e||0,candidats:a||0,beneficiaires:s||0})}catch(e){console.error("Error loading stats:",e)}};return p?We.jsx(Nh,{message:"Chargement du projet..."}):s?We.jsxs("div",{className:"projet-detail-page",children:[We.jsxs("div",{className:"projet-detail-header",children:[We.jsx(th,{to:s.programme_id?`/programmes/${s.programme_id}`:"/projets",label:"Retour"}),We.jsxs("div",{className:"projet-detail-header-content",children:[We.jsxs("div",{children:[We.jsx("h1",{children:s.nom||"Projet sans nom"}),l&&We.jsxs("div",{className:"projet-programme-link",children:[We.jsx(eh,{name:"ArrowLeft",size:16}),We.jsx("button",{onClick:()=>t(`/programmes/${l.id}`),children:l.nom})]})]}),We.jsxs("div",{className:"projet-detail-actions",children:[We.jsxs("button",{className:"btn btn-secondary",onClick:()=>t(`/projets/${r}/edit`),children:[We.jsx(eh,{name:"Edit",size:18}),"Modifier"]}),We.jsxs("button",{className:"btn btn-danger",onClick:async()=>{g(!0)},children:[We.jsx(eh,{name:"Trash2",size:18}),"Supprimer"]})]})]})]}),We.jsxs("div",{className:"projet-detail-content",children:[We.jsxs("div",{className:"projet-detail-main",children:[We.jsxs("div",{className:"projet-detail-section",children:[We.jsx("h2",{children:"Description"}),We.jsx("p",{children:s.description||"Aucune description disponible"})]}),We.jsxs("div",{className:"projet-detail-section",children:[We.jsx("h2",{children:"Informations"}),We.jsxs("div",{className:"projet-info-grid",children:[l&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"ClipboardList",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Programme"}),We.jsx("span",{children:l.nom})]})]}),s.type_activite&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Bookmark",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Type d'activit"}),We.jsx("span",{children:s.type_activite})]})]}),s.date_debut&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Calendar",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Date de dbut"}),We.jsx("span",{children:new Date(s.date_debut).toLocaleDateString("fr-FR")})]})]}),s.date_fin&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Calendar",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Date de fin"}),We.jsx("span",{children:new Date(s.date_fin).toLocaleDateString("fr-FR")})]})]})]})]}),We.jsxs("div",{className:"projet-detail-section",children:[We.jsxs("div",{className:"section-header",children:[We.jsxs("h2",{children:["Appels  candidatures (",d.appels,")"]}),We.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>t(`/appels-candidatures/new?projet=${r}`),children:[We.jsx(eh,{name:"Plus",size:16}),"Nouvel appel"]})]}),0===c.length?We.jsx(yh,{icon:"Bell",title:"Aucun appel  candidatures",message:"Ce projet n'a pas encore d'appels  candidatures",action:{label:"Crer un appel",onClick:()=>t(`/appels-candidatures/new?projet=${r}`)}}):We.jsx("div",{className:"appels-list",children:c.map(e=>{var n;return We.jsxs("div",{className:"appel-card",onClick:()=>t(`/appels-candidatures/${e.id}`),children:[We.jsxs("div",{className:"appel-card-header",children:[We.jsx("h3",{children:e.titre}),We.jsx("span",{className:`badge badge-${(null==(n=e.statut)?void 0:n.toLowerCase())||"default"}`,children:e.statut||"N/A"})]}),e.description&&We.jsxs("p",{className:"appel-description",children:[e.description.substring(0,100),"..."]}),We.jsxs("div",{className:"appel-card-footer",children:[We.jsxs("span",{children:[We.jsx(eh,{name:"Calendar",size:14}),e.date_debut&&new Date(e.date_debut).toLocaleDateString("fr-FR"),e.date_fin&&` - ${new Date(e.date_fin).toLocaleDateString("fr-FR")}`]}),We.jsx(eh,{name:"ChevronRight",size:16})]})]},e.id)})})]}),We.jsxs("div",{className:"projet-detail-section",children:[We.jsxs("h2",{children:["Bnficiaires (",d.beneficiaires,")"]}),0===d.beneficiaires?We.jsx(yh,{icon:"Users",title:"Aucun bnficiaire",message:"Ce projet n'a pas encore de bnficiaires"}):We.jsxs("button",{className:"btn btn-secondary",onClick:()=>t(`/beneficiaires?projet=${r}`),children:[We.jsx(eh,{name:"Users",size:18}),"Voir les ",d.beneficiaires," bnficiaires"]})]})]}),We.jsxs("div",{className:"projet-detail-sidebar",children:[l&&We.jsxs("div",{className:"projet-context-card",children:[We.jsxs("div",{className:"context-header",children:[We.jsx(eh,{name:"ClipboardList",size:20}),We.jsx("h3",{children:"Programme parent"})]}),We.jsxs("div",{className:"context-content",children:[We.jsx("button",{className:"context-link",onClick:()=>t(`/programmes/${l.id}`),children:l.nom}),l.financeur&&We.jsxs("div",{className:"context-detail",children:[We.jsx(eh,{name:"Building2",size:14}),We.jsx("span",{children:l.financeur})]}),l.date_debut&&l.date_fin&&We.jsxs("div",{className:"context-detail",children:[We.jsx(eh,{name:"Calendar",size:14}),We.jsxs("span",{children:[new Date(l.date_debut).toLocaleDateString("fr-FR")," - ",new Date(l.date_fin).toLocaleDateString("fr-FR")]})]})]})]}),We.jsxs("div",{className:"projet-stats",children:[We.jsx("h3",{children:"Statistiques"}),We.jsxs("div",{className:"stat-item clickable",onClick:()=>t(`/appels-candidatures?projet=${r}`),children:[We.jsx("div",{className:"stat-icon",children:We.jsx(eh,{name:"Bell",size:18})}),We.jsxs("div",{className:"stat-content",children:[We.jsx("span",{className:"stat-value",children:d.appels}),We.jsx("span",{className:"stat-label",children:"Appels  candidatures"})]}),We.jsx(eh,{name:"ChevronRight",size:16})]}),We.jsxs("div",{className:"stat-item clickable",onClick:()=>t(`/candidats?projet=${r}`),children:[We.jsx("div",{className:"stat-icon",children:We.jsx(eh,{name:"Sparkles",size:18})}),We.jsxs("div",{className:"stat-content",children:[We.jsx("span",{className:"stat-value",children:d.candidats}),We.jsx("span",{className:"stat-label",children:"Candidats"})]}),We.jsx(eh,{name:"ChevronRight",size:16})]}),We.jsxs("div",{className:"stat-item clickable",onClick:()=>t(`/beneficiaires?projet=${r}`),children:[We.jsx("div",{className:"stat-icon",children:We.jsx(eh,{name:"Users",size:18})}),We.jsxs("div",{className:"stat-content",children:[We.jsx("span",{className:"stat-value",children:d.beneficiaires}),We.jsx("span",{className:"stat-label",children:"Bnficiaires"})]}),We.jsx(eh,{name:"ChevronRight",size:16})]}),d.candidats>0&&We.jsxs("div",{className:"stat-item",children:[We.jsx("div",{className:"stat-icon",children:We.jsx(eh,{name:"TrendingUp",size:18})}),We.jsxs("div",{className:"stat-content",children:[We.jsxs("span",{className:"stat-value",children:[(d.beneficiaires/d.candidats*100).toFixed(1),"%"]}),We.jsx("span",{className:"stat-label",children:"Taux de conversion"})]})]})]})]})]}),We.jsx(Sh,{open:h,title:"Supprimer le projet",description:"tes-vous sr de vouloir supprimer ce projet ? Cette action est irrversible.",variant:"danger",confirmLabel:"Supprimer",cancelLabel:"Annuler",onConfirm:async()=>{g(!1);try{const{error:e}=await fh.delete(r);e?jh.error("Erreur lors de la suppression"):(jh.success("Projet supprim avec succs"),(null==s?void 0:s.programme_id)?t(`/programmes/${s.programme_id}`):t("/projets"))}catch(e){console.error("Error deleting projet:",e),jh.error("Erreur lors de la suppression")}},onCancel:()=>g(!1)})]}):We.jsx(yh,{icon:"AlertCircle",title:"Projet introuvable",message:"Le projet demand n'existe pas ou a t supprim",action:{label:"Retour  la liste",onClick:()=>t("/projets")}})}function Hh(){const t=n(),[r]=s(),a=r.get("projet"),[i,l]=e.useState([]),[o,c]=e.useState([]),[u,d]=e.useState(!0),[m,p]=e.useState({open:!1,id:null}),[f,h]=e.useState({open:!1,id:null}),[g,v]=e.useState({projet:a||"",statut:"",search:""});e.useEffect(()=>{b(),x()},[g]);const b=async()=>{try{const{data:e}=await fh.getAll();c(e||[])}catch(e){console.error("Error loading projets:",e)}},x=async()=>{d(!0);try{const{data:e,error:t}=await Dh.getAll(g.projet||null);if(t)jh.error("Erreur lors du chargement des appels  candidatures"),console.error(t);else{let t=e||[];if(g.statut&&(t=t.filter(e=>e.statut===g.statut)),g.search){const e=g.search.toLowerCase();t=t.filter(t=>{var n,r;return(null==(n=t.titre)?void 0:n.toLowerCase().includes(e))||(null==(r=t.description)?void 0:r.toLowerCase().includes(e))})}const n=await Promise.all(t.map(async e=>{const{count:t}=await Xf.from("candidats").select("*",{count:"exact",head:!0}).eq("appel_id",e.id);return{...e,nb_candidats:t||0}}));l(n)}}catch(e){console.error("Error loading appels:",e),jh.error("Erreur lors du chargement des appels  candidatures")}finally{d(!1)}},j=e=>{const t=o.find(t=>t.id===e);return(null==t?void 0:t.nom)||"Projet inconnu"};return u?We.jsx(Nh,{message:"Chargement des appels  candidatures..."}):We.jsxs("div",{className:"appels-page",children:[We.jsxs("div",{className:"appels-header",children:[We.jsxs("div",{className:"appels-header-top",children:[We.jsx(th,{to:"/dashboard",label:"Retour au tableau de bord"}),We.jsx("h1",{children:"Gestion des Appels  Candidatures"})]}),We.jsx("div",{className:"appels-actions",children:We.jsxs("button",{className:"btn btn-primary",onClick:()=>t("/appels-candidatures/new"+(a?`?projet=${a}`:"")),children:[We.jsx(eh,{name:"Plus",size:18}),"Nouvel Appel"]})})]}),We.jsxs("div",{className:"appels-filters",children:[We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Recherche"}),We.jsx("input",{type:"text",placeholder:"Rechercher un appel...",value:g.search,onChange:e=>v({...g,search:e.target.value}),className:"input"})]}),We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Projet"}),We.jsxs("select",{value:g.projet,onChange:e=>{v({...g,projet:e.target.value}),e.target.value?t(`/appels-candidatures?projet=${e.target.value}`):t("/appels-candidatures")},className:"input",children:[We.jsx("option",{value:"",children:"Tous les projets"}),o.map(e=>We.jsx("option",{value:e.id,children:e.nom},e.id))]})]}),We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Statut"}),We.jsxs("select",{value:g.statut,onChange:e=>v({...g,statut:e.target.value}),className:"input",children:[We.jsx("option",{value:"",children:"Tous"}),We.jsx("option",{value:"OUVERT",children:"Ouvert"}),We.jsx("option",{value:"FERME",children:"Ferm"}),We.jsx("option",{value:"CLOTURE",children:"Cltur"})]})]})]}),0===i.length?We.jsx(yh,{icon:"Bell",title:"Aucun appel  candidatures",message:a?"Ce projet n'a pas encore d'appels  candidatures":"Commencez par crer votre premier appel  candidatures",action:{label:"Crer un appel",onClick:()=>t("/appels-candidatures/new"+(a?`?projet=${a}`:""))}}):We.jsx("div",{className:"appels-grid",children:i.map(e=>{return We.jsxs("div",{className:"appel-card",children:[We.jsxs("div",{className:"appel-card-header",children:[We.jsxs("div",{className:"appel-card-title",children:[We.jsx("h3",{children:e.titre||"Appel sans titre"}),We.jsx("span",{className:`appel-statut ${n=e.statut,{OUVERT:"statut-ouvert",FERME:"statut-ferme",CLOTURE:"statut-cloture"}[n]||"statut-default"}`,children:e.statut||"NON_DEFINI"})]}),We.jsxs("div",{className:"appel-card-actions",children:[We.jsx("button",{className:"btn-icon",onClick:()=>t(`/appels-candidatures/${e.id}`),title:"Voir les dtails",children:We.jsx(eh,{name:"Eye",size:18})}),"OUVERT"===e.statut&&We.jsxs(We.Fragment,{children:[We.jsx("button",{className:"btn-icon",onClick:()=>t(`/appels-candidatures/${e.id}/edit`),title:"Modifier",children:We.jsx(eh,{name:"Edit",size:18})}),We.jsx("button",{className:"btn-icon btn-icon--warning",onClick:()=>(async e=>{h({open:!0,id:e})})(e.id),title:"Clturer",children:We.jsx(eh,{name:"X",size:18})})]}),We.jsx("button",{className:"btn-icon btn-icon--danger",onClick:()=>(async e=>{p({open:!0,id:e})})(e.id),title:"Supprimer",children:We.jsx(eh,{name:"Trash2",size:18})})]})]}),We.jsxs("div",{className:"appel-card-body",children:[We.jsx("p",{className:"appel-description",children:e.description||"Aucune description"}),We.jsxs("div",{className:"appel-info",children:[e.projet_id&&We.jsxs("div",{className:"appel-info-item",children:[We.jsx(eh,{name:"Folder",size:16}),We.jsx("span",{children:j(e.projet_id)})]}),e.date_ouverture&&We.jsxs("div",{className:"appel-info-item",children:[We.jsx(eh,{name:"Calendar",size:16}),We.jsxs("span",{children:["Ouverture: ",new Date(e.date_ouverture).toLocaleDateString("fr-FR")]})]}),e.date_fermeture&&We.jsxs("div",{className:"appel-info-item",children:[We.jsx(eh,{name:"Calendar",size:16}),We.jsxs("span",{children:["Fermeture: ",new Date(e.date_fermeture).toLocaleDateString("fr-FR")]})]})]}),void 0!==e.nb_candidats&&We.jsxs("div",{className:"appel-candidats-count",children:[We.jsx(eh,{name:"Users",size:16}),We.jsxs("span",{children:[e.nb_candidats||0," candidat(s)"]})]})]})]},e.id);var n})}),We.jsx(Sh,{open:m.open,title:"Supprimer l'appel  candidatures",description:"tes-vous sr de vouloir supprimer cet appel  candidatures ? Cette action est irrversible.",variant:"danger",confirmLabel:"Supprimer",cancelLabel:"Annuler",onConfirm:async()=>{if(m.id)try{const{error:e}=await Dh.delete(m.id);e?jh.error("Erreur lors de la suppression"):(jh.success("Appel  candidatures supprim avec succs"),x())}catch(e){console.error("Error deleting appel:",e),jh.error("Erreur lors de la suppression")}finally{p({open:!1,id:null})}},onCancel:()=>p({open:!1,id:null})}),We.jsx(Sh,{open:f.open,title:"Clturer l'appel  candidatures",description:"tes-vous sr de vouloir clturer cet appel  candidatures ? Les nouvelles candidatures ne pourront plus tre acceptes.",variant:"warning",confirmLabel:"Clturer",cancelLabel:"Annuler",onConfirm:async()=>{if(f.id)try{const{error:e}=await Dh.close(f.id);e?jh.error("Erreur lors de la clture"):(jh.success("Appel  candidatures cltur avec succs"),x())}catch(e){console.error("Error closing appel:",e),jh.error("Erreur lors de la clture")}},onCancel:()=>h({open:!1,id:null})})]})}function Kh(){const t=n(),{id:r}=a(),[i]=s(),l=i.get("projet"),o=!!r,[c,u]=e.useState(!0),[d,m]=e.useState(!1),[p,f]=e.useState({}),[h,g]=e.useState(!1),[v,b]=e.useState([]),[x,j]=e.useState([]),[y,N]=e.useState(null),[S,_]=e.useState(null),[w,C]=e.useState({titre:"",description:"",projet_id:l||"",date_ouverture:"",date_fermeture:"",criteres:"",statut:"OUVERT"});e.useEffect(()=>{(async()=>{try{const[e,t]=await Promise.all([fh.getAll(),Ch.getByType("STATUT_APPEL")]);e.error||b(e.data||[]),t.error||j(t.data||[]),o?await E():l&&await k(l)}finally{u(!1)}})()},[r]);const k=async e=>{try{const{data:t}=await fh.getById(e);if(t&&(N(t),t.programme_id)){const{data:e}=await mh.getById(t.programme_id);_(e)}}catch(t){console.error("Error loading projet context:",t)}},E=async()=>{try{const{data:e,error:n}=await Dh.getById(r);n?(jh.error("Erreur lors du chargement de l'appel"),t("/appels-candidatures")):e&&(C({titre:e.titre||"",description:e.description||"",projet_id:e.projet_id||"",date_ouverture:e.date_ouverture?e.date_ouverture.split("T")[0]:"",date_fermeture:e.date_fermeture?e.date_fermeture.split("T")[0]:"",criteres:e.criteres||"",statut:e.statut||"OUVERT"}),e.projet_id&&await k(e.projet_id))}catch(e){console.error("Error loading appel:",e),jh.error("Erreur lors du chargement de l'appel"),t("/appels-candidatures")}},A=()=>{const e={};return w.date_ouverture&&w.date_fermeture&&new Date(w.date_fermeture)<new Date(w.date_ouverture)&&(e.date_fermeture="La date de fermeture doit tre postrieure  la date d'ouverture"),e},T=e=>{const{name:t,value:n}=e.target;C(e=>{const r={...e,[t]:n};if(g(!0),"projet_id"===t&&n&&k(n),"date_ouverture"===t||"date_fermeture"===t){const e=A();f(t=>({...t,...e}))}return r})};return c?We.jsx(Nh,{message:"Chargement de l'appel..."}):We.jsxs("div",{className:"appel-form-page",children:[We.jsxs("div",{className:"appel-form-header",children:[We.jsx(th,{to:w.projet_id?`/projets/${w.projet_id}`:"/appels-candidatures",label:"Retour"}),We.jsx("h1",{children:o?"Modifier l'Appel  Candidatures":"Nouvel Appel  Candidatures"})]}),We.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={...A()};return!w.titre||w.titre.trim().length<3?e.titre="Le titre doit contenir au moins 3 caractres":w.titre.length>200&&(e.titre="Le titre ne peut pas dpasser 200 caractres"),f(e),0===Object.keys(e).length})()){m(!0);try{const e={...w,date_ouverture:w.date_ouverture||null,date_fermeture:w.date_fermeture||null,projet_id:w.projet_id||null};let n;if(n=o?await Dh.update(r,e):await Dh.create(e),n.error){const e=n.error.message||`Erreur lors de la ${o?"modification":"cration"} de l'appel`;jh.error(e),console.error("API Error:",n.error)}else jh.success(`Appel  candidatures ${o?"modifi":"cr"} avec succs`),g(!1),w.projet_id?t(`/projets/${w.projet_id}`):t("/appels-candidatures")}catch(n){console.error("Error saving appel:",n),jh.error(`Erreur lors de la ${o?"modification":"cration"} de l'appel`)}finally{m(!1)}}else jh.error("Veuillez corriger les erreurs dans le formulaire")},className:"appel-form",children:[y&&S&&We.jsxs("div",{className:"form-context-banner",children:[We.jsx(eh,{name:"Info",size:18}),We.jsxs("div",{children:[We.jsx("strong",{children:"Contexte :"})," ",S.nom,"  ",y.nom]})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Informations gnrales"}),We.jsxs("div",{className:"form-grid",children:[We.jsxs("div",{className:"form-group form-group--full",children:[We.jsx("label",{htmlFor:"titre",children:"Titre de l'appel *"}),We.jsx("input",{type:"text",id:"titre",name:"titre",value:w.titre,onChange:T,required:!0,className:"input "+(p.titre?"input-error":""),placeholder:"Ex: Appel  candidatures - Entrepreneuriat Digital",maxLength:200}),p.titre&&We.jsx("span",{className:"error-message",children:p.titre})]}),We.jsxs("div",{className:"form-group form-group--full",children:[We.jsx("label",{htmlFor:"description",children:"Description"}),We.jsx("textarea",{id:"description",name:"description",value:w.description,onChange:T,rows:4,className:"input",placeholder:"Description dtaille de l'appel  candidatures..."})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"projet_id",children:"Projet *"}),We.jsxs("select",{id:"projet_id",name:"projet_id",value:w.projet_id,onChange:T,required:!0,className:"input",children:[We.jsx("option",{value:"",children:"Slectionner un projet"}),v.map(e=>We.jsx("option",{value:e.id,children:e.nom},e.id))]})]}),We.jsx("div",{className:"form-group",children:We.jsx(kh,{label:"Statut",name:"statut",value:w.statut,onChange:T,options:x,typeReferentiel:"STATUT_APPEL",placeholder:"Slectionner un statut"})}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"date_ouverture",children:"Date d'ouverture"}),We.jsx("input",{type:"date",id:"date_ouverture",name:"date_ouverture",value:w.date_ouverture,onChange:T,className:"input "+(p.date_ouverture?"input-error":""),max:w.date_fermeture||void 0})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"date_fermeture",children:"Date de fermeture"}),We.jsx("input",{type:"date",id:"date_fermeture",name:"date_fermeture",value:w.date_fermeture,onChange:T,className:"input "+(p.date_fermeture?"input-error":""),min:w.date_ouverture||void 0}),p.date_fermeture&&We.jsx("span",{className:"error-message",children:p.date_fermeture})]}),We.jsxs("div",{className:"form-group form-group--full",children:[We.jsx("label",{htmlFor:"criteres",children:"Critres de slection"}),We.jsx("textarea",{id:"criteres",name:"criteres",value:w.criteres,onChange:T,rows:3,className:"input",placeholder:"Critres de slection des candidats..."})]})]})]}),We.jsxs("div",{className:"form-actions",children:[We.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>t(w.projet_id?`/projets/${w.projet_id}`:"/appels-candidatures"),disabled:d,children:"Annuler"}),We.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?We.jsxs(We.Fragment,{children:[We.jsx("div",{className:"spinner-small"}),"Enregistrement..."]}):We.jsxs(We.Fragment,{children:[We.jsx(eh,{name:"Save",size:18}),o?"Modifier":"Crer"," l'appel"]})})]})]})]})}function Qh(){const t=n(),{id:r}=a(),[s,i]=e.useState(null),[l,o]=e.useState(null),[c,u]=e.useState(null),[d,m]=e.useState(null),[p,f]=e.useState(!0),[h,g]=e.useState([]),[v,b]=e.useState({nouveau:0,diagnostic:0,selectionne:0,beneficiaire:0}),[x,j]=e.useState(!1),[y,N]=e.useState(!1);e.useEffect(()=>{S()},[r]);const S=async()=>{f(!0);try{await Promise.all([_(),w(),C()])}finally{f(!1)}},_=async()=>{try{const{data:e,error:n}=await Dh.getById(r);if(n)jh.error("Erreur lors du chargement de l'appel"),t("/appels-candidatures");else if(i(e),null==e?void 0:e.projet_id){const{data:t}=await fh.getById(e.projet_id);if(o(t),null==t?void 0:t.programme_id){const{data:e}=await mh.getById(t.programme_id);u(e);const{data:n}=await Xf.from("programme_eligibilite").select("*").eq("programme_id",t.programme_id).single();n&&m(n)}}}catch(e){console.error("Error loading appel:",e),jh.error("Erreur lors du chargement de l'appel"),t("/appels-candidatures")}},w=async()=>{try{const{data:e}=await vh.getAll(r);g(e||[])}catch(e){console.error("Error loading candidats:",e)}},C=async()=>{try{const{data:e}=await Xf.from("candidats").select("statut").eq("appel_id",r),t={nouveau:0,diagnostic:0,selectionne:0,beneficiaire:0};(e||[]).forEach(e=>{"NOUVEAU"===e.statut?t.nouveau++:"DIAGNOSTIC"===e.statut?t.diagnostic++:"SELECTIONNE"===e.statut&&t.selectionne++});const{data:n}=await Xf.from("beneficiaires").select("id").eq("appel_id",r);t.beneficiaire=(null==n?void 0:n.length)||0,b(t)}catch(e){console.error("Error loading pipeline stats:",e)}};if(p)return We.jsx(Nh,{message:"Chargement de l'appel..."});if(!s)return We.jsx(yh,{icon:"AlertCircle",title:"Appel introuvable",message:"L'appel demand n'existe pas ou a t supprim",action:{label:"Retour  la liste",onClick:()=>t("/appels-candidatures")}});return We.jsxs("div",{className:"appel-detail-page",children:[We.jsxs("div",{className:"appel-detail-header",children:[We.jsx(th,{to:s.projet_id?`/projets/${s.projet_id}`:"/appels-candidatures",label:"Retour"}),We.jsxs("div",{className:"appel-detail-header-content",children:[We.jsxs("div",{children:[We.jsx("h1",{children:s.titre||"Appel sans titre"}),We.jsx("span",{className:`appel-statut ${k=s.statut,{OUVERT:"statut-ouvert",FERME:"statut-ferme",CLOTURE:"statut-cloture"}[k]||"statut-default"}`,children:s.statut||"NON_DEFINI"}),l&&We.jsxs("div",{className:"appel-projet-link",children:[We.jsx(eh,{name:"ArrowLeft",size:16}),We.jsx("button",{onClick:()=>t(`/projets/${l.id}`),children:l.nom})]})]}),We.jsxs("div",{className:"appel-detail-actions",children:["OUVERT"===s.statut&&We.jsxs(We.Fragment,{children:[We.jsxs("button",{className:"btn btn-secondary",onClick:()=>t(`/appels-candidatures/${r}/edit`),children:[We.jsx(eh,{name:"Edit",size:18}),"Modifier"]}),We.jsxs("button",{className:"btn btn-warning",onClick:async()=>{N(!0)},children:[We.jsx(eh,{name:"X",size:18}),"Clturer"]})]}),We.jsxs("button",{className:"btn btn-danger",onClick:async()=>{j(!0)},children:[We.jsx(eh,{name:"Trash2",size:18}),"Supprimer"]})]})]})]}),We.jsxs("div",{className:"appel-detail-content",children:[We.jsxs("div",{className:"appel-detail-main",children:[We.jsxs("div",{className:"appel-detail-section",children:[We.jsx("h2",{children:"Description"}),We.jsx("p",{children:s.description||"Aucune description disponible"})]}),We.jsxs("div",{className:"appel-detail-section",children:[We.jsx("h2",{children:"Informations"}),We.jsxs("div",{className:"appel-info-grid",children:[l&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Folder",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Projet"}),We.jsx("span",{children:l.nom})]})]}),s.date_ouverture&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Calendar",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Date d'ouverture"}),We.jsx("span",{children:new Date(s.date_ouverture).toLocaleDateString("fr-FR")})]})]}),s.date_fermeture&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Calendar",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Date de fermeture"}),We.jsx("span",{children:new Date(s.date_fermeture).toLocaleDateString("fr-FR")})]})]})]})]}),We.jsxs("div",{className:"appel-detail-section",children:[We.jsx("h2",{children:"Critres d'ligibilit"}),s.criteres&&We.jsxs("div",{className:"criteres-content",children:[We.jsx("h3",{children:"Critres spcifiques  cet appel"}),s.criteres.split("\n").map((e,t)=>We.jsxs("div",{className:"critere-item",children:[We.jsx(eh,{name:"CheckCircle2",size:16}),We.jsx("span",{children:e})]},t))]}),d&&We.jsxs("div",{className:"eligibilite-programme",children:[We.jsx("h3",{children:"Rgles d'ligibilit du programme"}),We.jsxs("div",{className:"eligibilite-rules",children:[d.age_min&&d.age_max&&We.jsxs("div",{className:"eligibilite-rule",children:[We.jsx(eh,{name:"Calendar",size:16}),We.jsxs("span",{children:["ge : ",d.age_min," - ",d.age_max," ans"]})]}),d.genres_autorises&&Array.isArray(d.genres_autorises)&&d.genres_autorises.length>0&&We.jsxs("div",{className:"eligibilite-rule",children:[We.jsx(eh,{name:"Users",size:16}),We.jsxs("span",{children:["Genres autoriss : ",d.genres_autorises.join(", ")]})]}),d.zones_eligibles&&Array.isArray(d.zones_eligibles)&&d.zones_eligibles.length>0&&We.jsxs("div",{className:"eligibilite-rule",children:[We.jsx(eh,{name:"MapPin",size:16}),We.jsxs("span",{children:["Zones : ",d.zones_eligibles.join(", ")]})]})]}),c&&We.jsxs("button",{className:"btn btn-text btn-sm",onClick:()=>t(`/programmes/${c.id}`),children:[We.jsx(eh,{name:"ExternalLink",size:14}),"Voir les dtails du programme"]})]}),!s.criteres&&!d&&We.jsx("p",{className:"text-muted",children:"Aucun critre d'ligibilit dfini"})]}),We.jsxs("div",{className:"appel-detail-section",children:[We.jsxs("div",{className:"section-header",children:[We.jsxs("h2",{children:["Pipeline candidats (",h.length,")"]}),We.jsxs("div",{className:"section-header-actions",children:[We.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>t(`/candidats?appel=${r}`),children:[We.jsx(eh,{name:"ArrowRight",size:16}),"Voir le pipeline complet"]}),"OUVERT"===s.statut&&We.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>t(`/candidats/new?appel=${r}`),children:[We.jsx(eh,{name:"Plus",size:16}),"Inscrire un candidat"]})]})]}),We.jsxs("div",{className:"pipeline-summary",children:[We.jsxs("div",{className:"pipeline-step",children:[We.jsxs("div",{className:"pipeline-step-header",children:[We.jsx(eh,{name:"Sparkles",size:20}),We.jsx("span",{children:"Nouveaux"})]}),We.jsx("div",{className:"pipeline-step-value",children:v.nouveau})]}),We.jsx("div",{className:"pipeline-arrow",children:We.jsx(eh,{name:"ArrowRight",size:20})}),We.jsxs("div",{className:"pipeline-step",children:[We.jsxs("div",{className:"pipeline-step-header",children:[We.jsx(eh,{name:"FileSearch",size:20}),We.jsx("span",{children:"Diagnostic"})]}),We.jsx("div",{className:"pipeline-step-value",children:v.diagnostic})]}),We.jsx("div",{className:"pipeline-arrow",children:We.jsx(eh,{name:"ArrowRight",size:20})}),We.jsxs("div",{className:"pipeline-step",children:[We.jsxs("div",{className:"pipeline-step-header",children:[We.jsx(eh,{name:"CheckCircle",size:20}),We.jsx("span",{children:"Slectionns"})]}),We.jsx("div",{className:"pipeline-step-value",children:v.selectionne})]}),We.jsx("div",{className:"pipeline-arrow",children:We.jsx(eh,{name:"ArrowRight",size:20})}),We.jsxs("div",{className:"pipeline-step",children:[We.jsxs("div",{className:"pipeline-step-header",children:[We.jsx(eh,{name:"Users",size:20}),We.jsx("span",{children:"Bnficiaires"})]}),We.jsx("div",{className:"pipeline-step-value",children:v.beneficiaire})]})]}),0===h.length?We.jsx(yh,{icon:"Users",title:"Aucun candidat",message:"Aucun candidat ne s'est encore inscrit  cet appel",action:"OUVERT"===s.statut?{label:"Inscrire un candidat",onClick:()=>t(`/candidats/new?appel=${r}`)}:void 0}):We.jsxs("div",{className:"candidats-preview",children:[We.jsx("div",{className:"candidats-list",children:h.slice(0,5).map(e=>We.jsxs("div",{className:"candidat-item",onClick:()=>t(`/candidats/${e.id}`),children:[We.jsxs("div",{children:[We.jsxs("h4",{children:[e.nom," ",e.prenom]}),We.jsx("p",{children:e.email}),e.statut_eligibilite&&We.jsx("span",{className:`badge badge-${e.statut_eligibilite.toLowerCase()}`,children:e.statut_eligibilite})]}),We.jsx(eh,{name:"ChevronRight",size:18})]},e.id))}),h.length>5&&We.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>t(`/candidats?appel=${r}`),children:["Voir tous les ",h.length," candidats"]})]})]})]}),We.jsxs("div",{className:"appel-detail-sidebar",children:[l&&We.jsxs("div",{className:"appel-context-card",children:[We.jsxs("div",{className:"context-header",children:[We.jsx(eh,{name:"Folder",size:20}),We.jsx("h3",{children:"Projet parent"})]}),We.jsxs("div",{className:"context-content",children:[We.jsx("button",{className:"context-link",onClick:()=>t(`/projets/${l.id}`),children:l.nom}),c&&We.jsxs(We.Fragment,{children:[We.jsxs("div",{className:"context-detail",children:[We.jsx(eh,{name:"ClipboardList",size:14}),We.jsx("button",{className:"context-link-small",onClick:()=>t(`/programmes/${c.id}`),children:c.nom})]}),c.financeur&&We.jsxs("div",{className:"context-detail",children:[We.jsx(eh,{name:"Building2",size:14}),We.jsx("span",{children:c.financeur})]})]})]})]}),We.jsxs("div",{className:"appel-stats",children:[We.jsx("h3",{children:"Statistiques"}),We.jsxs("div",{className:"stat-item clickable",onClick:()=>t(`/candidats?appel=${r}`),children:[We.jsx("div",{className:"stat-icon",children:We.jsx(eh,{name:"Sparkles",size:18})}),We.jsxs("div",{className:"stat-content",children:[We.jsx("span",{className:"stat-value",children:h.length}),We.jsx("span",{className:"stat-label",children:"Candidats inscrits"})]}),We.jsx(eh,{name:"ChevronRight",size:16})]}),We.jsxs("div",{className:"stat-item clickable",onClick:()=>t(`/candidats?appel=${r}&statut=SELECTIONNE`),children:[We.jsx("div",{className:"stat-icon",children:We.jsx(eh,{name:"CheckCircle",size:18})}),We.jsxs("div",{className:"stat-content",children:[We.jsx("span",{className:"stat-value",children:v.selectionne}),We.jsx("span",{className:"stat-label",children:"Slectionns"})]}),We.jsx(eh,{name:"ChevronRight",size:16})]}),We.jsxs("div",{className:"stat-item clickable",onClick:()=>t(`/beneficiaires?appel=${r}`),children:[We.jsx("div",{className:"stat-icon",children:We.jsx(eh,{name:"Users",size:18})}),We.jsxs("div",{className:"stat-content",children:[We.jsx("span",{className:"stat-value",children:v.beneficiaire}),We.jsx("span",{className:"stat-label",children:"Bnficiaires"})]}),We.jsx(eh,{name:"ChevronRight",size:16})]}),h.length>0&&We.jsxs("div",{className:"stat-item",children:[We.jsx("div",{className:"stat-icon",children:We.jsx(eh,{name:"TrendingUp",size:18})}),We.jsxs("div",{className:"stat-content",children:[We.jsxs("span",{className:"stat-value",children:[(v.beneficiaire/h.length*100).toFixed(1),"%"]}),We.jsx("span",{className:"stat-label",children:"Taux de conversion"})]})]})]})]})]}),We.jsx(Sh,{open:x,title:"Supprimer l'appel  candidatures",description:"tes-vous sr de vouloir supprimer cet appel  candidatures ? Cette action est irrversible.",variant:"danger",confirmLabel:"Supprimer",cancelLabel:"Annuler",onConfirm:async()=>{j(!1);try{const{error:e}=await Dh.delete(r);e?jh.error("Erreur lors de la suppression"):(jh.success("Appel  candidatures supprim avec succs"),(null==s?void 0:s.projet_id)?t(`/projets/${s.projet_id}`):t("/appels-candidatures"))}catch(e){console.error("Error deleting appel:",e),jh.error("Erreur lors de la suppression")}},onCancel:()=>j(!1)}),We.jsx(Sh,{open:y,title:"Clturer l'appel  candidatures",description:"tes-vous sr de vouloir clturer cet appel  candidatures ? Les nouvelles candidatures ne pourront plus tre acceptes.",variant:"warning",confirmLabel:"Clturer",cancelLabel:"Annuler",onConfirm:async()=>{N(!1);try{const{error:e}=await Dh.close(r);e?jh.error("Erreur lors de la clture"):(jh.success("Appel  candidatures cltur avec succs"),_())}catch(e){console.error("Error closing appel:",e),jh.error("Erreur lors de la clture")}},onCancel:()=>N(!1)})]});var k}const Wh=[{id:"NOUVEAU",label:"Nouveau",color:"#94a3b8"},{id:"DIAGNOSTIC",label:"En diagnostic",color:"#f59e0b"},{id:"SELECTIONNE",label:"Slectionn",color:"#3b82f6"},{id:"CONVERTI",label:"Converti",color:"#10b981"}];function Xh(){const t=n(),[r]=s(),a=r.get("appel"),[i,l]=e.useState([]),[o,c]=e.useState([]),[u,d]=e.useState(!0),[m,p]=e.useState({appel:a||"",search:""});e.useEffect(()=>{f(),h()},[m]);const f=async()=>{try{const{data:e}=await Dh.getAll();c(e||[])}catch(e){console.error("Error loading appels:",e)}},h=async()=>{d(!0);try{const{data:e,error:t}=await vh.getAll(m.appel||null,m);t?(jh.error("Erreur lors du chargement des candidats"),console.error(t)):l(e||[])}catch(e){console.error("Error loading candidats:",e),jh.error("Erreur lors du chargement des candidats")}finally{d(!1)}},g=e=>{e.preventDefault()},v=e=>{const t=o.find(t=>t.id===e);return(null==t?void 0:t.titre)||"Appel inconnu"};return u?We.jsx(Nh,{message:"Chargement du pipeline..."}):We.jsxs("div",{className:"candidats-pipeline-page",children:[We.jsxs("div",{className:"pipeline-header",children:[We.jsxs("div",{className:"pipeline-header-top",children:[We.jsx(th,{to:"/dashboard",label:"Retour au tableau de bord"}),We.jsx("h1",{children:"Pipeline Candidats"})]}),We.jsx("div",{className:"pipeline-actions",children:We.jsxs("button",{className:"btn btn-primary",onClick:()=>t("/candidats/new"+(a?`?appel=${a}`:"")),children:[We.jsx(eh,{name:"Plus",size:18}),"Nouveau Candidat"]})})]}),We.jsxs("div",{className:"pipeline-filters",children:[We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Recherche"}),We.jsx("input",{type:"text",placeholder:"Rechercher un candidat...",value:m.search,onChange:e=>p({...m,search:e.target.value}),className:"input"})]}),We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Appel  candidatures"}),We.jsxs("select",{value:m.appel,onChange:e=>{p({...m,appel:e.target.value}),e.target.value?t(`/candidats?appel=${e.target.value}`):t("/candidats")},className:"input",children:[We.jsx("option",{value:"",children:"Tous les appels"}),o.map(e=>We.jsx("option",{value:e.id,children:e.titre},e.id))]})]})]}),0===i.length?We.jsx(yh,{icon:"Sparkles",title:"Aucun candidat",message:a?"Aucun candidat pour cet appel":"Commencez par inscrire votre premier candidat",action:{label:"Inscrire un candidat",onClick:()=>t("/candidats/new"+(a?`?appel=${a}`:""))}}):We.jsx("div",{className:"pipeline-kanban",children:Wh.map(e=>{const n=(r=e.id,i.filter(e=>(e.statut||"NOUVEAU")===r));var r;return We.jsxs("div",{className:"pipeline-colonne",onDragOver:g,onDrop:t=>(async(e,t)=>{e.preventDefault();const n=e.dataTransfer.getData("candidatId");if(e.dataTransfer.getData("currentStatut")!==t)try{const{error:e}=await vh.updateStatut(n,t);e?jh.error("Erreur lors de la mise  jour du statut"):(jh.success("Statut mis  jour"),h())}catch(r){console.error("Error updating statut:",r),jh.error("Erreur lors de la mise  jour du statut")}})(t,e.id),children:[We.jsxs("div",{className:"colonne-header",style:{borderTopColor:e.color},children:[We.jsx("h3",{children:e.label}),We.jsx("span",{className:"colonne-count",children:n.length})]}),We.jsxs("div",{className:"colonne-content",children:[n.map(e=>We.jsxs("div",{className:"candidat-card",draggable:!0,onDragStart:t=>((e,t)=>{e.dataTransfer.setData("candidatId",t.id),e.dataTransfer.setData("currentStatut",t.statut||"NOUVEAU")})(t,e),onClick:()=>t(`/candidats/${e.id}`),children:[We.jsxs("div",{className:"candidat-card-header",children:[We.jsxs("h4",{children:[e.nom," ",e.prenom]}),We.jsx("div",{className:"candidat-card-actions",children:We.jsx("button",{className:"btn-icon-small",onClick:n=>{n.stopPropagation(),t(`/candidats/${e.id}`)},title:"Voir les dtails",children:We.jsx(eh,{name:"Eye",size:16})})})]}),We.jsxs("div",{className:"candidat-card-body",children:[e.email&&We.jsxs("div",{className:"candidat-info-item",children:[We.jsx(eh,{name:"Mail",size:14}),We.jsx("span",{children:e.email})]}),e.telephone&&We.jsxs("div",{className:"candidat-info-item",children:[We.jsx(eh,{name:"Phone",size:14}),We.jsx("span",{children:e.telephone})]}),e.appel_id&&We.jsxs("div",{className:"candidat-info-item",children:[We.jsx(eh,{name:"Bell",size:14}),We.jsx("span",{className:"candidat-appel",children:v(e.appel_id)})]}),e.date_inscription&&We.jsxs("div",{className:"candidat-info-item",children:[We.jsx(eh,{name:"Calendar",size:14}),We.jsx("span",{children:new Date(e.date_inscription).toLocaleDateString("fr-FR")})]})]}),e.statut_eligibilite&&We.jsxs("div",{className:`candidat-badge eligibilite eligibilite--${(e.statut_eligibilite||"").toLowerCase()}`,children:[We.jsx(eh,{name:"ELIGIBLE"===e.statut_eligibilite?"CheckCircle2":"AlertCircle",size:12}),e.statut_eligibilite.replace(/_/g," ")]}),e.has_diagnostic&&We.jsxs("div",{className:"candidat-badge diagnostic",children:[We.jsx(eh,{name:"FileText",size:12}),"Diagnostic"]})]},e.id)),0===n.length&&We.jsxs("div",{className:"colonne-empty",children:[We.jsx(eh,{name:"Folder",size:32}),We.jsx("p",{children:"Aucun candidat"})]})]})]},e.id)})})]})}function Yh(){const t=n(),{id:r}=a(),[i]=s(),l=i.get("appel"),o=!!r,[c,u]=e.useState(!0),[d,m]=e.useState(!1),[p,f]=e.useState({}),[h,g]=e.useState(!1),[v,b]=e.useState([]),[x,j]=e.useState([]),[y,N]=e.useState([]),[S,_]=e.useState(null),[w,C]=e.useState(null),[k,E]=e.useState(null),[A,T]=e.useState(null),[z,P]=e.useState({nom:"",prenom:"",email:"",telephone:"",date_naissance:"",genre:"",adresse:"",ville:"",region:"",departement:"",commune:"",appel_id:l||"",statut:"NOUVEAU"});e.useEffect(()=>{(async()=>{try{const[e,t,n]=await Promise.all([Dh.getAll(),Ch.getByType("STATUT_CANDIDAT"),Ch.getByType("GENRE")]);e.error||b(e.data||[]),t.error||j(t.data||[]),n.error||N(n.data||[]),o?await L():l&&await R(l)}finally{u(!1)}})()},[r]);const R=async e=>{try{const{data:t}=await Dh.getById(e);if(t&&(C(t),t.projet_id)){const{data:e}=await fh.getById(t.projet_id);if(E(e),null==e?void 0:e.programme_id){const{data:t}=await mh.getById(e.programme_id);T(t)}}}catch(t){console.error("Error loading appel context:",t)}},L=async()=>{try{const{data:e,error:n}=await vh.getById(r);n?(jh.error("Erreur lors du chargement du candidat"),t("/candidats")):e&&(P({nom:e.nom||"",prenom:e.prenom||"",email:e.email||"",telephone:e.telephone||"",date_naissance:e.date_naissance?e.date_naissance.split("T")[0]:"",genre:e.genre||"",adresse:e.adresse||"",ville:e.ville||"",region:e.region||"",departement:e.departement||"",commune:e.commune||"",appel_id:e.appel_id||"",statut:e.statut||"NOUVEAU"}),e.appel_id&&await R(e.appel_id))}catch(e){console.error("Error loading candidat:",e),jh.error("Erreur lors du chargement du candidat"),t("/candidats")}};e.useEffect(()=>{z.appel_id&&z.date_naissance&&z.genre&&z.region?I():_(null)},[z.appel_id,z.date_naissance,z.genre,z.region]);const I=async()=>{try{const e=await vh.evaluateEligibility({appel_id:z.appel_id,date_naissance:z.date_naissance,genre:z.genre,region:z.region,departement:z.departement,commune:z.commune});e.statut_eligibilite&&_(e.statut_eligibilite)}catch(e){console.error("Error checking eligibility:",e)}},F=e=>{const{name:t,value:n}=e.target;P(e=>{const r={...e,[t]:n};return g(!0),"appel_id"===t&&n&&R(n),r})};return c?We.jsx(Nh,{message:"Chargement du candidat..."}):We.jsxs("div",{className:"candidat-form-page",children:[We.jsxs("div",{className:"candidat-form-header",children:[We.jsx(th,{to:z.appel_id?`/appels-candidatures/${z.appel_id}`:"/candidats",label:"Retour"}),We.jsx("h1",{children:o?"Modifier le Candidat":"Nouveau Candidat"})]}),We.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};(!z.nom||z.nom.trim().length<2)&&(e.nom="Le nom doit contenir au moins 2 caractres"),(!z.prenom||z.prenom.trim().length<2)&&(e.prenom="Le prnom doit contenir au moins 2 caractres"),z.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z.email)||(e.email="Format d'email invalide"):e.email="L'email est requis",z.date_naissance&&new Date(z.date_naissance)>=new Date&&(e.date_naissance="La date de naissance doit tre dans le pass");return f(e),0===Object.keys(e).length})()){m(!0);try{const e={...z,date_naissance:z.date_naissance||null,appel_id:z.appel_id||null};let n;if(n=o?await vh.update(r,e):await vh.create(e),n.error){const e=n.error.message||`Erreur lors de la ${o?"modification":"cration"} du candidat`;jh.error(e),console.error("API Error:",n.error)}else jh.success(`Candidat ${o?"modifi":"cr"} avec succs`),g(!1),z.appel_id?t(`/appels-candidatures/${z.appel_id}`):t("/candidats")}catch(n){console.error("Error saving candidat:",n),jh.error(`Erreur lors de la ${o?"modification":"cration"} du candidat`)}finally{m(!1)}}else jh.error("Veuillez corriger les erreurs dans le formulaire")},className:"candidat-form",children:[w&&k&&A&&We.jsxs("div",{className:"form-context-banner",children:[We.jsx(eh,{name:"Info",size:18}),We.jsxs("div",{children:[We.jsx("strong",{children:"Contexte :"})," ",A.nom,"  ",k.nom,"  ",w.titre]})]}),S&&We.jsxs("div",{className:`eligibilite-alert ${(e=>{if(!e)return"";return`eligibilite-badge eligibilite--${e.toLowerCase()}`})(S)}`,children:[We.jsx(eh,{name:"ELIGIBLE"===S?"CheckCircle":"AlertCircle",size:18}),We.jsxs("div",{children:[We.jsx("strong",{children:"Statut d'ligibilit :"})," ",S]})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Informations personnelles"}),We.jsxs("div",{className:"form-grid",children:[We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"nom",children:"Nom *"}),We.jsx("input",{type:"text",id:"nom",name:"nom",value:z.nom,onChange:F,required:!0,className:"input "+(p.nom?"input-error":""),placeholder:"Nom",maxLength:100}),p.nom&&We.jsx("span",{className:"error-message",children:p.nom})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"prenom",children:"Prnom *"}),We.jsx("input",{type:"text",id:"prenom",name:"prenom",value:z.prenom,onChange:F,required:!0,className:"input "+(p.prenom?"input-error":""),placeholder:"Prnom",maxLength:100}),p.prenom&&We.jsx("span",{className:"error-message",children:p.prenom})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"email",children:"Email *"}),We.jsx("input",{type:"email",id:"email",name:"email",value:z.email,onChange:F,required:!0,className:"input "+(p.email?"input-error":""),placeholder:"email@example.com"}),p.email&&We.jsx("span",{className:"error-message",children:p.email})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"telephone",children:"Tlphone"}),We.jsx("input",{type:"tel",id:"telephone",name:"telephone",value:z.telephone,onChange:F,className:"input",placeholder:"+221 77 123 45 67"})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"date_naissance",children:"Date de naissance"}),We.jsx("input",{type:"date",id:"date_naissance",name:"date_naissance",value:z.date_naissance,onChange:F,className:"input "+(p.date_naissance?"input-error":""),max:(new Date).toISOString().split("T")[0]}),p.date_naissance&&We.jsx("span",{className:"error-message",children:p.date_naissance})]}),We.jsx("div",{className:"form-group",children:We.jsx(kh,{label:"Genre",name:"genre",value:z.genre,onChange:F,options:y,typeReferentiel:"GENRE",placeholder:"Slectionner un genre"})}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"appel_id",children:"Appel  candidatures *"}),We.jsxs("select",{id:"appel_id",name:"appel_id",value:z.appel_id,onChange:F,className:"input",required:!0,children:[We.jsx("option",{value:"",children:"Slectionner un appel"}),v.map(e=>We.jsx("option",{value:e.id,children:e.titre},e.id))]})]}),We.jsx("div",{className:"form-group",children:We.jsx(kh,{label:"Statut",name:"statut",value:z.statut,onChange:F,options:x,typeReferentiel:"STATUT_CANDIDAT",placeholder:"Slectionner un statut"})}),We.jsxs("div",{className:"form-group form-group--full",children:[We.jsx("label",{htmlFor:"adresse",children:"Adresse"}),We.jsx("input",{type:"text",id:"adresse",name:"adresse",value:z.adresse,onChange:F,className:"input",placeholder:"Adresse complte"})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"ville",children:"Ville"}),We.jsx("input",{type:"text",id:"ville",name:"ville",value:z.ville,onChange:F,className:"input",placeholder:"Ville"})]})]})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Localisation gographique"}),We.jsx("div",{className:"form-grid",children:We.jsx("div",{className:"form-group form-group--full",children:We.jsx(Ph,{regions:z.region?[z.region]:[],departements:z.departement?[z.departement]:[],communes:z.commune?[z.commune]:[],onRegionsChange:e=>{const t=Array.isArray(e.target.value)?e.target.value:[];P(e=>({...e,region:t[0]||""})),g(!0)},onDepartementsChange:e=>{const t=Array.isArray(e.target.value)?e.target.value:[];P(e=>({...e,departement:t[0]||""})),g(!0)},onCommunesChange:e=>{const t=Array.isArray(e.target.value)?e.target.value:[];P(e=>({...e,commune:t[0]||""})),g(!0)}})})})]}),We.jsxs("div",{className:"form-actions",children:[We.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>t(z.appel_id?`/appels-candidatures/${z.appel_id}`:"/candidats"),disabled:d,children:"Annuler"}),We.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?We.jsxs(We.Fragment,{children:[We.jsx("div",{className:"spinner-small"}),"Enregistrement..."]}):We.jsxs(We.Fragment,{children:[We.jsx(eh,{name:"Save",size:18}),o?"Modifier":"Crer"," le candidat"]})})]})]})]})}const Jh="diagnostics",Zh={async create(e,t){try{const{data:n,error:r}=await Xf.from(Jh).insert({candidat_id:e,data:t}).select("*").single();return{data:n,error:r}}catch(n){return console.error("Error creating diagnostic:",n),{data:null,error:n}}},async update(e,t){try{const{data:n,error:r}=await Xf.from(Jh).update({data:t}).eq("candidat_id",e).select("*").single();return{data:n,error:r}}catch(n){return console.error("Error updating diagnostic:",n),{data:null,error:n}}},async get(e){try{const{data:t,error:n}=await Xf.from(Jh).select("*").eq("candidat_id",e).single();return n&&"PGRST116"!==n.code?{data:null,error:n}:{data:t,error:null}}catch(t){return console.error("Error fetching diagnostic:",t),{data:null,error:t}}}};function eg({open:t,onSelect:n,onCancel:r}){const[a,s]=e.useState([]),[i,l]=e.useState(!0),[o,c]=e.useState("");e.useEffect(()=>{t&&u()},[t]);const u=async()=>{l(!0);try{const{data:e}=await fh.getAll();s(e||[])}catch(e){console.error("Error loading projets:",e)}finally{l(!1)}},d=a.filter(e=>{var t,n;return(null==(t=e.nom)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(n=e.description)?void 0:n.toLowerCase().includes(o.toLowerCase()))});return t?We.jsx("div",{className:"projet-selector-backdrop",onClick:r,children:We.jsxs("div",{className:"projet-selector-modal",onClick:e=>e.stopPropagation(),children:[We.jsxs("div",{className:"projet-selector-header",children:[We.jsx("h2",{children:"Slectionner un projet"}),We.jsx("button",{className:"btn-close",onClick:r,children:We.jsx(eh,{name:"X",size:20})})]}),We.jsxs("div",{className:"projet-selector-search",children:[We.jsx(eh,{name:"Search",size:18}),We.jsx("input",{type:"text",placeholder:"Rechercher un projet...",value:o,onChange:e=>c(e.target.value)})]}),We.jsx("div",{className:"projet-selector-list",children:i?We.jsx("div",{className:"projet-selector-loading",children:"Chargement..."}):0===d.length?We.jsx("div",{className:"projet-selector-empty",children:"Aucun projet trouv"}):d.map(e=>We.jsxs("div",{className:"projet-selector-item",onClick:()=>n(e.id,e.nom),children:[We.jsxs("div",{className:"projet-selector-item-content",children:[We.jsx("h3",{children:e.nom}),e.description&&We.jsxs("p",{children:[e.description.substring(0,100),"..."]})]}),We.jsx(eh,{name:"ChevronRight",size:20})]},e.id))})]})}):null}const tg=[{id:"besoins_identifies",label:"Besoins identifis",type:"textarea",required:!0},{id:"points_forts",label:"Points forts",type:"textarea"},{id:"points_faibles",label:"Points faibles",type:"textarea"},{id:"niveau_marketing",label:"Niveau Marketing",type:"select",options:["Faible","Moyen","Bon","Excellent"]},{id:"niveau_financier",label:"Niveau Financier",type:"select",options:["Faible","Moyen","Bon","Excellent"]},{id:"niveau_comptabilite",label:"Niveau Comptabilit",type:"select",options:["Faible","Moyen","Bon","Excellent"]},{id:"niveau_management",label:"Niveau Management",type:"select",options:["Faible","Moyen","Bon","Excellent"]},{id:"niveau_organisationnel",label:"Niveau Organisationnel",type:"select",options:["Faible","Moyen","Bon","Excellent"]},{id:"observations",label:"Observations",type:"textarea"}];function ng({candidatId:t,onSave:n,onCancel:r,initialData:a=null}){const[s,i]=e.useState({}),[l,o]=e.useState(!1);e.useEffect(()=>{if(a)i(a);else{const e={};tg.forEach(t=>{e[t.id]=""}),i(e)}},[a]);const c=e=>{const{name:t,value:n}=e.target;i(e=>({...e,[t]:n}))};return We.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{let e;e=a?await Zh.update(t,s):await Zh.create(t,s),e.error?jh.error("Erreur lors de l'enregistrement du diagnostic"):(jh.success("Diagnostic enregistr avec succs"),n())}catch(r){console.error("Error saving diagnostic:",r),jh.error("Erreur lors de l'enregistrement du diagnostic")}finally{o(!1)}},className:"diagnostic-form",children:[We.jsx("div",{className:"diagnostic-form-grid",children:tg.map(e=>We.jsxs("div",{className:"form-group "+("textarea"===e.type?"form-group--full":""),children:[We.jsxs("label",{htmlFor:e.id,children:[e.label,e.required&&We.jsx("span",{className:"required",children:"*"})]}),"textarea"===e.type?We.jsx("textarea",{id:e.id,name:e.id,value:s[e.id]||"",onChange:c,required:e.required,className:"input",rows:3,placeholder:`Saisir ${e.label.toLowerCase()}...`}):"select"===e.type?We.jsxs("select",{id:e.id,name:e.id,value:s[e.id]||"",onChange:c,className:"input",children:[We.jsx("option",{value:"",children:"Slectionner..."}),e.options.map(e=>We.jsx("option",{value:e,children:e},e))]}):We.jsx("input",{type:e.type||"text",id:e.id,name:e.id,value:s[e.id]||"",onChange:c,required:e.required,className:"input",placeholder:`Saisir ${e.label.toLowerCase()}...`})]},e.id))}),We.jsxs("div",{className:"diagnostic-form-actions",children:[We.jsx("button",{type:"button",className:"btn btn-secondary",onClick:r,disabled:l,children:"Annuler"}),We.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?We.jsxs(We.Fragment,{children:[We.jsx("div",{className:"spinner-small"}),"Enregistrement..."]}):We.jsxs(We.Fragment,{children:[We.jsx(eh,{name:"Save",size:18}),"Enregistrer le diagnostic"]})})]})]})}function rg(){const t=n(),{id:r}=a(),[s,i]=e.useState(null),[l,o]=e.useState(null),[c,u]=e.useState(null),[d,m]=e.useState(!0),[p,f]=e.useState(!1),[h,g]=e.useState(!1),[v,b]=e.useState(!1);e.useEffect(()=>{x(),j()},[r]);const x=async()=>{try{const{data:e,error:n}=await vh.getById(r);if(n)jh.error("Erreur lors du chargement du candidat"),t("/candidats");else if(i(e),null==e?void 0:e.appel_id){const{data:t}=await Dh.getById(e.appel_id);o(t)}}catch(e){console.error("Error loading candidat:",e),jh.error("Erreur lors du chargement du candidat"),t("/candidats")}finally{m(!1)}},j=async()=>{try{const{data:e}=await Zh.get(r);u(e)}catch(e){console.error("Error loading diagnostic:",e)}};if(d)return We.jsx(Nh,{message:"Chargement du candidat..."});if(!s)return We.jsx(yh,{icon:"AlertCircle",title:"Candidat introuvable",message:"Le candidat demand n'existe pas ou a t supprim",action:{label:"Retour  la liste",onClick:()=>t("/candidats")}});const y={NOUVEAU:{class:"statut-nouveau",label:"Nouveau"},DIAGNOSTIC:{class:"statut-diagnostic",label:"En diagnostic"},SELECTIONNE:{class:"statut-selectionne",label:"Slectionn"},CONVERTI:{class:"statut-converti",label:"Converti"}}[N=s.statut||"NOUVEAU"]||{class:"statut-default",label:N};var N;return We.jsxs("div",{className:"candidat-detail-page",children:[We.jsxs("div",{className:"candidat-detail-header",children:[We.jsx(th,{to:s.appel_id?`/appels-candidatures/${s.appel_id}`:"/candidats",label:"Retour"}),We.jsxs("div",{className:"candidat-detail-header-content",children:[We.jsxs("div",{children:[We.jsxs("h1",{children:[s.nom," ",s.prenom]}),We.jsx("span",{className:`candidat-statut ${y.class}`,children:y.label}),l&&We.jsxs("div",{className:"candidat-appel-link",children:[We.jsx(eh,{name:"ArrowLeft",size:16}),We.jsx("button",{onClick:()=>t(`/appels-candidatures/${l.id}`),children:l.titre})]})]}),We.jsxs("div",{className:"candidat-detail-actions",children:[We.jsxs("button",{className:"btn btn-secondary",onClick:()=>t(`/candidats/${r}/edit`),children:[We.jsx(eh,{name:"Edit",size:18}),"Modifier"]}),"SELECTIONNE"===s.statut&&We.jsxs("button",{className:"btn btn-primary",onClick:()=>{g(!0)},children:[We.jsx(eh,{name:"UserCheck",size:18}),"Convertir en bnficiaire"]})]})]})]}),We.jsxs("div",{className:"candidat-detail-content",children:[We.jsxs("div",{className:"candidat-detail-main",children:[We.jsxs("div",{className:"candidat-detail-section",children:[We.jsx("h2",{children:"Informations personnelles"}),We.jsxs("div",{className:"candidat-info-grid",children:[s.email&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Mail",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Email"}),We.jsx("span",{children:s.email})]})]}),s.telephone&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Phone",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Tlphone"}),We.jsx("span",{children:s.telephone})]})]}),s.date_naissance&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Calendar",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Date de naissance"}),We.jsx("span",{children:new Date(s.date_naissance).toLocaleDateString("fr-FR")})]})]}),s.adresse&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"MapPin",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Adresse"}),We.jsx("span",{children:s.adresse})]})]}),s.ville&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"MapPin",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Ville"}),We.jsx("span",{children:s.ville})]})]}),s.date_inscription&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Clock",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Date d'inscription"}),We.jsx("span",{children:new Date(s.date_inscription).toLocaleDateString("fr-FR")})]})]})]})]}),We.jsxs("div",{className:"candidat-detail-section",children:[We.jsxs("div",{className:"section-header",children:[We.jsx("h2",{children:"Fiche de diagnostic"}),!c&&We.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>f(!0),children:[We.jsx(eh,{name:"Plus",size:16}),"Crer un diagnostic"]})]}),p?We.jsx(ng,{candidatId:r,onSave:()=>{f(!1),j()},onCancel:()=>f(!1)}):c?We.jsxs("div",{className:"diagnostic-content",children:[We.jsx("div",{className:"diagnostic-actions",children:We.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>f(!0),children:[We.jsx(eh,{name:"Edit",size:16}),"Modifier"]})}),We.jsx("div",{className:"diagnostic-data",children:Object.entries(c).map(([e,t])=>"id"!==e&&"candidat_id"!==e&&t?We.jsxs("div",{className:"diagnostic-item",children:[We.jsx("label",{children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),We.jsx("span",{children:"object"==typeof t?JSON.stringify(t):String(t)})]},e):null)})]}):We.jsx(yh,{icon:"FileText",title:"Aucun diagnostic",message:"Crez une fiche de diagnostic pour ce candidat",action:{label:"Crer un diagnostic",onClick:()=>f(!0)}})]})]}),We.jsx("div",{className:"candidat-detail-sidebar",children:We.jsxs("div",{className:"candidat-stats",children:[We.jsx("h3",{children:"Statut"}),We.jsxs("div",{className:"stat-item",children:[We.jsx("span",{className:"stat-label",children:"Statut actuel"}),We.jsx("span",{className:`stat-value stat-value--${y.class}`,children:y.label})]}),c&&We.jsxs("div",{className:"stat-item",children:[We.jsx("span",{className:"stat-label",children:"Diagnostic"}),We.jsxs("span",{className:"stat-value stat-value--success",children:[We.jsx(eh,{name:"CheckCircle2",size:16}),"Complt"]})]})]})})]}),We.jsx(Sh,{open:h,title:"Convertir en bnficiaire",description:"tes-vous sr de vouloir convertir ce candidat en bnficiaire ? Cette action est irrversible.",variant:"info",confirmLabel:"Continuer",cancelLabel:"Annuler",onConfirm:()=>{g(!1),b(!0)},onCancel:()=>g(!1)}),We.jsx(eg,{open:v,onSelect:async(e,n)=>{b(!1);try{const{error:a,data:s}=await vh.convertToBeneficiaire(r,e);a?jh.error("Erreur lors de la conversion"):(jh.success(`Candidat converti en bnficiaire et affect au projet "${n}"`),t(`/beneficiaires/${(null==s?void 0:s.id)||r}`))}catch(a){console.error("Error converting candidat:",a),jh.error("Erreur lors de la conversion")}},onCancel:()=>b(!1)})]})}function ag(){const t=n(),[r]=s(),a=r.get("projet"),[i,l]=e.useState([]),[o,c]=e.useState([]),[u,d]=e.useState(!0),[m,p]=e.useState({projet:a||"",intervenant:"",statut:"",search:""});e.useEffect(()=>{f(),h()},[m]);const f=async()=>{try{const{data:e}=await fh.getAll();c(e||[])}catch(e){console.error("Error loading projets:",e)}},h=async()=>{d(!0);try{const{data:e,error:t}=await xh.getAll(m.projet||null,m);if(t)jh.error("Erreur lors du chargement des bnficiaires"),console.error(t);else{let t=e||[];if(m.statut&&(t=t.filter(e=>e.statut===m.statut)),m.search){const e=m.search.toLowerCase();t=t.filter(t=>{var n,r,a;return(null==(n=t.nom)?void 0:n.toLowerCase().includes(e))||(null==(r=t.prenom)?void 0:r.toLowerCase().includes(e))||(null==(a=t.email)?void 0:a.toLowerCase().includes(e))})}l(t)}}catch(e){console.error("Error loading beneficiaires:",e),jh.error("Erreur lors du chargement des bnficiaires")}finally{d(!1)}},g=e=>{const t=o.find(t=>t.id===e);return(null==t?void 0:t.nom)||"Projet inconnu"};return u?We.jsx(Nh,{message:"Chargement des bnficiaires..."}):We.jsxs("div",{className:"beneficiaires-page",children:[We.jsxs("div",{className:"beneficiaires-header",children:[We.jsxs("div",{className:"beneficiaires-header-top",children:[We.jsx(th,{to:"/dashboard",label:"Retour au tableau de bord"}),We.jsx("h1",{children:"Gestion des Bnficiaires"})]}),We.jsx("div",{className:"beneficiaires-actions",children:We.jsxs("button",{className:"btn btn-primary",onClick:()=>t("/beneficiaires/new"),children:[We.jsx(eh,{name:"Plus",size:18}),"Nouveau Bnficiaire"]})})]}),We.jsxs("div",{className:"beneficiaires-filters",children:[We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Recherche"}),We.jsx("input",{type:"text",placeholder:"Rechercher un bnficiaire...",value:m.search,onChange:e=>p({...m,search:e.target.value}),className:"input"})]}),We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Projet"}),We.jsxs("select",{value:m.projet,onChange:e=>{p({...m,projet:e.target.value}),e.target.value?t(`/beneficiaires?projet=${e.target.value}`):t("/beneficiaires")},className:"input",children:[We.jsx("option",{value:"",children:"Tous les projets"}),o.map(e=>We.jsx("option",{value:e.id,children:e.nom},e.id))]})]}),We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Statut"}),We.jsxs("select",{value:m.statut,onChange:e=>p({...m,statut:e.target.value}),className:"input",children:[We.jsx("option",{value:"",children:"Tous"}),We.jsx("option",{value:"ACTIF",children:"Actif"}),We.jsx("option",{value:"EN_ACCOMPAGNEMENT",children:"En accompagnement"}),We.jsx("option",{value:"TERMINE",children:"Termin"})]})]})]}),0===i.length?We.jsx(yh,{icon:"Users",title:"Aucun bnficiaire",message:a?"Ce projet n'a pas encore de bnficiaires":"Aucun bnficiaire trouv",action:{label:"Crer un bnficiaire",onClick:()=>t("/beneficiaires/new")}}):We.jsx("div",{className:"beneficiaires-grid",children:i.map(e=>We.jsxs("div",{className:"beneficiaire-card",children:[We.jsxs("div",{className:"beneficiaire-card-header",children:[We.jsxs("div",{className:"beneficiaire-card-title",children:[We.jsxs("h3",{children:[e.nom," ",e.prenom]}),e.projet_id&&We.jsx("span",{className:"beneficiaire-projet",children:g(e.projet_id)})]}),We.jsx("div",{className:"beneficiaire-card-actions",children:We.jsx("button",{className:"btn-icon",onClick:()=>t(`/beneficiaires/${e.id}`),title:"Voir le dossier",children:We.jsx(eh,{name:"Eye",size:18})})})]}),We.jsxs("div",{className:"beneficiaire-card-body",children:[e.email&&We.jsxs("div",{className:"beneficiaire-info-item",children:[We.jsx(eh,{name:"Mail",size:16}),We.jsx("span",{children:e.email})]}),e.telephone&&We.jsxs("div",{className:"beneficiaire-info-item",children:[We.jsx(eh,{name:"Phone",size:16}),We.jsx("span",{children:e.telephone})]}),e.date_affectation&&We.jsxs("div",{className:"beneficiaire-info-item",children:[We.jsx(eh,{name:"Calendar",size:16}),We.jsxs("span",{children:["Affect le ",new Date(e.date_affectation).toLocaleDateString("fr-FR")]})]}),e.has_plan_action&&We.jsxs("div",{className:"beneficiaire-badge plan-action",children:[We.jsx(eh,{name:"CheckCircle2",size:12}),"Plan d'action"]})]})]},e.id))})]})}function sg(){const t=n(),{id:r}=a(),[i]=s(),l=i.get("projet"),o=!!r,[c,u]=e.useState(!0),[d,m]=e.useState(!1),[p,f]=e.useState({}),[h,g]=e.useState(!1),[v,b]=e.useState([]),[x,j]=e.useState([]),[y,N]=e.useState([]),[S,_]=e.useState([]),[w,C]=e.useState([]),[k,E]=e.useState([]),[A,T]=e.useState(null),[z,P]=e.useState(null),[R,L]=e.useState({nom:"",prenom:"",email:"",telephone:"",date_naissance:"",genre:"",adresse:"",ville:"",region:"",departement:"",commune:"",projet_id:l||"",statut:"ACTIF",mentor_id:"",formateur_id:"",coach_id:""});e.useEffect(()=>{(async()=>{try{const[e,t,n,r,a,s]=await Promise.all([fh.getAll(),Ch.getByType("STATUT_BENEFICIAIRE"),Ch.getByType("GENRE"),Uh.getByRole("MENTOR"),Uh.getByRole("FORMATEUR"),Uh.getByRole("COACH")]);e.error||b(e.data||[]),t.error||j(t.data||[]),n.error||N(n.data||[]),r.error||_(r.data||[]),a.error||C(a.data||[]),s.error||E(s.data||[]),o?await F():l&&await I(l)}finally{u(!1)}})()},[r]);const I=async e=>{try{const{data:t}=await fh.getById(e);if(t&&(T(t),t.programme_id)){const{data:e}=await mh.getById(t.programme_id);P(e)}}catch(t){console.error("Error loading projet context:",t)}},F=async()=>{try{const{data:e,error:n}=await xh.getById(r);n?(jh.error("Erreur lors du chargement du bnficiaire"),t("/beneficiaires")):e&&(L({nom:e.nom||"",prenom:e.prenom||"",email:e.email||"",telephone:e.telephone||"",date_naissance:e.date_naissance?e.date_naissance.split("T")[0]:"",genre:e.genre||"",adresse:e.adresse||"",ville:e.ville||"",region:e.region||"",departement:e.departement||"",commune:e.commune||"",projet_id:e.projet_id||"",statut:e.statut||"ACTIF",mentor_id:e.mentor_id||"",formateur_id:e.formateur_id||"",coach_id:e.coach_id||""}),e.projet_id&&await I(e.projet_id))}catch(e){console.error("Error loading beneficiaire:",e),jh.error("Erreur lors du chargement du bnficiaire"),t("/beneficiaires")}},D=e=>{const{name:t,value:n}=e.target;L(e=>{const r={...e,[t]:n};return g(!0),"projet_id"===t&&n&&I(n),r})},M=(e,t)=>{const n=t.find(t=>t.id===e);return n?`${n.nom} ${n.prenom}`:e};return c?We.jsx(Nh,{message:"Chargement du bnficiaire..."}):We.jsxs("div",{className:"beneficiaire-form-page",children:[We.jsxs("div",{className:"beneficiaire-form-header",children:[We.jsx(th,{to:R.projet_id?`/projets/${R.projet_id}`:"/beneficiaires",label:"Retour"}),We.jsx("h1",{children:o?"Modifier le Bnficiaire":"Nouveau Bnficiaire"})]}),We.jsxs("form",{onSubmit:async e=>{var n;if(e.preventDefault(),(()=>{const e={};(!R.nom||R.nom.trim().length<2)&&(e.nom="Le nom doit contenir au moins 2 caractres"),(!R.prenom||R.prenom.trim().length<2)&&(e.prenom="Le prnom doit contenir au moins 2 caractres"),R.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R.email)||(e.email="Format d'email invalide"):e.email="L'email est requis",R.date_naissance&&new Date(R.date_naissance)>=new Date&&(e.date_naissance="La date de naissance doit tre dans le pass");return f(e),0===Object.keys(e).length})()){m(!0);try{const e={...R,date_naissance:R.date_naissance||null,projet_id:R.projet_id||null,mentor_id:R.mentor_id||null,formateur_id:R.formateur_id||null,coach_id:R.coach_id||null};let a;if(a=o?await xh.update(r,e):await xh.create(e),a.error){const e=a.error.message||`Erreur lors de la ${o?"modification":"cration"} du bnficiaire`;jh.error(e),console.error("API Error:",a.error)}else jh.success(`Bnficiaire ${o?"modifi":"cr"} avec succs`),g(!1),t(`/beneficiaires/${(null==(n=a.data)?void 0:n.id)||r}`)}catch(a){console.error("Error saving beneficiaire:",a),jh.error(`Erreur lors de la ${o?"modification":"cration"} du bnficiaire`)}finally{m(!1)}}else jh.error("Veuillez corriger les erreurs dans le formulaire")},className:"beneficiaire-form",children:[A&&z&&We.jsxs("div",{className:"form-context-banner",children:[We.jsx(eh,{name:"Info",size:18}),We.jsxs("div",{children:[We.jsx("strong",{children:"Contexte :"})," ",z.nom,"  ",A.nom]})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Informations personnelles"}),We.jsxs("div",{className:"form-grid",children:[We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"nom",children:"Nom *"}),We.jsx("input",{type:"text",id:"nom",name:"nom",value:R.nom,onChange:D,required:!0,className:"input "+(p.nom?"input-error":""),placeholder:"Nom",maxLength:100}),p.nom&&We.jsx("span",{className:"error-message",children:p.nom})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"prenom",children:"Prnom *"}),We.jsx("input",{type:"text",id:"prenom",name:"prenom",value:R.prenom,onChange:D,required:!0,className:"input "+(p.prenom?"input-error":""),placeholder:"Prnom",maxLength:100}),p.prenom&&We.jsx("span",{className:"error-message",children:p.prenom})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"email",children:"Email *"}),We.jsx("input",{type:"email",id:"email",name:"email",value:R.email,onChange:D,required:!0,className:"input "+(p.email?"input-error":""),placeholder:"email@example.com"}),p.email&&We.jsx("span",{className:"error-message",children:p.email})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"telephone",children:"Tlphone"}),We.jsx("input",{type:"tel",id:"telephone",name:"telephone",value:R.telephone,onChange:D,className:"input",placeholder:"+221 77 123 45 67"})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"date_naissance",children:"Date de naissance"}),We.jsx("input",{type:"date",id:"date_naissance",name:"date_naissance",value:R.date_naissance,onChange:D,className:"input "+(p.date_naissance?"input-error":""),max:(new Date).toISOString().split("T")[0]}),p.date_naissance&&We.jsx("span",{className:"error-message",children:p.date_naissance})]}),We.jsx("div",{className:"form-group",children:We.jsx(kh,{label:"Genre",name:"genre",value:R.genre,onChange:D,options:y,typeReferentiel:"GENRE",placeholder:"Slectionner un genre"})}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"projet_id",children:"Projet *"}),We.jsxs("select",{id:"projet_id",name:"projet_id",value:R.projet_id,onChange:D,className:"input",required:!0,children:[We.jsx("option",{value:"",children:"Slectionner un projet"}),v.map(e=>We.jsx("option",{value:e.id,children:e.nom},e.id))]})]}),We.jsx("div",{className:"form-group",children:We.jsx(kh,{label:"Statut",name:"statut",value:R.statut,onChange:D,options:x,typeReferentiel:"STATUT_BENEFICIAIRE",placeholder:"Slectionner un statut"})}),We.jsxs("div",{className:"form-group form-group--full",children:[We.jsx("label",{htmlFor:"adresse",children:"Adresse"}),We.jsx("input",{type:"text",id:"adresse",name:"adresse",value:R.adresse,onChange:D,className:"input",placeholder:"Adresse complte"})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"ville",children:"Ville"}),We.jsx("input",{type:"text",id:"ville",name:"ville",value:R.ville,onChange:D,className:"input",placeholder:"Ville"})]})]})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Localisation gographique"}),We.jsx("div",{className:"form-grid",children:We.jsx("div",{className:"form-group form-group--full",children:We.jsx(Ph,{regions:R.region?[R.region]:[],departements:R.departement?[R.departement]:[],communes:R.commune?[R.commune]:[],onRegionsChange:e=>{const t=Array.isArray(e.target.value)?e.target.value:[];L(e=>({...e,region:t[0]||""})),g(!0)},onDepartementsChange:e=>{const t=Array.isArray(e.target.value)?e.target.value:[];L(e=>({...e,departement:t[0]||""})),g(!0)},onCommunesChange:e=>{const t=Array.isArray(e.target.value)?e.target.value:[];L(e=>({...e,commune:t[0]||""})),g(!0)}})})})]}),We.jsxs("div",{className:"form-section",children:[We.jsx("h2",{children:"Assignation des intervenants"}),We.jsxs("div",{className:"form-grid",children:[We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"mentor_id",children:"Mentor"}),We.jsxs("select",{id:"mentor_id",name:"mentor_id",value:R.mentor_id,onChange:D,className:"input",children:[We.jsx("option",{value:"",children:"Slectionner un mentor"}),S.map(e=>We.jsxs("option",{value:e.id,children:[e.nom," ",e.prenom," (",e.email,")"]},e.id))]}),R.mentor_id&&We.jsxs("div",{className:"selected-user-badge",children:[We.jsx(eh,{name:"Handshake",size:14}),We.jsx("span",{children:M(R.mentor_id,S)})]})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"formateur_id",children:"Formateur"}),We.jsxs("select",{id:"formateur_id",name:"formateur_id",value:R.formateur_id,onChange:D,className:"input",children:[We.jsx("option",{value:"",children:"Slectionner un formateur"}),w.map(e=>We.jsxs("option",{value:e.id,children:[e.nom," ",e.prenom," (",e.email,")"]},e.id))]}),R.formateur_id&&We.jsxs("div",{className:"selected-user-badge",children:[We.jsx(eh,{name:"GraduationCap",size:14}),We.jsx("span",{children:M(R.formateur_id,w)})]})]}),We.jsxs("div",{className:"form-group",children:[We.jsx("label",{htmlFor:"coach_id",children:"Coach"}),We.jsxs("select",{id:"coach_id",name:"coach_id",value:R.coach_id,onChange:D,className:"input",children:[We.jsx("option",{value:"",children:"Slectionner un coach"}),k.map(e=>We.jsxs("option",{value:e.id,children:[e.nom," ",e.prenom," (",e.email,")"]},e.id))]}),R.coach_id&&We.jsxs("div",{className:"selected-user-badge",children:[We.jsx(eh,{name:"UserCircle",size:14}),We.jsx("span",{children:M(R.coach_id,k)})]})]})]})]}),We.jsxs("div",{className:"form-actions",children:[We.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>t(R.projet_id?`/projets/${R.projet_id}`:"/beneficiaires"),disabled:d,children:"Annuler"}),We.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?We.jsxs(We.Fragment,{children:[We.jsx("div",{className:"spinner-small"}),"Enregistrement..."]}):We.jsxs(We.Fragment,{children:[We.jsx(eh,{name:"Save",size:18}),o?"Modifier":"Crer"," le bnficiaire"]})})]})]})]})}const ig="plans_action",lg={async create(e,t){try{const{data:n,error:r}=await Xf.from(ig).insert({beneficiaire_id:e,etapes:t.etapes||[]}).select("*").single();return r||await Xf.from("beneficiaires").update({plan_action_id:n.id}).eq("id",e),{data:n,error:r}}catch(n){return console.error("Error creating plan action:",n),{data:null,error:n}}},async update(e,t){try{const{data:n}=await Xf.from(ig).select("*").eq("beneficiaire_id",e).single();if(!n)return this.create(e,t);const{data:r,error:a}=await Xf.from(ig).update({etapes:t.etapes||[]}).eq("id",n.id).select("*").single();return{data:r,error:a}}catch(n){return console.error("Error updating plan action:",n),{data:null,error:n}}},async validateEtape(e,t){try{const{data:n,error:r}=await Xf.from(ig).select("*").eq("beneficiaire_id",e).single();if(r||!n)return{data:null,error:r||{message:"Plan daction not found"}};const a=n.etapes||[],s=a.findIndex(e=>e.id===t);if(-1===s)return{data:null,error:{message:"tape not found"}};a[s]={...a[s],valide:!0,date_validation:(new Date).toISOString()};const{data:i,error:l}=await Xf.from(ig).update({etapes:a}).eq("id",n.id).select("*").single();return{data:i,error:l}}catch(n){return console.error("Error validating etape:",n),{data:null,error:n}}},async get(e){try{const{data:t,error:n}=await Xf.from(ig).select("*").eq("beneficiaire_id",e).single();return n&&"PGRST116"!==n.code?{data:null,error:n}:{data:t,error:null}}catch(t){return console.error("Error fetching plan action:",t),{data:null,error:t}}}};function og({beneficiaireId:t,planAction:n,onUpdate:r}){const[a,s]=e.useState(n),[i,l]=e.useState(!1),[o,c]=e.useState(!n);e.useEffect(()=>{n&&(s(n),c(!1))},[n]);const u=async e=>{l(!0);try{const{error:n}=await lg.create(t,e);if(n)jh.error("Erreur lors de la cration du plan");else{jh.success("Plan d'action cr avec succs"),c(!1),r&&r();const{data:e}=await lg.get(t);s(e)}}catch(n){console.error("Error creating plan:",n),jh.error("Erreur lors de la cration du plan")}finally{l(!1)}};return o?We.jsx(cg,{beneficiaireId:t,onSubmit:u,onCancel:()=>c(!1)}):a?We.jsxs("div",{className:"plan-action-view",children:[We.jsxs("div",{className:"plan-action-header",children:[We.jsx("h3",{children:"Plan d'action"}),We.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>c(!0),children:[We.jsx(eh,{name:"Edit",size:16}),"Modifier"]})]}),We.jsx("div",{className:"plan-action-etapes",children:a.etapes&&a.etapes.length>0?a.etapes.map((e,n)=>We.jsx("div",{className:"etape-item "+(e.valide?"etape-valide":""),children:We.jsxs("div",{className:"etape-header",children:[We.jsx("div",{className:"etape-number",children:n+1}),We.jsxs("div",{className:"etape-content",children:[We.jsx("h4",{children:e.titre}),e.description&&We.jsx("p",{children:e.description}),e.date_limite&&We.jsxs("span",{className:"etape-date",children:[We.jsx(eh,{name:"Calendar",size:14}),"chance: ",new Date(e.date_limite).toLocaleDateString("fr-FR")]})]}),We.jsx("div",{className:"etape-actions",children:e.valide?We.jsxs("span",{className:"etape-badge valide",children:[We.jsx(eh,{name:"CheckCircle2",size:18}),"Valid"]}):We.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>(async e=>{l(!0);try{const{error:n}=await lg.validateEtape(t,e);if(n)jh.error("Erreur lors de la validation");else{jh.success("tape valide avec succs"),r&&r();const{data:e}=await lg.get(t);s(e)}}catch(n){console.error("Error validating etape:",n),jh.error("Erreur lors de la validation")}finally{l(!1)}})(e.id),disabled:i,children:[We.jsx(eh,{name:"Check",size:16}),"Valider"]})})]})},e.id||n)):We.jsx(yh,{icon:"List",title:"Aucune tape",message:"Le plan d'action n'a pas encore d'tapes dfinies"})})]}):We.jsx(yh,{icon:"CheckCircle2",title:"Aucun plan d'action",message:"Crez un plan d'action pour ce bnficiaire",action:{label:"Crer un plan d'action",onClick:()=>c(!0)}})}function cg({beneficiaireId:t,onSubmit:n,onCancel:r}){const[a,s]=e.useState([{titre:"",description:"",date_limite:""}]),i=(e,t,n)=>{const r=[...a];r[e][t]=n,s(r)};return We.jsxs("form",{onSubmit:e=>{e.preventDefault();const t={etapes:a.filter(e=>""!==e.titre.trim())};n(t)},className:"plan-action-form",children:[We.jsx("h3",{children:"Crer un plan d'action"}),We.jsx("div",{className:"etapes-list",children:a.map((e,t)=>We.jsxs("div",{className:"etape-form-item",children:[We.jsxs("div",{className:"etape-form-header",children:[We.jsxs("span",{className:"etape-form-number",children:["tape ",t+1]}),a.length>1&&We.jsx("button",{type:"button",className:"btn-icon-small btn-icon--danger",onClick:()=>(e=>{s(a.filter((t,n)=>n!==e))})(t),children:We.jsx(eh,{name:"X",size:16})})]}),We.jsxs("div",{className:"etape-form-fields",children:[We.jsx("input",{type:"text",placeholder:"Titre de l'tape *",value:e.titre,onChange:e=>i(t,"titre",e.target.value),required:!0,className:"input"}),We.jsx("textarea",{placeholder:"Description",value:e.description,onChange:e=>i(t,"description",e.target.value),rows:2,className:"input"}),We.jsx("input",{type:"date",placeholder:"Date limite",value:e.date_limite,onChange:e=>i(t,"date_limite",e.target.value),className:"input"})]})]},t))}),We.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>{s([...a,{titre:"",description:"",date_limite:""}])},children:[We.jsx(eh,{name:"Plus",size:18}),"Ajouter une tape"]}),We.jsxs("div",{className:"plan-action-form-actions",children:[We.jsx("button",{type:"button",className:"btn btn-secondary",onClick:r,children:"Annuler"}),We.jsxs("button",{type:"submit",className:"btn btn-primary",children:[We.jsx(eh,{name:"Save",size:18}),"Crer le plan d'action"]})]})]})}const ug=[{id:"marketing",label:"Marketing & Communication",icon:"Megaphone"},{id:"financier",label:"Finance & Comptabilit",icon:"DollarSign"},{id:"management",label:"Management",icon:"Users"},{id:"organisationnel",label:"Organisationnel",icon:"Building2"},{id:"technique",label:"Technique",icon:"Wrench"},{id:"juridique",label:"Juridique",icon:"Scale"}];function dg({beneficiaireId:t}){const[n,r]=e.useState({}),[a,s]=e.useState(!1),[i,l]=e.useState(!1);e.useEffect(()=>{o()},[t]);const o=async()=>{s(!0);try{const{data:e}=await xh.getBesoins(t);r(e||{})}catch(e){console.error("Error loading besoins:",e)}finally{s(!1)}},c={marketing:["Logo","Identit visuelle","Stratgie marketing","Communication digitale","Publicit"],financier:["Gestion financire","Comptabilit","Budget","Financement","Fiscalit"],management:["Leadership","Gestion d'quipe","Planification","Dcision","Ressources humaines"],organisationnel:["Structure organisationnelle","Processus","Procdures","Organisation du travail"],technique:["Infrastructure IT","Outils numriques","Systmes","Technologie"],juridique:["Statut juridique","Contrats","Conformit","Rglementation"]};return a?We.jsx("div",{children:"Chargement..."}):We.jsxs("div",{className:"besoins-identification",children:[We.jsxs("div",{className:"besoins-header",children:[We.jsx("h3",{children:"Identification des besoins"}),We.jsxs("button",{className:"btn btn-primary",onClick:async()=>{l(!0);try{await xh.updateBesoins(t,n),jh.success("Besoins enregistrs avec succs")}catch(e){console.error("Error saving besoins:",e),jh.error("Erreur lors de l'enregistrement")}finally{l(!1)}},disabled:i,children:[We.jsx(eh,{name:"Save",size:18}),"Enregistrer"]})]}),We.jsx("div",{className:"besoins-categories",children:ug.map(e=>{var t;return We.jsxs("div",{className:"besoins-categorie",children:[We.jsxs("div",{className:"categorie-header",children:[We.jsx(eh,{name:e.icon,size:20}),We.jsx("h4",{children:e.label})]}),We.jsx("div",{className:"besoins-list",children:null==(t=c[e.id])?void 0:t.map(t=>{var a;return We.jsxs("label",{className:"besoin-checkbox",children:[We.jsx("input",{type:"checkbox",checked:(null==(a=n[e.id])?void 0:a.includes(t))||!1,onChange:n=>((e,t,n)=>{r(r=>{const a={...r};return a[e]||(a[e]=[]),n?a[e].includes(t)||(a[e]=[...a[e],t]):a[e]=a[e].filter(e=>e!==t),a})})(e.id,t,n.target.checked)}),We.jsx("span",{children:t})]},t)})})]},e.id)})}),0===Object.keys(n).length&&We.jsx(yh,{icon:"Target",title:"Aucun besoin identifi",message:"Cochez les besoins identifis pour ce bnficiaire"})]})}function mg(){const t=n(),{id:r}=a(),[s,i]=e.useState(null),[l,o]=e.useState(null),[c,u]=e.useState(null),[d,m]=e.useState(null),[p,f]=e.useState(!0),[h,g]=e.useState("overview");e.useEffect(()=>{v(),b(),x()},[r]);const v=async()=>{try{const{data:e,error:n}=await xh.getById(r);if(n)jh.error("Erreur lors du chargement du bnficiaire"),t("/beneficiaires");else if(i(e),null==e?void 0:e.projet_id){const{data:t}=await fh.getById(e.projet_id);o(t)}}catch(e){console.error("Error loading beneficiaire:",e),jh.error("Erreur lors du chargement du bnficiaire"),t("/beneficiaires")}finally{f(!1)}},b=async()=>{try{const{data:e}=await xh.getHistorique(r);u(e)}catch(e){console.error("Error loading historique:",e)}},x=async()=>{try{const{data:e}=await lg.get(r);m(e)}catch(e){console.error("Error loading plan action:",e)}};return p?We.jsx(Nh,{message:"Chargement du dossier..."}):s?We.jsxs("div",{className:"beneficiaire-dossier-page",children:[We.jsxs("div",{className:"dossier-header",children:[We.jsx(th,{to:"/beneficiaires",label:"Retour  la liste"}),We.jsx("div",{className:"dossier-header-content",children:We.jsxs("div",{children:[We.jsx("h1",{children:"Dossier Bnficiaire"}),We.jsxs("h2",{children:[s.nom," ",s.prenom]}),l&&We.jsxs("div",{className:"dossier-projet-link",children:[We.jsx(eh,{name:"ArrowLeft",size:16}),We.jsx("button",{onClick:()=>t(`/projets/${l.id}`),children:l.nom})]})]})})]}),We.jsxs("div",{className:"dossier-tabs",children:[We.jsxs("button",{className:"dossier-tab "+("overview"===h?"active":""),onClick:()=>g("overview"),children:[We.jsx(eh,{name:"User",size:18}),"Vue d'ensemble"]}),We.jsxs("button",{className:"dossier-tab "+("historique"===h?"active":""),onClick:()=>g("historique"),children:[We.jsx(eh,{name:"Clock",size:18}),"Historique"]}),We.jsxs("button",{className:"dossier-tab "+("besoins"===h?"active":""),onClick:()=>g("besoins"),children:[We.jsx(eh,{name:"Target",size:18}),"Besoins identifis"]}),We.jsxs("button",{className:"dossier-tab "+("plan-action"===h?"active":""),onClick:()=>g("plan-action"),children:[We.jsx(eh,{name:"CheckCircle2",size:18}),"Plan d'action"]})]}),We.jsxs("div",{className:"dossier-content",children:["overview"===h&&We.jsxs("div",{className:"dossier-section",children:[We.jsx("h3",{children:"Informations personnelles"}),We.jsxs("div",{className:"info-grid",children:[s.email&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Mail",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Email"}),We.jsx("span",{children:s.email})]})]}),s.telephone&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Phone",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Tlphone"}),We.jsx("span",{children:s.telephone})]})]}),s.date_affectation&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Calendar",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Date d'affectation"}),We.jsx("span",{children:new Date(s.date_affectation).toLocaleDateString("fr-FR")})]})]}),l&&We.jsxs("div",{className:"info-item",children:[We.jsx(eh,{name:"Folder",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Projet"}),We.jsx("span",{children:l.nom})]})]})]}),We.jsx("h3",{children:"Intervenants assigns"}),We.jsxs("div",{className:"intervenants-list",children:[s.mentor&&We.jsxs("div",{className:"intervenant-item",children:[We.jsx(eh,{name:"Handshake",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Mentor"}),We.jsx("span",{children:s.mentor})]})]}),s.formateur&&We.jsxs("div",{className:"intervenant-item",children:[We.jsx(eh,{name:"GraduationCap",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Formateur"}),We.jsx("span",{children:s.formateur})]})]}),s.coach&&We.jsxs("div",{className:"intervenant-item",children:[We.jsx(eh,{name:"UserCircle",size:20}),We.jsxs("div",{children:[We.jsx("label",{children:"Coach"}),We.jsx("span",{children:s.coach})]})]}),!s.mentor&&!s.formateur&&!s.coach&&We.jsx(yh,{icon:"Users",title:"Aucun intervenant",message:"Aucun intervenant n'est encore assign  ce bnficiaire"})]})]}),"historique"===h&&We.jsxs("div",{className:"dossier-section",children:[We.jsx("h3",{children:"Historique complet"}),c?We.jsx("div",{className:"historique-timeline",children:c.etapes&&c.etapes.map((e,t)=>We.jsxs("div",{className:"timeline-item",children:[We.jsx("div",{className:"timeline-marker"}),We.jsxs("div",{className:"timeline-content",children:[We.jsx("h4",{children:e.type}),We.jsx("p",{children:e.description}),We.jsx("span",{className:"timeline-date",children:new Date(e.date).toLocaleDateString("fr-FR")})]})]},t))}):We.jsx(yh,{icon:"Clock",title:"Aucun historique",message:"L'historique de ce bnficiaire sera disponible ici"})]}),"besoins"===h&&We.jsx("div",{className:"dossier-section",children:We.jsx(dg,{beneficiaireId:r})}),"plan-action"===h&&We.jsx("div",{className:"dossier-section",children:We.jsx(og,{beneficiaireId:r,planAction:d,onUpdate:x})})]})]}):We.jsx(yh,{icon:"AlertCircle",title:"Bnficiaire introuvable",message:"Le bnficiaire demand n'existe pas ou a t supprim",action:{label:"Retour  la liste",onClick:()=>t("/beneficiaires")}})}function pg(){const[t,n]=e.useState(null),[r,a]=e.useState(null),[s,i]=e.useState(!0);return e.useEffect(()=>{var e;(async()=>{var e,t;try{const{data:{session:s}}=await Yf.getSession();if(null==s?void 0:s.user){n(s.user);try{const t=await Yf.getUserProfile(s.user.id);t.data?a(t.data):a({id:s.user.id,email:s.user.email,role:"ADMIN_SERIP",nom:(null==(e=s.user.email)?void 0:e.split("@")[0])||"Utilisateur",prenom:""})}catch(r){console.error("Error loading user profile:",r),a({id:s.user.id,email:s.user.email,role:"ADMIN_SERIP",nom:(null==(t=s.user.email)?void 0:t.split("@")[0])||"Utilisateur",prenom:""})}}}catch(r){console.error("Error loading user:",r)}finally{i(!1)}})();const t=Yf.onAuthStateChange(async(e,t)=>{var r,s;if(null==t?void 0:t.user){n(t.user);try{const e=await Yf.getUserProfile(t.user.id);e.data?a(e.data):a({id:t.user.id,email:t.user.email,role:"ADMIN_SERIP",nom:(null==(r=t.user.email)?void 0:r.split("@")[0])||"Utilisateur",prenom:""})}catch(i){console.error("Error loading user profile:",i),a({id:t.user.id,email:t.user.email,role:"ADMIN_SERIP",nom:(null==(s=t.user.email)?void 0:s.split("@")[0])||"Utilisateur"})}}else n(null),a(null)}),r=null==(e=null==t?void 0:t.data)?void 0:e.subscription;return()=>{r&&"function"==typeof r.unsubscribe&&r.unsubscribe()}},[]),{user:t,userProfile:r,loading:s,userId:(null==r?void 0:r.id)||(null==t?void 0:t.id)}}function fg(){const t=n(),{userId:r}=pg(),[a,s]=e.useState([]),[i,l]=e.useState(!0),[o,c]=e.useState({search:"",statut:""});e.useEffect(()=>{r&&u()},[o,r]);const u=async()=>{if(r){l(!0);try{const e=r,{data:t,error:n}=await xh.getByIntervenant(e,"MENTOR");if(n)jh.error("Erreur lors du chargement des bnficiaires"),console.error(n);else{let e=t||[];if(o.statut&&(e=e.filter(e=>e.statut===o.statut)),o.search){const t=o.search.toLowerCase();e=e.filter(e=>{var n,r,a;return(null==(n=e.nom)?void 0:n.toLowerCase().includes(t))||(null==(r=e.prenom)?void 0:r.toLowerCase().includes(t))||(null==(a=e.email)?void 0:a.toLowerCase().includes(t))})}s(e)}}catch(e){console.error("Error loading beneficiaires:",e),jh.error("Erreur lors du chargement des bnficiaires")}finally{l(!1)}}};return i?We.jsx(Nh,{message:"Chargement de vos bnficiaires..."}):We.jsxs("div",{className:"portail-mentor-page",children:[We.jsx("div",{className:"portail-header",children:We.jsxs("div",{className:"portail-header-top",children:[We.jsx(th,{to:"/dashboard",label:"Retour au tableau de bord"}),We.jsxs("div",{children:[We.jsx("h1",{children:"Portail Mentor"}),We.jsx("p",{children:"Grez vos bnficiaires assigns"})]})]})}),We.jsxs("div",{className:"portail-filters",children:[We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Recherche"}),We.jsx("input",{type:"text",placeholder:"Rechercher un bnficiaire...",value:o.search,onChange:e=>c({...o,search:e.target.value}),className:"input"})]}),We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Statut"}),We.jsxs("select",{value:o.statut,onChange:e=>c({...o,statut:e.target.value}),className:"input",children:[We.jsx("option",{value:"",children:"Tous"}),We.jsx("option",{value:"ACTIF",children:"Actif"}),We.jsx("option",{value:"EN_ACCOMPAGNEMENT",children:"En accompagnement"}),We.jsx("option",{value:"TERMINE",children:"Termin"})]})]})]}),We.jsxs("div",{className:"portail-stats",children:[We.jsxs("div",{className:"stat-card",children:[We.jsx(eh,{name:"Users",size:24}),We.jsxs("div",{children:[We.jsx("div",{className:"stat-value",children:a.length}),We.jsx("div",{className:"stat-label",children:"Bnficiaires assigns"})]})]}),We.jsxs("div",{className:"stat-card",children:[We.jsx(eh,{name:"CheckCircle2",size:24}),We.jsxs("div",{children:[We.jsx("div",{className:"stat-value",children:a.filter(e=>e.has_plan_action).length}),We.jsx("div",{className:"stat-label",children:"Avec plan d'action"})]})]})]}),0===a.length?We.jsx(yh,{icon:"Users",title:"Aucun bnficiaire assign",message:"Vous n'avez pas encore de bnficiaires assigns"}):We.jsx("div",{className:"portail-beneficiaires-grid",children:a.map(e=>We.jsxs("div",{className:"beneficiaire-card",children:[We.jsxs("div",{className:"beneficiaire-card-header",children:[We.jsxs("div",{children:[We.jsxs("h3",{children:[e.nom," ",e.prenom]}),e.projet_id&&We.jsxs("span",{className:"beneficiaire-projet",children:["Projet: ",e.projet_id]})]}),We.jsx("button",{className:"btn-icon",onClick:()=>t(`/beneficiaires/${e.id}`),title:"Voir le dossier",children:We.jsx(eh,{name:"Eye",size:18})})]}),We.jsxs("div",{className:"beneficiaire-card-body",children:[e.email&&We.jsxs("div",{className:"beneficiaire-info-item",children:[We.jsx(eh,{name:"Mail",size:16}),We.jsx("span",{children:e.email})]}),e.telephone&&We.jsxs("div",{className:"beneficiaire-info-item",children:[We.jsx(eh,{name:"Phone",size:16}),We.jsx("span",{children:e.telephone})]}),e.date_affectation&&We.jsxs("div",{className:"beneficiaire-info-item",children:[We.jsx(eh,{name:"Calendar",size:16}),We.jsxs("span",{children:["Affect le ",new Date(e.date_affectation).toLocaleDateString("fr-FR")]})]}),e.has_plan_action&&We.jsxs("div",{className:"beneficiaire-badge plan-action",children:[We.jsx(eh,{name:"CheckCircle2",size:12}),"Plan d'action disponible"]})]}),We.jsx("div",{className:"beneficiaire-card-actions",children:We.jsxs("button",{className:"btn btn-primary",onClick:()=>t(`/beneficiaires/${e.id}`),children:[We.jsx(eh,{name:"ArrowRight",size:18}),"Accder au dossier"]})})]},e.id))})]})}function hg(){const t=n(),{userId:r}=pg(),[a,s]=e.useState([]),[i,l]=e.useState(!0),[o,c]=e.useState({search:"",statut:""});e.useEffect(()=>{r&&u()},[o,r]);const u=async()=>{if(r){l(!0);try{const e=r,{data:t,error:n}=await xh.getByIntervenant(e,"FORMATEUR");if(n)jh.error("Erreur lors du chargement des bnficiaires"),console.error(n);else{let e=t||[];if(o.statut&&(e=e.filter(e=>e.statut===o.statut)),o.search){const t=o.search.toLowerCase();e=e.filter(e=>{var n,r,a;return(null==(n=e.nom)?void 0:n.toLowerCase().includes(t))||(null==(r=e.prenom)?void 0:r.toLowerCase().includes(t))||(null==(a=e.email)?void 0:a.toLowerCase().includes(t))})}s(e)}}catch(e){console.error("Error loading beneficiaires:",e),jh.error("Erreur lors du chargement des bnficiaires")}finally{l(!1)}}};return i?We.jsx(Nh,{message:"Chargement de vos bnficiaires..."}):We.jsxs("div",{className:"portail-formateur-page",children:[We.jsx("div",{className:"portail-header",children:We.jsxs("div",{className:"portail-header-top",children:[We.jsx(th,{to:"/dashboard",label:"Retour au tableau de bord"}),We.jsxs("div",{children:[We.jsx("h1",{children:"Portail Formateur"}),We.jsx("p",{children:"Grez vos bnficiaires assigns"})]})]})}),We.jsxs("div",{className:"portail-filters",children:[We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Recherche"}),We.jsx("input",{type:"text",placeholder:"Rechercher un bnficiaire...",value:o.search,onChange:e=>c({...o,search:e.target.value}),className:"input"})]}),We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Statut"}),We.jsxs("select",{value:o.statut,onChange:e=>c({...o,statut:e.target.value}),className:"input",children:[We.jsx("option",{value:"",children:"Tous"}),We.jsx("option",{value:"ACTIF",children:"Actif"}),We.jsx("option",{value:"EN_ACCOMPAGNEMENT",children:"En accompagnement"}),We.jsx("option",{value:"TERMINE",children:"Termin"})]})]})]}),We.jsxs("div",{className:"portail-stats",children:[We.jsxs("div",{className:"stat-card",children:[We.jsx(eh,{name:"Users",size:24}),We.jsxs("div",{children:[We.jsx("div",{className:"stat-value",children:a.length}),We.jsx("div",{className:"stat-label",children:"Bnficiaires assigns"})]})]}),We.jsxs("div",{className:"stat-card",children:[We.jsx(eh,{name:"GraduationCap",size:24}),We.jsxs("div",{children:[We.jsx("div",{className:"stat-value",children:a.filter(e=>e.has_plan_action).length}),We.jsx("div",{className:"stat-label",children:"Avec plan d'action"})]})]})]}),0===a.length?We.jsx(yh,{icon:"Users",title:"Aucun bnficiaire assign",message:"Vous n'avez pas encore de bnficiaires assigns"}):We.jsx("div",{className:"portail-beneficiaires-grid",children:a.map(e=>We.jsxs("div",{className:"beneficiaire-card",children:[We.jsxs("div",{className:"beneficiaire-card-header",children:[We.jsxs("div",{children:[We.jsxs("h3",{children:[e.nom," ",e.prenom]}),e.projet_id&&We.jsxs("span",{className:"beneficiaire-projet",children:["Projet: ",e.projet_id]})]}),We.jsx("button",{className:"btn-icon",onClick:()=>t(`/beneficiaires/${e.id}`),title:"Voir le dossier",children:We.jsx(eh,{name:"Eye",size:18})})]}),We.jsxs("div",{className:"beneficiaire-card-body",children:[e.email&&We.jsxs("div",{className:"beneficiaire-info-item",children:[We.jsx(eh,{name:"Mail",size:16}),We.jsx("span",{children:e.email})]}),e.telephone&&We.jsxs("div",{className:"beneficiaire-info-item",children:[We.jsx(eh,{name:"Phone",size:16}),We.jsx("span",{children:e.telephone})]}),e.date_affectation&&We.jsxs("div",{className:"beneficiaire-info-item",children:[We.jsx(eh,{name:"Calendar",size:16}),We.jsxs("span",{children:["Affect le ",new Date(e.date_affectation).toLocaleDateString("fr-FR")]})]}),e.has_plan_action&&We.jsxs("div",{className:"beneficiaire-badge plan-action",children:[We.jsx(eh,{name:"CheckCircle2",size:12}),"Plan d'action disponible"]})]}),We.jsx("div",{className:"beneficiaire-card-actions",children:We.jsxs("button",{className:"btn btn-primary",onClick:()=>t(`/beneficiaires/${e.id}`),children:[We.jsx(eh,{name:"ArrowRight",size:18}),"Accder au dossier"]})})]},e.id))})]})}function gg(){const t=n(),{userId:r}=pg(),[a,s]=e.useState([]),[i,l]=e.useState(!0),[o,c]=e.useState({search:"",statut:""});e.useEffect(()=>{r&&u()},[o,r]);const u=async()=>{if(r){l(!0);try{const e=r,{data:t,error:n}=await xh.getByIntervenant(e,"COACH");if(n)jh.error("Erreur lors du chargement des bnficiaires"),console.error(n);else{let e=t||[];if(o.statut&&(e=e.filter(e=>e.statut===o.statut)),o.search){const t=o.search.toLowerCase();e=e.filter(e=>{var n,r,a;return(null==(n=e.nom)?void 0:n.toLowerCase().includes(t))||(null==(r=e.prenom)?void 0:r.toLowerCase().includes(t))||(null==(a=e.email)?void 0:a.toLowerCase().includes(t))})}s(e)}}catch(e){console.error("Error loading beneficiaires:",e),jh.error("Erreur lors du chargement des bnficiaires")}finally{l(!1)}}};return i?We.jsx(Nh,{message:"Chargement de vos bnficiaires..."}):We.jsxs("div",{className:"portail-coach-page",children:[We.jsx("div",{className:"portail-header",children:We.jsxs("div",{className:"portail-header-top",children:[We.jsx(th,{to:"/dashboard",label:"Retour au tableau de bord"}),We.jsxs("div",{children:[We.jsx("h1",{children:"Portail Coach"}),We.jsx("p",{children:"Grez vos bnficiaires assigns"})]})]})}),We.jsxs("div",{className:"portail-filters",children:[We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Recherche"}),We.jsx("input",{type:"text",placeholder:"Rechercher un bnficiaire...",value:o.search,onChange:e=>c({...o,search:e.target.value}),className:"input"})]}),We.jsxs("div",{className:"filter-group",children:[We.jsx("label",{children:"Statut"}),We.jsxs("select",{value:o.statut,onChange:e=>c({...o,statut:e.target.value}),className:"input",children:[We.jsx("option",{value:"",children:"Tous"}),We.jsx("option",{value:"ACTIF",children:"Actif"}),We.jsx("option",{value:"EN_ACCOMPAGNEMENT",children:"En accompagnement"}),We.jsx("option",{value:"TERMINE",children:"Termin"})]})]})]}),We.jsxs("div",{className:"portail-stats",children:[We.jsxs("div",{className:"stat-card",children:[We.jsx(eh,{name:"Users",size:24}),We.jsxs("div",{children:[We.jsx("div",{className:"stat-value",children:a.length}),We.jsx("div",{className:"stat-label",children:"Bnficiaires assigns"})]})]}),We.jsxs("div",{className:"stat-card",children:[We.jsx(eh,{name:"UserCircle",size:24}),We.jsxs("div",{children:[We.jsx("div",{className:"stat-value",children:a.filter(e=>e.has_plan_action).length}),We.jsx("div",{className:"stat-label",children:"Avec plan d'action"})]})]})]}),0===a.length?We.jsx(yh,{icon:"Users",title:"Aucun bnficiaire assign",message:"Vous n'avez pas encore de bnficiaires assigns"}):We.jsx("div",{className:"portail-beneficiaires-grid",children:a.map(e=>We.jsxs("div",{className:"beneficiaire-card",children:[We.jsxs("div",{className:"beneficiaire-card-header",children:[We.jsxs("div",{children:[We.jsxs("h3",{children:[e.nom," ",e.prenom]}),e.projet_id&&We.jsxs("span",{className:"beneficiaire-projet",children:["Projet: ",e.projet_id]})]}),We.jsx("button",{className:"btn-icon",onClick:()=>t(`/beneficiaires/${e.id}`),title:"Voir le dossier",children:We.jsx(eh,{name:"Eye",size:18})})]}),We.jsxs("div",{className:"beneficiaire-card-body",children:[e.email&&We.jsxs("div",{className:"beneficiaire-info-item",children:[We.jsx(eh,{name:"Mail",size:16}),We.jsx("span",{children:e.email})]}),e.telephone&&We.jsxs("div",{className:"beneficiaire-info-item",children:[We.jsx(eh,{name:"Phone",size:16}),We.jsx("span",{children:e.telephone})]}),e.date_affectation&&We.jsxs("div",{className:"beneficiaire-info-item",children:[We.jsx(eh,{name:"Calendar",size:16}),We.jsxs("span",{children:["Affect le ",new Date(e.date_affectation).toLocaleDateString("fr-FR")]})]}),e.has_plan_action&&We.jsxs("div",{className:"beneficiaire-badge plan-action",children:[We.jsx(eh,{name:"CheckCircle2",size:12}),"Plan d'action disponible"]})]}),We.jsx("div",{className:"beneficiaire-card-actions",children:We.jsxs("button",{className:"btn btn-primary",onClick:()=>t(`/beneficiaires/${e.id}`),children:[We.jsx(eh,{name:"ArrowRight",size:18}),"Accder au dossier"]})})]},e.id))})]})}const vg={ADMIN_SERIP:"serip",CHEF_PROJET:"chef-projet",MENTOR:"mentor",FORMATEUR:"formateur",COACH:"coach"},bg={ADMIN_SERIP:"Administrateur SERIP-CAS",CHEF_PROJET:"Chef de Projet",MENTOR:"Mentor",FORMATEUR:"Formateur",COACH:"Coach"};function xg(e){return bg[e]||"Espace Utilisateur"}function jg({title:t,icon:n,items:a,defaultOpen:s=!1,storageKey:l}){const o=i(),[c,u]=e.useState(s),d=a.some(e=>o.pathname===e.path);e.useEffect(()=>{d&&u(!0)},[d]),e.useEffect(()=>{if(l){const e=localStorage.getItem(`sidebar_group_${l}`);null!==e?u("true"===e):d&&u(!0)}else d&&u(!0)},[l,d]);return We.jsxs("div",{className:`sidebar-group ${c?"sidebar-group--open":""} ${d?"sidebar-group--active":""}`,children:[We.jsxs("button",{className:"sidebar-group__header",onClick:()=>{const e=!c;u(e),l&&localStorage.setItem(`sidebar_group_${l}`,e.toString())},type:"button",children:[We.jsxs("div",{className:"sidebar-group__header-content",children:[We.jsx(eh,{name:n,size:20}),We.jsx("span",{className:"sidebar-group__title",children:t})]}),We.jsx(eh,{name:"",size:16,className:"sidebar-group__chevron "+(c?"sidebar-group__chevron--open":"")})]}),We.jsx("div",{className:"sidebar-group__content "+(c?"sidebar-group__content--open":""),children:a.map(e=>{const t=o.pathname===e.path;return We.jsxs(r,{to:e.path,className:"sidebar-group__item "+(t?"sidebar-group__item--active":""),children:[We.jsx(eh,{name:e.icon,size:18}),We.jsx("span",{children:e.label}),t&&We.jsx("div",{className:"sidebar-group__item-indicator"})]},e.path)})})]})}function yg({role:e}){const t=i(),n=(e=>{const t={standalone:[{path:"/dashboard",label:"Tableau de bord",icon:"BarChart3"}],groups:[]};return"ADMIN_SERIP"!==e&&"CHEF_PROJET"!==e||(t.groups=[{title:"Programmes & Projets",icon:"Briefcase",storageKey:"programmes_projets",items:[{path:"/programmes",label:"Programmes",icon:"ClipboardList"},{path:"/projets",label:"Projets",icon:"Folder"}]},{title:"Candidatures",icon:"Sparkles",storageKey:"candidatures",items:[{path:"/appels-candidatures",label:"Appels  candidatures",icon:"Bell"},{path:"/candidats",label:"Pipeline candidats",icon:"Sparkles"}]},{title:"Bnficiaires",icon:"Users",storageKey:"beneficiaires",items:[{path:"/beneficiaires",label:"Liste bnficiaires",icon:"Users"}]},{title:"Portails Intervenants",icon:"UserCircle",storageKey:"portails_intervenants",items:[{path:"/portail-mentor",label:"Portail Mentor",icon:"Handshake"},{path:"/portail-formateur",label:"Portail Formateur",icon:"GraduationCap"},{path:"/portail-coach",label:"Portail Coach",icon:"UserCircle"}]},{title:"Reporting & Analytics",icon:"TrendingUp",storageKey:"reporting",items:[{path:"/rapports",label:"Rapports",icon:"TrendingUp"}]},{title:"Administration",icon:"Settings",storageKey:"administration",items:[{path:"/parametres",label:"Paramtres",icon:"Settings"}]}]),"MENTOR"===e&&(t.groups=[{title:"Mon Portail",icon:"Handshake",storageKey:"portail_mentor",items:[{path:"/portail-mentor",label:"Mes bnficiaires",icon:"Users"}]}]),"FORMATEUR"===e&&(t.groups=[{title:"Mon Portail",icon:"GraduationCap",storageKey:"portail_formateur",items:[{path:"/portail-formateur",label:"Mes bnficiaires",icon:"Users"}]}]),"COACH"===e&&(t.groups=[{title:"Mon Portail",icon:"UserCircle",storageKey:"portail_coach",items:[{path:"/portail-coach",label:"Mes bnficiaires",icon:"Users"}]}]),t})(e||"ADMIN_SERIP");return We.jsxs("aside",{className:"app__sidebar",children:[We.jsxs("div",{style:{padding:"1.5rem 1.5rem 1rem 1.5rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"0.5rem"},children:[We.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[We.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"var(--radius-lg)",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:We.jsx(eh,{name:"Building2",size:24,color:"rgba(255, 255, 255, 0.9)"})}),We.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,color:"var(--sidebar-text)",margin:0},children:"SERIP-CAS"})]}),We.jsx("p",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.8)",margin:0,fontWeight:500},children:xg(e)})]}),We.jsxs("nav",{className:"sidebar-nav",children:[n.standalone.map(e=>{const n=(a=e.path,t.pathname===a);var a;return We.jsxs(r,{to:e.path,className:"sidebar-item "+(n?"sidebar-item--active":""),children:[We.jsx(eh,{name:e.icon,size:20}),We.jsx("span",{children:e.label})]},e.path)}),n.groups.map(e=>We.jsx(jg,{title:e.title,icon:e.icon,items:e.items,storageKey:e.storageKey},e.storageKey))]})]})}function Ng({user:e,onLogout:t}){return We.jsxs("header",{className:"app__header",children:[We.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[We.jsx(eh,{name:"Building2",size:18,color:"var(--color-gray-600)"}),We.jsx("h1",{style:{fontSize:"1.125rem",fontWeight:600,color:"var(--color-gray-900)",margin:0},children:"SERIP-CAS ERP"})]}),We.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[We.jsxs("div",{style:{textAlign:"right"},children:[We.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:"var(--color-gray-900)"},children:(null==e?void 0:e.nom)||(null==e?void 0:e.prenom)||(null==e?void 0:e.email)||"Utilisateur"}),We.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-gray-500)"},children:(null==e?void 0:e.role)||"Utilisateur"})]}),We.jsx("button",{onClick:t,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",fontSize:"0.875rem"},children:"Dconnexion"})]})]})}function Sg({toast:t,onClose:n}){const[r,a]=e.useState(!1),[s,i]=e.useState(!1);e.useEffect(()=>{if(setTimeout(()=>a(!0),10),t.duration>0){const e=setTimeout(()=>{l()},t.duration);return()=>clearTimeout(e)}},[t.duration]);const l=()=>{i(!0),setTimeout(()=>{n()},300)};return We.jsxs("div",{className:`toast toast--${t.type} ${r?"toast--visible":""} ${s?"toast--leaving":""}`,role:"alert","aria-live":"polite",children:[We.jsx("div",{className:"toast__icon",children:(()=>{switch(t.type){case"success":return We.jsx(w,{size:20});case"error":return We.jsx($e,{size:20});case"warning":return We.jsx(E,{size:20});default:return We.jsx(N,{size:20})}})()}),We.jsx("div",{className:"toast__content",children:We.jsx("p",{className:"toast__message",children:t.message})}),We.jsx("button",{className:"toast__close",onClick:l,"aria-label":"Fermer la notification",children:We.jsx(_,{size:16})})]})}function _g(){const[t,n]=e.useState([]);return e.useEffect(()=>jh.subscribe(e=>{n(e)}),[]),0===t.length?null:We.jsx("div",{className:"toast-container","aria-live":"polite","aria-atomic":"true",children:t.map(e=>We.jsx(Sg,{toast:e,onClose:()=>jh.remove(e.id)},e.id))})}function wg({children:t,user:r}){const[a,s]=e.useState(null),[i,l]=e.useState(!0),o=n();e.useEffect(()=>{r&&(r.role||r.email?(s(r),l(!1)):c())},[r]);const c=async()=>{var e;try{if(!(null==r?void 0:r.id))return void l(!1);const{data:t,error:n}=await Yf.getUserProfile(r.id);t?s(t):n&&!(null==(e=n.message)?void 0:e.includes("Pas de session"))&&console.error("Error fetching user profile:",n)}catch(t){console.error("Error:",t)}finally{l(!1)}};if(i)return We.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:We.jsx("div",{className:"spinner"})});const u=(null==a?void 0:a.role)||"ADMIN_SERIP",d=function(e){return vg[e]||"serip"}(u);return We.jsxs("div",{className:`app theme-${d}`,children:[We.jsx(_g,{}),We.jsxs("div",{className:"app__layout",children:[We.jsx(yg,{role:u}),We.jsxs("div",{className:"app__main",children:[We.jsx(Ng,{user:a||r,onLogout:async()=>{await Yf.signOut(),o("/login")}}),We.jsx("div",{className:"app__content",children:t})]})]})]})}function Cg(){const[t,n]=e.useState(null),[r,a]=e.useState(null),[s,i]=e.useState(!0);return e.useEffect(()=>{var e;const t=setTimeout(()=>{s&&(console.warn("Session check timeout, setting loading to false"),i(!1))},5e3);(async()=>{var e,t;try{const{data:{session:s}}=await Yf.getSession();if(null==s?void 0:s.user){n(s.user);try{const t=await Yf.getUserProfile(s.user.id);t.data?a(t.data):a({id:s.user.id,email:s.user.email,role:"ADMIN_SERIP",nom:(null==(e=s.user.email)?void 0:e.split("@")[0])||"Utilisateur",prenom:""})}catch(r){console.error("Error loading user profile:",r),a({id:s.user.id,email:s.user.email,role:"ADMIN_SERIP",nom:(null==(t=s.user.email)?void 0:t.split("@")[0])||"Utilisateur",prenom:""})}}}catch(r){console.error("Error checking session:",r)}finally{i(!1)}})();const r=Yf.onAuthStateChange(async(e,t)=>{var r,s;if(null==t?void 0:t.user){n(t.user);try{const e=await Yf.getUserProfile(t.user.id);e.data?a(e.data):a({id:t.user.id,email:t.user.email,role:"ADMIN_SERIP",nom:(null==(r=t.user.email)?void 0:r.split("@")[0])||"Utilisateur",prenom:""})}catch(i){console.error("Error loading user profile:",i),a({id:t.user.id,email:t.user.email,role:"ADMIN_SERIP",nom:(null==(s=t.user.email)?void 0:s.split("@")[0])||"Utilisateur"})}}else n(null),a(null)}),l=null==(e=null==r?void 0:r.data)?void 0:e.subscription;return()=>{clearTimeout(t),l&&"function"==typeof l.unsubscribe&&l.unsubscribe()}},[s]),s?We.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:We.jsx("div",{className:"spinner"})}):We.jsx(l,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:We.jsxs(o,{children:[We.jsx(c,{path:"/",element:t?We.jsx(u,{to:"/dashboard"}):We.jsx(u,{to:"/login"})}),We.jsx(c,{path:"/login",element:t?We.jsx(u,{to:"/dashboard"}):We.jsx(nh,{})}),We.jsx(c,{path:"/register",element:t?We.jsx(u,{to:"/dashboard"}):We.jsx(rh,{})}),We.jsx(c,{path:"/*",element:t?We.jsx(wg,{user:r||t,children:We.jsxs(o,{children:[We.jsx(c,{path:"/dashboard",element:We.jsx(uh,{})}),We.jsx(c,{path:"/programmes",element:We.jsx(_h,{})}),We.jsx(c,{path:"/programmes/new",element:We.jsx(Rh,{})}),We.jsx(c,{path:"/programmes/:id",element:We.jsx(Ih,{})}),We.jsx(c,{path:"/programmes/:id/edit",element:We.jsx(Rh,{})}),We.jsx(c,{path:"/projets",element:We.jsx(Mh,{})}),We.jsx(c,{path:"/projets/new",element:We.jsx($h,{})}),We.jsx(c,{path:"/projets/:id",element:We.jsx(Gh,{})}),We.jsx(c,{path:"/projets/:id/edit",element:We.jsx($h,{})}),We.jsx(c,{path:"/appels-candidatures",element:We.jsx(Hh,{})}),We.jsx(c,{path:"/appels-candidatures/new",element:We.jsx(Kh,{})}),We.jsx(c,{path:"/appels-candidatures/:id",element:We.jsx(Qh,{})}),We.jsx(c,{path:"/appels-candidatures/:id/edit",element:We.jsx(Kh,{})}),We.jsx(c,{path:"/candidats",element:We.jsx(Xh,{})}),We.jsx(c,{path:"/candidats/new",element:We.jsx(Yh,{})}),We.jsx(c,{path:"/candidats/:id",element:We.jsx(rg,{})}),We.jsx(c,{path:"/candidats/:id/edit",element:We.jsx(Yh,{})}),We.jsx(c,{path:"/beneficiaires",element:We.jsx(ag,{})}),We.jsx(c,{path:"/beneficiaires/new",element:We.jsx(sg,{})}),We.jsx(c,{path:"/beneficiaires/:id",element:We.jsx(mg,{})}),We.jsx(c,{path:"/beneficiaires/:id/edit",element:We.jsx(sg,{})}),We.jsx(c,{path:"/portail-mentor",element:We.jsx(fg,{})}),We.jsx(c,{path:"/portail-formateur",element:We.jsx(hg,{})}),We.jsx(c,{path:"/portail-coach",element:We.jsx(gg,{})}),We.jsx(c,{path:"*",element:We.jsx(u,{to:"/dashboard"})})]})}):We.jsx(u,{to:"/login"})})]})})}Wf.createRoot(document.getElementById("root")).render(We.jsx(e.StrictMode,{children:We.jsx(Cg,{})}));
